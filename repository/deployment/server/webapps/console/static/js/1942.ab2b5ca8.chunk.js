"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[1942],{21942:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ae});var i=n(17901),o=n(55007),r=n(6567),a=n(25134),l=n(90302),s=n(40838),u=n(76271),c=n(43974),d=n(46666),m=n(75120),v=n(8955),f=n(9183),p=n(7231),g=n(36558),E=n(73269),h=n(78965),A=n(92e3),S=n(81908),R=n(82555),T=n(66796),y=n(6643),C=n(38463),I=n(58613),b=n(6833),U=n(82406),N=n(78132),L=n(47513),P=n(50699),_=n(44194),O=n(10479),D=n(47245),k=n(89141),w=n(26154),M=n(10909),x=n(47625),X=n(81389),j=n(5939),F=n(15997),V=n(41355),Q=n(86105),Z=n(12638),G=n(37077),$=n(11063);function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],s=!0,u=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return B(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var H=function(e){var t,n,i=e.adminType,r=e.adminRoleId,a=e.advancedSearch,u=e.defaultListItemLimit,c=e.onUserDelete,d=e.isLoading,v=e.readOnlyUserStores,p=e.featureConfig,g=e.onColumnSelectionChange,E=e.onListItemClick,h=e.onSearchQueryClear,S=e.realmConfigs,T=e.searchQuery,C=e.selection,I=e.showListItemActions,L=e.onboardedGuestUsersList,P=e.associationType,k=e["data-componentid"],M=(0,O.$)().t,x=(0,D.I0)(),X=(0,o.EV)(null==p||null===(t=p.users)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.update),j=(0,o.EV)(null==p||null===(n=p.users)||void 0===n||null===(n=n.scopes)||void 0===n?void 0:n.delete),B=z((0,_.useState)(!1),2),H=B[0],W=B[1],q=z((0,_.useState)(void 0),2),Y=q[0],K=q[1],J=z((0,N.ZK)(),3),ee=J[0],te=J[1],ne=J[2],ie=z((0,_.useState)({}),2),oe=ie[0],re=ie[1],ae=z((0,_.useState)(!1),2),le=ae[0],se=ae[1],ue=(0,D.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.username})),ce=(0,D.v9)((function(e){return e.auth.isPrivilegedUser})),de=(0,D.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.primaryUserStoreDomainName})),me=(0,o.Ac)(m.Z.SAAS_FEATURES_IDENTIFIER),ve=(0,D.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t||null===(t=t.userRolesV3)||void 0===t?void 0:t.enabled})),fe=ve?f.q$:f.dB;(0,_.useEffect)((function(){re(L||{})}),[L]);var pe=function(e){"id"in e&&s.m.push($.k.getPaths().get("COLLABORATOR_USER_EDIT_PATH").replace(":id",e.id)),"value"in e&&s.m.push($.k.getPaths().get("COLLABORATOR_USER_EDIT_PATH").replace(":id",e.value))},ge=function(e){var t;return i===R.lu.EXTERNAL&&(null===(t=e[V.k.scim.systemSchema])||void 0===t?void 0:t.userAccountType)===R.sk.OWNER?_.createElement(G.Z,{size:"small"},"Owner"):null},Ee=function(e){return i===R.lu.INTERNAL||(null==ue?void 0:ue.split("@").length)<3?null:(null==ue?void 0:ue.split("@").slice(0,2).join("@"))===(0,Q.WX)(null==e?void 0:e.userName)?_.createElement(G.Z,{size:"small"},"Me"):null},he=function(){return T&&0===(null==oe?void 0:oe.totalResults)?_.createElement(N.$J,{action:_.createElement(N.Qj,{onClick:h},M("users:usersList.search.emptyResultPlaceholder.clearButton")),image:(0,F.jF)().emptySearch,imageSize:"tiny",title:M("users:usersList.search.emptyResultPlaceholder.title"),subtitle:[M("users:usersList.search.emptyResultPlaceholder.subTitle.0",{query:T}),M("users:usersList.search.emptyResultPlaceholder.subTitle.1")]}):0===(null==oe?void 0:oe.totalResults)?_.createElement(N.$J,{"data-componentid":"".concat(k,"-empty-placeholder"),image:(0,F.jF)().newList,imageSize:"tiny",subtitle:["There are no administrator users associated with your organization at the moment."]}):null};return _.createElement(_.Fragment,null,_.createElement(N.wQ,{className:"users-table",externalSearch:a,isLoading:d,loadingStateOptions:{count:null!=u?u:l.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,imageType:"circular"},actions:function(){if(I){var e=[{"data-componentid":"administrators-list-item-edit-button",hidden:function(){return!(0,Q.cr)(null==p?void 0:p.users,R._F.FEATURE_DICTIONARY.get("USER_READ"))},icon:function(e){var t,n,o=(null==e||null===(t=e.userName)||void 0===t?void 0:t.split("/").length)>1?null==e||null===(n=e.userName)||void 0===n?void 0:n.split("/")[0]:de;return!X||!(0,Q.cr)(null==p?void 0:p.users,R._F.FEATURE_DICTIONARY.get("USER_UPDATE"))||null!=v&&v.includes(o.toString())||i===R.lu.EXTERNAL?"eye":"pencil alternate"},onClick:function(e,t){return pe(t)},popupText:function(e){var t,n,o=(null==e||null===(t=e.userName)||void 0===t?void 0:t.split("/").length)>1?null==e||null===(n=e.userName)||void 0===n?void 0:n.split("/")[0]:de;return!X||!(0,Q.cr)(null==p?void 0:p.users,R._F.FEATURE_DICTIONARY.get("USER_UPDATE"))||null!=v&&v.includes(o.toString())||i===R.lu.EXTERNAL?M("common:view"):M("common:edit")},renderer:"semantic-icon"}];return e.push({"data-componentid":"administrators-list-item-delete-button",hidden:function(e){var t,n,o=(null==e||null===(t=e.userName)||void 0===t?void 0:t.split("/").length)>1?null==e||null===(n=e.userName)||void 0===n?void 0:n.split("/")[0]:de;return!(0,Q.cr)(null==p?void 0:p.users,R._F.FEATURE_DICTIONARY.get("USER_DELETE"))||ce||!j||(null==v?void 0:v.includes(o.toString()))||i===R.lu.EXTERNAL&&((0,Q.WX)(null==e?void 0:e.userName)===(null==S?void 0:S.adminUser)||(null==ue?void 0:ue.includes((0,Q.WX)(null==e?void 0:e.userName))))||P===R._F.GUEST_ADMIN_ASSOCIATION_TYPE},icon:function(){return"trash alternate"},onClick:function(e,t){W(!0),K(t)},popupText:function(){return M("users:usersList.list.iconPopups.delete")},renderer:"semantic-icon"}),e}}(),columns:function(){var e=[{allowToggleVisibility:!1,dataIndex:"name",id:"name",key:"name",render:function(e){var t,n,i,o=(0,Q.WX)(null==e?void 0:e.userName),r=y.QH.resolveUserListSubheader(e),a=void 0!==(null===(t=e.name)||void 0===t?void 0:t.familyName)||void 0!==(null===(n=e.name)||void 0===n?void 0:n.givenName);return _.createElement(Z.Z,{image:!0,as:"h6",className:"header-with-icon","data-componentid":"".concat(k,"-item-heading")},_.createElement(N.Yt,{"data-componentid":"users-list-item-image",name:(null===(i=e.userName.split("/"))||void 0===i?void 0:i.length)>1?e.userName.split("/")[1]:e.userName.split("/")[0],size:"mini",image:e.profileUrl,spaced:"right","data-hj-suppress":""}),_.createElement(Z.Z.Content,null,o,ge(e),Ee(e),a&&_.createElement(Z.Z.Subheader,{"data-componentid":"".concat(k,"-item-sub-heading")},r)))},title:"User"}];if(me===o.iK.ENABLED){var t={allowToggleVisibility:!1,dataIndex:"idpType",id:"idpType",key:"idpType",render:function(e){var t,n,i,o;return null!==(t=e[V.k.scim.systemSchema])&&void 0!==t&&t.idpType?(null===(n=e[V.k.scim.systemSchema])||void 0===n?void 0:n.idpType.split("/").length)>1?null===(o=e[V.k.scim.systemSchema])||void 0===o?void 0:o.idpType.split("/")[1]:null===(i=e[V.k.scim.systemSchema])||void 0===i?void 0:i.idpType:"N/A"},title:_.createElement(_.Fragment,null,_.createElement("div",{className:"header-with-popup"},_.createElement("span",null,M("extensions:manage.users.list.columns.idpType")),_.createElement(N.GI,{trigger:_.createElement("div",{className:"inline"},_.createElement(w.Z,{disabled:!0,name:"info circle",className:"link pointing pl-1"})),content:M("extensions:manage.users.list.popups.content.idpTypeContent"),position:"top center",size:"mini",hideOnScroll:!0,inverted:!0})))};e.push(t)}e.push({allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:""});var n=[{allowToggleVisibility:!1,dataIndex:"name",id:"name",key:"name",render:function(e){var t,n=(null===(t=e.display.split("/"))||void 0===t?void 0:t.length)>1?e.display.split("/")[1]:e.display.split("/")[0];return _.createElement(Z.Z,{image:!0,as:"h6",className:"header-with-icon","data-componentid":"".concat(k,"-item-heading")},_.createElement(N.Yt,{"data-componentid":"users-list-item-image",name:n,size:"mini",spaced:"right","data-hj-suppress":""}),_.createElement(Z.Z.Content,null,n))},title:"User"},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:""}];return i===R.lu.INTERNAL?n:e}(),data:oe.Resources,onColumnSelectionChange:g,onRowClick:function(e,t){pe(t),E&&E(e,t)},placeholders:he(),selectable:C,showHeader:me===o.iK.ENABLED,transparent:!d&&null!==he(),"data-componentid":k}),Y&&_.createElement(N.cV,{primaryActionLoading:le,"data-componentid":"".concat(k,"-confirmation-modal"),onClose:function(){return W(!1)},type:"negative",open:H,assertionHint:M("user:deleteUser.confirmationModal.assertionHint"),assertionType:"checkbox",primaryAction:"Confirm",secondaryAction:"Cancel",onSecondaryActionClick:function(){W(!1),te(null)},onPrimaryActionClick:function(){se(!0),function(e){var t,n,i=null!==(t=e[V.k.scim.systemSchema])&&void 0!==t&&t.userAccountType?null===(n=e[V.k.scim.systemSchema])||void 0===n?void 0:n.userAccountType:R.sk.CUSTOMER;if(i===R.sk.COLLABORATOR&&"id"in e)return(0,A.e8)(e.id).then((function(){x((0,U.V_)({description:M("invite:notifications.deleteInvite.success.description"),level:b.QU.SUCCESS,message:M("users:notifications.deleteUser.success.message")})),c()})).catch((function(e){e.response&&e.response.data&&e.response.data.description?x((0,U.V_)({description:e.response.data.description,level:b.QU.ERROR,message:M("users:notifications.deleteUser.error.message")})):x((0,U.V_)({description:M("users:notifications.deleteUser.genericError.description"),level:b.QU.ERROR,message:M("users:notifications.deleteUser.genericError.message")}))})).finally((function(){se(!1),W(!1),K(void 0)}));if(i===R.sk.CUSTOMER){var o="value"in e?null==e?void 0:e.value:"id"in e?null==e?void 0:e.id:void 0,a=ve?"value eq ".concat(o):"users[value eq ".concat(o,"]");fe(r,{Operations:[{op:"remove",path:a,value:{}}],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]}).then((function(){x((0,U.V_)({description:M("users:notifications.revokeAdmin.success.description"),level:b.QU.SUCCESS,message:M("users:notifications.revokeAdmin.success.message")})),c()})).catch((function(e){var t,n;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.description?x((0,U.V_)({description:null==e||null===(n=e.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.description,level:b.QU.ERROR,message:M("users:notifications.revokeAdmin.error.message")})):x((0,U.V_)({description:M("users:notifications.revokeAdmin.genericError.description"),level:b.QU.ERROR,message:M("users:notifications.revokeAdmin.genericError.message")}))})).finally((function(){se(!1),W(!1),K(void 0)}))}}(Y)},closeOnDimmerClick:!1},_.createElement(N.cV.Header,{"data-componentid":"".concat(k,"-confirmation-modal-header")},M("user:deleteUser.confirmationModal.header")),_.createElement(N.cV.Message,{"data-componentid":"".concat(k,"-confirmation-modal-message"),attached:!0,negative:!0},M("extensions:manage.guest.deleteUser.confirmationModal.message")),_.createElement(N.cV.Content,{"data-componentid":"".concat(k,"-confirmation-modal-content")},_.createElement("div",{className:"modal-alert-wrapper"}," ",ee&&ne),M("extensions:manage.guest.deleteUser.confirmationModal.content"))))};H.defaultProps={selection:!0,showListItemActions:!0,showMetaContent:!0};var W=n(83053),q=n(59133);function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},K.apply(null,arguments)}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Y(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Y(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],s=!0,u=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ie(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var oe=function(e){return e[e.EXTERNAL_ADMINS=0]="EXTERNAL_ADMINS",e[e.INTERNAL_ADMINS=1]="INTERNAL_ADMINS",e}(oe||{}),re=function(e){var t,n,F=e.location,V=e["data-componentid"],Q=new URLSearchParams(F.search),Z=(0,O.$)().t,G=(0,D.I0)(),z=(0,N.fQ)().getLink,B=(0,o.Ac)(m.Z.SAAS_FEATURES_IDENTIFIER),Y=X.c,J=(0,I.Z)(),te=J.isLoading,ie=J.userStoresList,re=(0,D.v9)((function(e){return e.config.ui.features})),ae=(0,D.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.deployment)||void 0===t?void 0:t.clientHost})),le=(0,D.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.username})),se=(0,D.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.deployment)||void 0===t?void 0:t.tenant})),ue=(0,D.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.tenants})),ce=(0,D.v9)((function(e){return e.config.ui.features.guestUser})),de=(0,D.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.primaryUserStoreDomainName})),me=(0,o.EV)(null==ce||null===(t=ce.scopes)||void 0===t?void 0:t.create),ve=ne((0,_.useState)(void 0),2),fe=ve[0],pe=ve[1],ge=ne((0,_.useState)(""),2),Ee=ge[0],he=ge[1],Ae=ne((0,_.useState)(""),2),Se=Ae[0],Re=Ae[1],Te=ne((0,_.useState)(0),2),ye=Te[0],Ce=Te[1],Ie=ne((0,_.useState)(l.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),2),be=Ie[0],Ue=Ie[1],Ne=ne((0,_.useState)(l.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT+1),2),Le=Ne[0],Pe=Ne[1],_e=ne((0,_.useState)(0),2),Oe=_e[0],De=_e[1],ke=ne((0,_.useState)(0),2),we=ke[0],Me=ke[1],xe=ne((0,_.useState)(!1),2),Xe=xe[0],je=xe[1],Fe=ne((0,_.useState)(!1),2),Ve=Fe[0],Qe=Fe[1],Ze=ne((0,_.useState)(T.XC.ACCEPTED),2),Ge=Ze[0],$e=Ze[1],ze=ne((0,_.useState)(!1),2),Be=ze[0],He=ze[1],We=ne((0,_.useState)([]),2),qe=We[0],Ye=We[1],Ke=ne((0,_.useState)([]),2),Je=Ke[0],et=Ke[1],tt=ne((0,_.useState)([]),2),nt=tt[0],it=tt[1],ot=ne((0,_.useState)([]),2),rt=ot[0],at=ot[1],lt=ne((0,_.useState)(!1),2),st=lt[0],ut=lt[1],ct=ne((0,_.useState)(!0),2),dt=ct[0],mt=ct[1],vt=ne((0,_.useState)(R.lu.INTERNAL),2),ft=vt[0],pt=vt[1],gt=ne((0,_.useState)(C.XS),2),Et=gt[0],ht=gt[1],At=ne((0,_.useState)(null),2),St=At[0],Rt=At[1],Tt=ne((0,_.useState)(!1),2),yt=Tt[0],Ct=Tt[1],It=ne((0,_.useState)(!1),2),bt=It[0],Ut=It[1],Nt=ne((0,_.useState)(!1),2),Lt=Nt[0],Pt=Nt[1],_t=ne((0,_.useState)(!1),2),Ot=_t[0],Dt=_t[1],kt=ne((0,_.useState)(!1),2),wt=kt[0],Mt=kt[1],xt=ne((0,_.useState)(!1),2),Xt=xt[0],jt=xt[1],Ft=ne((0,_.useState)(!1),2),Vt=Ft[0],Qt=Ft[1],Zt=ne((0,_.useState)(oe.EXTERNAL_ADMINS),2),Gt=Zt[0],$t=Zt[1],zt=ne((0,_.useState)([]),2),Bt=zt[0],Ht=zt[1],Wt=ne((0,_.useState)(""),2),qt=Wt[0],Yt=Wt[1],Kt=ne((0,_.useState)(""),2),Jt=Kt[0],en=Kt[1],tn=ne((0,_.useState)({}),2),nn=tn[0],on=tn[1],rn=ne((0,_.useState)({Resources:[],itemsPerPage:l.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,startIndex:0,totalResults:0}),2),an=rn[0],ln=rn[1],sn=ne((0,_.useState)({Resources:[],itemsPerPage:l.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,startIndex:0,totalResults:0}),2),un=sn[0],cn=sn[1],dn=(0,D.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t||null===(t=t.userRolesV3)||void 0===t?void 0:t.enabled})),mn=(0,g.b)(dn?qt:null),vn=mn.data,fn=mn.error,pn=mn.mutate,gn=(0,_.useCallback)((function(e){return dn?new Promise((function(e,t){vn?e({data:vn}):fn?t(fn):pn().then((function(t){e({data:t})})).catch(t)})):(0,f.xQ)(e)}),[dn,vn,fn,pn]),En=u.h.getState().auth.tenantDomain,hn=c.l.getInstance(),An=R._F.GROUPS_ATTRIBUTE,Sn=Y(En,{revalidateIfStale:!0},B===o.iK.ENABLED),Rn=Sn.data,Tn=Sn.isLoading,yn=Sn.isValidating,Cn=Sn.error,In=(0,A.WW)(Le,ye+1,""===Ee?null:Ee,null,de,An,!d.$.enableAdminInvite||Ge===T.XC.ACCEPTED),bn=In.data,Un=In.isLoading,Nn=In.error,Ln=In.mutate,Pn=(0,A.J7)(d.$.enableAdminInvite),_n=Pn.data,On=Pn.isLoading,Dn=Pn.error,kn=Pn.mutate,wn=(0,r.Ok)(null,null,null,"name eq Console").data,Mn=(0,_.useMemo)((function(){var e;return null==wn||null===(e=wn.applications[0])||void 0===e?void 0:e.id}),[wn]),xn=(0,E.yA)(),Xn=xn.data,jn=xn.error;(0,_.useEffect)((function(){var e=[],t=null==ie?void 0:ie.filter((function(e){return e.enabled})).map((function(t,n){return t.typeName===$.k.READONLY_USERSTORE_TYPE_NAME&&(e.push(t.name.toUpperCase()),Rt(t.id)),{key:n,text:t.name.toUpperCase(),value:t.name.toUpperCase()}}));Ht(t),at(e),Pt(t.length<=1)}),[te,ie]),(0,_.useEffect)((function(){return qn(),Fn(),en((0,h.q)(ue,se)),T.XC.ACCEPTED.toUpperCase()===Ge.toUpperCase()&&(Zn&&0!=Zn.totalResults||((null==_n?void 0:_n.filter((function(e){return e.status===T.XC.PENDING.toUpperCase()})).length)>0?($e(T.XC.PENDING),He(!0)):(null==_n?void 0:_n.filter((function(e){return e.status===T.XC.EXPIRED.toUpperCase()})).length)>0&&($e(T.XC.EXPIRED),He(!0)))),function(){$e(T.XC.ACCEPTED),He(!0)}}),[Mn]),(0,_.useEffect)((function(){Ut(null==Rn?void 0:Rn.isEnterpriseLoginEnabled)}),[Tn,yn]),(0,_.useEffect)((function(){var e,t,n,i,o,r,a;Nn&&(null!=Nn&&null!==(e=Nn.response)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.description?G((0,U.V_)({description:null!==(t=null!==(n=null==Nn||null===(i=Nn.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.description)&&void 0!==n?n:null==Nn||null===(o=Nn.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.detail)&&void 0!==t?t:Z("users:notifications.fetchUsers.error.description"),level:b.QU.ERROR,message:null!==(r=null==Nn||null===(a=Nn.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.message)&&void 0!==r?r:Z("users:notifications.fetchUsers.error.message")})):G((0,U.V_)({description:Z("users:notifications.fetchUsers.genericError.description"),level:b.QU.ERROR,message:Z("users:notifications.fetchUsers.genericError.message")})))}),[Nn]),(0,_.useEffect)((function(){var e,t,n,i,o,r,a;Dn&&(null!=Dn&&null!==(e=Dn.response)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.description?G((0,U.V_)({description:null!==(t=null!==(n=null==Dn||null===(i=Dn.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.description)&&void 0!==n?n:null==Dn||null===(o=Dn.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.detail)&&void 0!==t?t:Z("users:notifications.fetchUsers.error.description"),level:b.QU.ERROR,message:null!==(r=null==Dn||null===(a=Dn.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.message)&&void 0!==r?r:Z("users:notifications.fetchUsers.error.message")})):G((0,U.V_)({description:Z("users:notifications.fetchUsers.genericError.description"),level:b.QU.ERROR,message:Z("users:notifications.fetchUsers.genericError.message")})))}),[Dn]),(0,_.useEffect)((function(){var e,t,n,i,o,r,a;jn&&(null!=jn&&null!==(e=jn.response)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.description?G((0,U.V_)({description:null!==(t=null!==(n=null==jn||null===(i=jn.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.description)&&void 0!==n?n:null==jn||null===(o=jn.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.detail)&&void 0!==t?t:Z("users:notifications.fetchUsers.error.description"),level:b.QU.ERROR,message:null!==(r=null==jn||null===(a=jn.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.message)&&void 0!==r?r:Z("users:notifications.fetchUsers.error.message")})):G((0,U.V_)({description:Z("users:notifications.fetchUsers.genericError.description"),level:b.QU.ERROR,message:Z("users:notifications.fetchUsers.genericError.message")})))}),[jn]),(0,_.useEffect)((function(){var e,t,n,i,o,r,a;Cn&&(null!=Cn&&null!==(e=Cn.response)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.description?G((0,U.V_)({description:null!==(t=null!==(n=null==Cn||null===(i=Cn.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.description)&&void 0!==n?n:null==Cn||null===(o=Cn.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.detail)&&void 0!==t?t:Z("extensions:manage.users.administratorSettings.error.description"),level:b.QU.ERROR,message:null!==(r=null==Cn||null===(a=Cn.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.message)&&void 0!==r?r:Z("extensions:manage.users.administratorSettings.error.message")})):G((0,U.V_)({description:Z("extensions:manage.users.administratorSettings.genericError.description"),level:b.QU.ERROR,message:Z("extensions:manage.users.administratorSettings.genericError.message")})))}),[Cn]),(0,_.useEffect)((function(){if(Ge!==T.XC.ACCEPTED){if(Ce(0),"email co "===Ee||""===Ee||null===Ee)return Ye(_n),void it([]);if(Ee){var e=_n;if(nt.length>0&&(e=nt),Ee.includes("email sw ")){var t=Ee.split("sw ")[1];e=e.filter((function(e){return e.email.startsWith(t)}))}else if(Ee.includes("email ew ")){var n=Ee.split("ew ")[1];e=e.filter((function(e){return e.email.endsWith(n)}))}else if(Ee.includes("email eq ")){var i=Ee.split("eq ")[1];e=e.filter((function(e){return e.email===i}))}else if(Ee.includes("email co ")){var o=Ee.split("co ")[1];e=e.filter((function(e){return e.email.includes(o)}))}Ye(e),it(e)}}}),[Ee]),(0,_.useEffect)((function(){if(Ge!==T.XC.ACCEPTED){var e=null==qe?void 0:qe.filter((function(e){return e.status===Ge.toUpperCase()}));e.length>be?(e=e.slice(ye,ye+be),et(e),ut(e.length===be)):(et(e),ut(!1))}}),[qe,ye,be,Be]),(0,_.useEffect)((function(){Ye(_n)}),[_n]),(0,_.useEffect)((function(){Be&&(Ce(0),Ue(l.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),Bn(),He(!1))}),[Be]),(0,_.useEffect)((function(){Q.get($.k.USER_CREATE_WIZARD_TRIGGER_URL_SEARCH_PARAM_KEY)&&(hn.publish("manage-users-click-create-new",{type:"collaborator"}),Qe(!0))}),[Q.get($.k.USER_CREATE_WIZARD_TRIGGER_URL_SEARCH_PARAM_KEY)]),(0,_.useEffect)((function(){Gt===oe.INTERNAL_ADMINS&&Yn()}),[Gt,qt,yt]),(0,_.useEffect)((function(){Vn()}),[St]),(0,_.useEffect)((function(){var e,t,n,i,o=ee({},nn);(Et!==C.XS&&(o=ee({},an)),(0,P.Z)(Se))||(o.Resources=null===(i=o)||void 0===i?void 0:i.Resources.filter((function(e){var t;return-1!==(null==e||null===(t=e.display)||void 0===t?void 0:t.split("/")[1]).indexOf(Se)})));var r=null===(e=o)||void 0===e||null===(e=e.Resources)||void 0===e?void 0:e.slice(ye,ye+be);Gt!==oe.EXTERNAL_ADMINS&&(0,P.Z)(r)&&Ce(0),Qt((null===(t=o)||void 0===t||null===(t=t.Resources)||void 0===t?void 0:t.length)>ye+be),cn({Resources:r,itemsPerPage:be,startIndex:ye,totalResults:null===(n=o)||void 0===n||null===(n=n.Resources)||void 0===n?void 0:n.length}),Mt(!1)}),[nn,an,ye,be,Et,Se]);var Fn=function(){if(Mn){var e={filter:"displayName eq "+d.$.adminRoleName+" and audience.value eq "+Mn,schemas:["urn:ietf:params:scim:api:messages:2.0:SearchRequest"],startIndex:0};(0,f.QW)(e).then((function(e){var t;if((null==e||null===(t=e.data)||void 0===t?void 0:t.Resources.length)>0){var n,i,o=null==e||null===(n=e.data)||void 0===n||null===(n=n.Resources[0])||void 0===n?void 0:n.id;if((null==e||null===(i=e.data)||void 0===i||null===(i=i.Resources)||void 0===i?void 0:i.length)>1){var r,a,l=null==e||null===(r=e.data)||void 0===r||null===(r=r.Resources)||void 0===r?void 0:r.filter((function(e){var t;return(null==e||null===(t=e.audience)||void 0===t?void 0:t.type)===p.cv.APPLICATION}));if((null==l?void 0:l.length)>0)o=null===(a=l[0])||void 0===a?void 0:a.id}Yt(o)}})).catch((function(e){e.response&&e.response.data&&e.response.data.description?G((0,U.V_)({description:e.response.data.description,level:b.QU.ERROR,message:Z("users:notifications.getAdminRole.error.message")})):G((0,U.V_)({description:Z("users:notifications.getAdminRole.genericError.description"),level:b.QU.ERROR,message:Z("users:notifications.getAdminRole.genericError.message")}))}))}},Vn=function(){(0,P.Z)(St)||(0,v.$X)(St).then((function(e){e.forEach((function(e){e.connected&&Ct(!0)}))})).catch((function(e){G((0,U.V_)({description:(null==e?void 0:e.description)||Z("userstores:notifications.fetchUserstores.genericError.description"),level:b.QU.ERROR,message:(null==e?void 0:e.message)||Z("userstores:notifications.fetchUserstores.genericError.message")}))}))},Qn=function(e,t){ht(t.value),Dt(null==rt?void 0:rt.includes(t.value.toString().toUpperCase())),Ce(0),Ue(l.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),Mt(!0),De(0)},Zn=(0,_.useMemo)((function(){return function(e){var t,n,i;if(e){var o=(0,L.Z)(e),r=[];o.Resources=null==o||null===(t=o.Resources)||void 0===t?void 0:t.map((function(e){if(!(0,W.VN)(e))return null;if((0,W.mF)(e)&&y.QH.isAuthenticatedUser(le,null==e?void 0:e.userName))return r[0]=e,null;if(y.QH.isAuthenticatedUser(le,null==e?void 0:e.userName))return r[0]=e,null;if((0,W.mF)(e))return r[1]=e,null;var t=null;if((null==e?void 0:e.emails)instanceof Array){var n=null==e?void 0:e.emails[0];t="string"==typeof n?n:null==n?void 0:n.value}return e.emails=[t],e}));var a=function(e,t){var n,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=(0,L.Z)(e);return(null===(n=r.Resources)||void 0===n?void 0:n.length)>be?(null===(i=r.Resources)||void 0===i||i.splice(-1,o),pe(!0)):pe(!1),r};o.Resources=r.concat(o.Resources).filter((function(e){return null!=e}));var l,s,u=(null==e||null===(n=e.Resources)||void 0===n?void 0:n.length)-(null===(i=o.Resources)||void 0===i?void 0:i.length)-Oe,c={};return u>0&&(null==e?void 0:e.itemsPerPage)>=Le&&(null==e?void 0:e.totalResults)>=Le?(Pe(Le+u),De((null==e||null===(l=e.Resources)||void 0===l?void 0:l.length)-(null===(s=o.Resources)||void 0===s?void 0:s.length)),c=a(o,Le-u,1)):c=a(o,Le,1),c}}(bn)}),[bn]),Gn=function(e,t){var n=t.activePage;we>n?(Ce((n-1)*be),Pe(be+1)):Ce((n-1)*be+Oe),Me(n),De(0)},$n=function(e,t){De(0),Ue(t.value)},zn=[{key:1,text:"Accepted",value:"Accepted"},{key:2,text:"Pending",value:"Pending"},{key:3,text:"Expired",value:"Expired"}],Bn=function(){je(!Xe),he(""),Re("")},Hn=function(e){if(Gt!==oe.INTERNAL_ADMINS){if(he(e),Ge===T.XC.ACCEPTED){if("userName sw "===e)return void he(null);he(e)}}else Re(null==e?void 0:e.trim())},Wn=function(e,t){$e(t.value),He(!0)},qn=function(){var e=re.users.disabledFeatures;mt(null==e?void 0:e.includes($.k.FEATURE_DICTIONARY.get("ADVANCED_USER_MGT")))},Yn=function(){var e=[],t=[];jt(!0),(0,P.Z)(qt)||(on({Resources:[],itemsPerPage:l.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,startIndex:0,totalResults:0}),ln({Resources:[],itemsPerPage:l.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,startIndex:0,totalResults:0}),gn(qt).then((function(n){var i;(null==n||null===(i=n.data)||void 0===i?void 0:i.users).forEach((function(n){var i=n.display.split("/");i.length>1&&(i[0]===C.XS?e.push(n):t.push(n))})),on({Resources:e,itemsPerPage:l.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,startIndex:0,totalResults:e.length}),yt&&ln({Resources:t,itemsPerPage:l.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,startIndex:0,totalResults:t.length}),jt(!0)})).catch((function(e){var t,n,i,o,r,a,l;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.description?G((0,U.V_)({description:null!==(n=null!==(i=null==e||null===(o=e.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.description)&&void 0!==i?i:null==e||null===(r=e.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.detail)&&void 0!==n?n:Z("users:notifications.fetchUsers.error.description"),level:b.QU.ERROR,message:null!==(a=null==e||null===(l=e.response)||void 0===l||null===(l=l.data)||void 0===l?void 0:l.message)&&void 0!==a?a:Z("users:notifications.fetchUsers.error.message")})):G((0,U.V_)({description:Z("users:notifications.fetchUsers.genericError.description"),level:b.QU.ERROR,message:Z("users:notifications.fetchUsers.genericError.message")}))})).finally((function(){jt(!1)})))},Kn=_.createElement(_.Fragment,null,_.createElement(N.KM,{"data-componentid":"".concat(V,"-add-admin-button"),onClick:function(){hn.publish("admins-click-add-new-button")},className:"tablet or lower hidden"},_.createElement(w.Z,{name:"add"}),Z("extensions:manage.users.buttons.addCollaboratorBtn"),_.createElement(w.Z,{name:"dropdown",className:"ml-3 mr-0"})),_.createElement(M.Z,{"data-componentid":"".concat(V,"-add-admin-button"),icon:"add",onClick:function(){hn.publish("admins-click-add-new-button")},className:"mobile only tablet only",primary:!0})),Jn=[{"data-componentid":"admins-add-external-admin",key:1,text:"Invite admins to Asgardeo",value:R.lu.EXTERNAL},{"data-componentid":"admins-add-internal-admin",key:2,text:"Assign admins from users",value:R.lu.INTERNAL}];me&&Jn.push();var ei,ti=function(e,t){$e(T.XC.ACCEPTED),$t(t.activeIndex),Bn()},ni=function(){var e;return _.createElement(N.PS,{className:"mt-5",advancedSearch:_.createElement(a.n,{onFilter:Hn,filterAttributeOptions:Ge===T.XC.ACCEPTED?[{key:0,text:Z("users:advancedSearch.form.dropdown.filterAttributeOptions.username"),value:"userName"},{key:1,text:Z("users:advancedSearch.form.dropdown.filterAttributeOptions.email"),value:"emails"},{key:2,text:"First Name",value:"name.givenName"},{key:3,text:"Last Name",value:"name.familyName"}]:[{key:0,text:Z("users:advancedSearch.form.dropdown.filterAttributeOptions.email"),value:"email"}],filterAttributePlaceholder:Z("users:advancedSearch.form.inputs.filterAttribute. placeholder"),filterConditionsPlaceholder:Z("users:advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:Z("users:advancedSearch.form.inputs.filterValue.placeholder"),placeholder:Z("users:advancedSearch.placeholder"),defaultSearchAttribute:Ge===T.XC.ACCEPTED?"userName":"email",defaultSearchOperator:"co",triggerClearQuery:Xe}),currentListSize:Ge===T.XC.ACCEPTED?null==Zn||null===(e=Zn.Resources)||void 0===e?void 0:e.length:null==Je?void 0:Je.length,listItemLimit:be,onItemsPerPageDropdownChange:$n,"data-componentid":"".concat(V,"-list-layout"),onPageChange:Gn,showPagination:!0,showTopActionPanel:!0,showPaginationPageLimit:!Ot,totalPages:Ge===T.XC.ACCEPTED?Math.ceil((null==Zn?void 0:Zn.totalResults)/be):Math.ceil((null==qe?void 0:qe.length)/be),totalListSize:Ge===T.XC.ACCEPTED?null==Zn?void 0:Zn.totalResults:null==qe?void 0:qe.length,isLoading:Ge===T.XC.ACCEPTED&&Un||d.$.enableAdminInvite&&On,onSearchQueryClear:Bn,resetPagination:Be,paginationOptions:{disableNextButton:Ge===T.XC.ACCEPTED?!fe:!st},disableRightActionPanel:!0,leftActionPanel:d.$.enableAdminInvite&&_.createElement(x.Z,{"data-componentid":"".concat(V,"-list-userstore-dropdown"),selection:!0,options:zn&&zn,onChange:Wn,text:"Filter by: ".concat(Ge),disabled:Ge===T.XC.ACCEPTED&&Un||d.$.enableAdminInvite&&On})},Ge===T.XC.ACCEPTED&&_.createElement(H,{advancedSearch:_.createElement(a.n,{onFilter:Hn,filterAttributeOptions:[{key:0,text:Z("users:advancedSearch.form.dropdown.filterAttributeOptions.username"),value:"userName"},{key:1,text:Z("users:advancedSearch.form.dropdown.filterAttributeOptions.email"),value:"emails"}],filterAttributePlaceholder:Z("users:advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:Z("users:advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:Z("users:advancedSearch.form.inputs.filterValue.placeholder"),placeholder:Z("users:advancedSearch.placeholder"),defaultSearchAttribute:"userName",defaultSearchOperator:"co",triggerClearQuery:Xe}),onboardedGuestUsersList:Zn,userMetaListContent:null,realmConfigs:null==Xn?void 0:Xn.realmConfig,onEmptyListPlaceholderActionClick:function(){return Qe(!0)},onSearchQueryClear:Bn,searchQuery:Ee,"data-componentid":"".concat(V,"-list"),readOnlyUserStores:null,featureConfig:re,onUserDelete:function(){Ln()},adminType:R.lu.EXTERNAL,adminRoleId:qt}),Ge===T.XC.PENDING&&_.createElement(j.F,{invitationStatusOption:Ge,onEmptyListPlaceholderActionClick:function(){return Qe(!0)},onboardedGuestUserList:Zn,onSearchQueryClear:Bn,guestUsersList:Je,getGuestUsersList:function(){return kn()},searchQuery:Ee}),Ge===T.XC.EXPIRED&&_.createElement(j.F,{invitationStatusOption:Ge,onEmptyListPlaceholderActionClick:function(){return Qe(!0)},onboardedGuestUserList:Zn,onSearchQueryClear:Bn,guestUsersList:null==Je?void 0:Je.filter((function(e){return e.status===T.XC.EXPIRED.toUpperCase()})),getGuestUsersList:function(){return kn()},searchQuery:Ee}))},ii=function(){var e;return _.createElement(N.PS,{className:"mt-5",advancedSearch:_.createElement(a.n,{disableSearchFilterDropdown:!0,onFilter:Hn,filterAttributeOptions:[{key:0,text:Z("users:advancedSearch.form.dropdown.filterAttributeOptions.email"),value:"emails"}],placeholder:Z("users:advancedSearch.placeholder"),defaultSearchAttribute:"",defaultSearchOperator:"",triggerClearQuery:Xe}),currentListSize:null==un||null===(e=un.Resources)||void 0===e?void 0:e.length,listItemLimit:be,onItemsPerPageDropdownChange:$n,"data-componentid":"".concat(V,"-list-layout"),onPageChange:Gn,showPagination:!0,showTopActionPanel:!0,showPaginationPageLimit:!Ot,totalPages:Math.ceil((null==un?void 0:un.totalResults)/be),totalListSize:null==un?void 0:un.totalResults,isLoading:Xt,onSearchQueryClear:Bn,resetPagination:wt,paginationOptions:{disableNextButton:!Vt},leftActionPanel:Lt?null:_.createElement(x.Z,{"data-componentid":"".concat(V,"-userstore-dropdown"),selection:!0,options:Bt,onChange:Qn,text:Et,loading:te})},_.createElement(H,{onboardedGuestUsersList:un,userMetaListContent:null,realmConfigs:null==Xn?void 0:Xn.realmConfig,onEmptyListPlaceholderActionClick:function(){return Qe(!0)},onSearchQueryClear:Bn,searchQuery:Se,"data-componentid":"".concat(V,"-list"),readOnlyUserStores:null,featureConfig:re,onUserDelete:function(){Yn()},adminType:R.lu.INTERNAL,adminRoleId:qt,associationType:Jt}))},oi=function(){return d.$.enableAdminInvite&&On||B===o.iK.ENABLED&&(yn||Tn)};return _.createElement(N.Xg,{pageTitle:"Administrators",action:B===o.iK.ENABLED&&Tn?_.createElement("div",null):_.createElement(o.di,{when:null==re||null===(n=re.users)||void 0===n||null===(n=n.scopes)||void 0===n?void 0:n.create},B===o.iK.ENABLED&&!dt&&_.createElement(M.Z,{"data-componentid":"".concat(V,"-admin-settings-button"),icon:i.UG,onClick:function(){s.m.push($.k.getPaths().get("COLLABORATOR_SETTINGS_EDIT_PATH"))}}),bt&&!dt?_.createElement(x.Z,{loading:oi(),disabled:oi(),"data-componentid":"".concat(V,"-add-admin-dropdown"),direction:"left",floating:!0,icon:null,trigger:Kn},_.createElement(x.Z.Menu,null,Jn.map((function(e){return _.createElement(x.Z.Item,K({key:e.value,onClick:function(){return t=e.value,void(dt||t!==R.lu.INTERNAL?t===R.lu.EXTERNAL&&(hn.publish("admins-click-create-new",{type:"external admin"}),pt(R.lu.EXTERNAL),Qe(!0)):(hn.publish("admins-click-create-new",{type:"internal admin"}),pt(R.lu.INTERNAL),Qe(!0)));var t}},e,{disabled:!bt}))})))):_.createElement(_.Fragment,null,_.createElement(N.KM,{loading:oi(),disabled:oi(),"data-componentid":"".concat(V,"-add-admin-button"),onClick:function(){hn.publish("admins-click-add-new-button"),pt(R.lu.EXTERNAL),Qe(!0)},className:"tablet or lower hidden"},_.createElement(w.Z,{name:"add"}),Z("extensions:manage.users.buttons.addCollaboratorBtn")),_.createElement(M.Z,{loading:oi(),disabled:oi(),"data-componentid":"".concat(V,"-add-admin-button"),icon:"add",onClick:function(){hn.publish("admins-click-add-new-button"),pt(R.lu.EXTERNAL),Qe(!0)},className:"mobile only tablet only",primary:!0}))),title:Z("extensions:manage.users.collaboratorsTitle"),description:_.createElement(_.Fragment,null,Z("extensions:manage.users.collaboratorsSubTitle"),_.createElement(N.eb,{link:z("manage.users.collaboratorAccounts.learnMore")},Z("common:learnMore"))),contentTopMargin:!1,"data-componentid":"".concat(V,"-page-layout"),actionColumnWidth:8,headingColumnWidth:8},_.createElement(N.pJ,{className:"mt-0 mb-5"},_.createElement(k.Z,{verticalAlign:"middle"},_.createElement(k.Z.Column,{floated:"left",width:9},_.createElement(N.xv,{className:"message-info-text"},_.createElement("p",null," ",Z("extensions:manage.users.collaboratorAccounts.consoleInfo")," "))),_.createElement(k.Z.Column,{floated:"right",width:6},_.createElement(N.OR,{value:ae,"data-componentid":"".concat(V,"-tenanted-console-link")})))),bt&&!dt?_.createElement(N.M$,{activeIndex:Gt,"data-testid":"".concat(V,"-administrator-tabs"),defaultActiveIndex:0,onTabChange:ti,panes:(ei=[],ei.push({componentId:"external-admins",menuItem:{content:"Asgardeo"},render:ni}),ei.push({componentId:"internal-admins",menuItem:{content:se+" organization"},render:ii}),ei)}):ni(),Ve?d.$.enableAdminInvite?_.createElement(q.S,{"data-componentid":"".concat(V,"-add-admin-wizard-modal"),closeWizard:function(){Qe(!1)},onInvitationSendSuccessful:function(){kn(),hn.publish("manage-users-finish-creating-collaborator-user"),ft===R.lu.EXTERNAL&&($e(T.XC.PENDING),$t(oe.EXTERNAL_ADMINS)),ft===R.lu.INTERNAL&&($e(T.XC.ACCEPTED),$t(oe.INTERNAL_ADMINS)),He(!0)},adminTypeSelection:ft,onUserUpdate:function(){ft===R.lu.EXTERNAL&&($t(oe.EXTERNAL_ADMINS),Ln()),ft===R.lu.INTERNAL&&($e(T.XC.ACCEPTED),$t(oe.INTERNAL_ADMINS),Yn())}}):_.createElement(S.G,{"data-componentid":"".concat(V,"-add-admin-wizard-modal"),closeWizard:function(){Qe(!1)},listOffset:ye,listItemLimit:be,updateList:function(){return kn()},rolesList:[],emailVerificationEnabled:!1,isAdminUser:!0,defaultUserTypeSelection:R.sk.ADMINISTRATOR,onSuccessfulUserAddition:function(){return null}}):null)};re.defaultProps={"data-componentid":"asgardeo-administrators"};const ae=re},8955:(e,t,n)=>{n.d(t,{$X:()=>u,RA:()=>d,ef:()=>m,uv:()=>c});var i=n(2292),o=n(76271),r=n(38463),a=n(6833),l="Resource not found.",s=i.AsgardeoSPAClient.getInstance().httpRequest.bind(i.AsgardeoSPAClient.getInstance()),u=function(e){var t={headers:{Accept:"application/json","Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.f2.GET,url:"".concat(o.h.getState().config.endpoints.onPremUserStoreAgentConnection,"/").concat(e)};return s(t).then((function(e){return 200!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t,n;if((null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)!==l)return Promise.reject(null==e||null===(n=e.response)||void 0===n?void 0:n.data)}))},c=function(e,t,n){var i=n===r.uD.RemoteUserStoreManager?"".concat(o.h.getState().config.endpoints.remoteUserStoreAgentConnection,"/").concat(e,"/agent/").concat(t):"".concat(o.h.getState().config.endpoints.onPremUserStoreAgentConnection,"/").concat(e,"/agent/").concat(t),u={headers:{Accept:"application/json","Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.f2.DELETE,url:i};return s(u).then((function(e){return 204!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t,n;if((null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)!==l)return Promise.reject(null==e||null===(n=e.response)||void 0===n?void 0:n.data)}))},d=function(e,t){var n=t===r.uD.RemoteUserStoreManager?"".concat(o.h.getState().config.endpoints.remoteUserStoreAgentToken,"/").concat(e):o.h.getState().config.endpoints.onPremUserStoreAgentToken,i={data:t===r.uD.RemoteUserStoreManager?{}:{userStoreId:e},headers:{Accept:"application/json","Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.f2.POST,url:n};return s(i).then((function(e){return 200!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t,n;if((null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)!==l)return Promise.reject(null==e||null===(n=e.response)||void 0===n?void 0:n.data)}))},m=function(e,t,n){var i=n===r.uD.RemoteUserStoreManager?"".concat(o.h.getState().config.endpoints.remoteUserStoreAgentToken,"/").concat(t,"/regenerate"):"".concat(o.h.getState().config.endpoints.onPremUserStoreAgentToken,"/regenerate"),u={data:n===r.uD.RemoteUserStoreManager?{existingTokenId:e}:{existingTokenId:e,userStoreId:t},headers:{Accept:"application/json","Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.f2.POST,url:i};return s(u).then((function(e){return 200!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t,n;if((null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)!==l)return Promise.reject(null==e||null===(n=e.response)||void 0===n?void 0:n.data)}))}},36558:(e,t,n)=>{n.d(t,{b:()=>a});var i=n(96124),o=n(76271),r=n(6833),a=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={headers:{Accept:"application/json","Content-Type":"application/json"},method:r.f2.GET,url:"".concat(o.h.getState().config.endpoints.rolesV3,"/").concat(e)},a=(0,i.Z)(e&&t?n:null);return{data:a.data,error:a.error,isLoading:a.isLoading,isValidating:a.isValidating,mutate:a.mutate,response:a.response}}},78965:(e,t,n)=>{n.d(t,{q:()=>i});var i=function(e,t){var n="";if((null==e?void 0:e.length)>0){var i=e.find((function(e){return e.domain===t}));i&&(n=i.associationType)}return n}}}]);