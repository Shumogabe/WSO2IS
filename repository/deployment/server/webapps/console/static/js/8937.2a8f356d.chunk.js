"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[8937],{27044:(e,t,n)=>{n.d(t,{Z:()=>E});var r=n(25340),i=n(55467),o=n(44194),a=n(14517),l=n(87883),s=n(62808),u=n(49706),c=n(99769),d=n(90757);function m(e){return(0,d.ZP)("MuiTableContainer",e)}(0,c.Z)("MuiTableContainer",["root"]);var f=n(31549);const p=["className","component"],v=(0,u.ZP)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),E=o.forwardRef((function(e,t){const n=(0,s.Z)({props:e,name:"MuiTableContainer"}),{className:o,component:u="div"}=n,c=(0,i.Z)(n,p),d=(0,r.Z)({},n,{component:u}),E=(e=>{const{classes:t}=e;return(0,l.Z)({root:["root"]},m,t)})(d);return(0,f.jsx)(v,(0,r.Z)({ref:t,as:u,className:(0,a.Z)(E.root,o),ownerState:d},c))}))},22230:(e,t,n)=>{n.d(t,{W:()=>v});var r=n(25134),i=n(15997),o=n(90302),a=n(78132),l=n(44194),s=n(10479),u=n(12638),c=n(37077),d=n(47625),m=n(7231);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var v=function(e){var t=e.totalRoleList,n=e.emptyRolesListPlaceholder,p=e["data-componentid"],v=(0,s.$)().t,E=f((0,l.useState)(o.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),2),h=E[0],g=E[1],y=f((0,l.useState)(!0),2),S=y[0],b=y[1],C=f((0,l.useState)(!1),2),A=C[0],I=C[1],_=f((0,l.useState)(void 0),2),O=_[0],R=_[1],M=f((0,l.useState)(void 0),2),w=M[0],U=M[1],N=f((0,l.useState)(0),2),T=N[0],L=N[1],P=f((0,l.useState)(void 0),2),D=P[0],Z=P[1],x=f((0,l.useState)(void 0),2),H=x[0],V=x[1],k=[{key:void 0,text:v("roles:list.filterOptions.all"),value:void 0},{key:m.cv.APPLICATION,text:v("roles:list.filterOptions.applicationRoles"),value:m.cv.APPLICATION},{key:m.cv.ORGANIZATION,text:v("roles:list.filterOptions.organizationRoles"),value:m.cv.ORGANIZATION}];(0,l.useEffect)((function(){t&&(U(t),b(!1))}),[t]),(0,l.useEffect)((function(){var e=t;if(H&&(e=e.filter((function(e){return e.audienceType.toUpperCase()===H}))),D){var n=D.split("co")[1].trim().toLowerCase();e=e.filter((function(e){return e.display.toLowerCase().includes(n)}))}U(e)}),[D,H]),(0,l.useEffect)((function(){R(Y(w))}),[T,h,w]);var Y=function(e){return(null==e?void 0:e.length)>=0?e.slice(T,T+h):[]};return l.createElement(a.PS,{advancedSearch:l.createElement(r.n,{"data-componentid":"".concat(p,"-list-advanced-search"),onFilter:function(e){L(0),I(!0),Z(e)},disableSearchFilterDropdown:!0,filterAttributeOptions:[{key:0,text:v("roles:list.filterAttirbutes.name"),value:"displayName"}],filterAttributePlaceholder:v("roles:advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:v("roles:advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:v("roles:advancedSearch.form.inputs.filterValue.placeholder"),placeholder:v("roles:advancedSearch.placeholder"),defaultSearchAttribute:"displayName",defaultSearchOperator:"co"}),listItemLimit:h,onItemsPerPageDropdownChange:function(e,t){g(t.value)},onPageChange:function(e,t){var n,r=null!==(n=null==t?void 0:t.activePage)&&void 0!==n?n:1;L((r-1)*h)},showTopActionPanel:!0,rightActionPanel:l.createElement(d.Z,{"data-componentid":"".concat(p,"-list-filters-dropdown"),selection:!0,options:k,placeholder:v("roles:list.buttons.filterDropdown"),onChange:function(e,t){L(0),I(!0),V(t.value)}}),showPagination:(null==w?void 0:w.length)>0,totalPages:Math.ceil((null==w?void 0:w.length)/h),totalListSize:null==w?void 0:w.length,isLoading:S,resetPagination:A},l.createElement(a.wQ,{loadingStateOptions:{imageType:"square"},columns:[{allowToggleVisibility:!1,dataIndex:"name",id:"name",key:"name",render:function(e){return l.createElement(u.Z,{image:!0,as:"h6",className:"header-with-icon","data-componentid":"".concat(p,"-item-heading")},l.createElement(a.JT,{image:l.createElement(a.Xo,{name:e.display,size:"mini","data-componentid":"".concat(p,"-item-image-inner")}),size:"mini",spaced:"right","data-componentid":"".concat(p,"-item-image")}),l.createElement(u.Z.Content,null,null==e?void 0:e.display))},title:v("roles:list.columns.name")},{allowToggleVisibility:!1,dataIndex:"audience",id:"audience",key:"audience",render:function(e){return l.createElement(c.Z,{size:"mini"},e.audienceType,e.audienceType.toUpperCase()===m.cv.APPLICATION?" | ".concat(e.audienceDisplay," "):"")},title:l.createElement("div",{className:"pl-3"},v("roles:list.columns.audience"))},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:null}],data:O,onRowClick:function(){},placeholders:(D||H)&&0===(null==O?void 0:O.length)?l.createElement(a.$J,{"data-componentid":"".concat(p,"-search-empty-placeholder"),image:(0,i.jF)().emptySearch,imageSize:"tiny",title:v("roles:readOnlyList.emptyPlaceholders.searchAndFilter.title"),subtitle:[v("roles:readOnlyList.emptyPlaceholders.searchAndFilter.subtitles.0"),v("roles:readOnlyList.emptyPlaceholders.searchAndFilter.subtitles.1")]}):0===(null==O?void 0:O.length)?n:null,"data-componentid":p}))};v.defaultProps={"data-componentid":"read-only-roles-list"}},9779:(e,t,n)=>{n.d(t,{A:()=>o,H:()=>i});var r=n(7231),i=function(e,t,n){var r=t.shift(),o=n.find((function(e){return e.name===r}));return o||(o={key:e.resourcePath,name:r,title:e.displayName},n.push(o)),t.length&&i(e,t,o.children||(o.children=[])),n},o=function(e,t){return!(!e||!t)&&(e===r.nL.IMPERSONATOR_ROLE_NAME&&t===r.nL.MY_ACCOUNT_APP_NAME)}},78965:(e,t,n)=>{n.d(t,{q:()=>r});var r=function(e,t){var n="";if((null==e?void 0:e.length)>0){var r=e.find((function(e){return e.domain===t}));r&&(n=r.associationType)}return n}},73237:(e,t,n)=>{n.d(t,{I:()=>tn});var r=n(87172),i=n(55007),o=n(17800),a=n(70104),l=n(60486),s=n(40838),u=n(51021),c=n(46666),d=n(9183),m=n(73269),f=n(78965),p=n(36940),v=n(86105),E=n(6833),h=n(82406),g=n(16590),y=n(78132),S=n(50699),b=n(44194),C=n(10479),A=n(47245),I=n(62508),_=n(54274),O=n(21385),R=n(49581),M=n(10319),w=n(33839),U=n(96334),N=n(59673),T=n(89141),L=n(26154),P=n(47018),D=n(92e3),Z=n(6643);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function H(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=x(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==x(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||k(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){if(e){if("string"==typeof e)return Y(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var j=function(e){var t,n=e.onAlertFired,r=e.user,o=e.handleUserUpdate,a=e.openChangePasswordModal,c=e.handleCloseChangePasswordModal,d=e.connectorProperties,f=e.handleForcePasswordResetTrigger,p=e.isResetPassword,v=void 0===p||p,h=e["data-testid"],S=(0,C.$)().t,I=V((0,b.useState)(void 0),2),x=I[0],Y=I[1],j=V((0,b.useState)(!0),2),F=j[0],G=j[1],B=V((0,b.useState)(void 0),2),q=B[0],W=B[1],Q=V((0,b.useState)(""),2),K=Q[0],z=Q[1],$=V((0,b.useState)("setPassword"),2),X=$[0],J=$[1],ee=V((0,b.useState)(O.M.EMAIL_LINK),2),te=ee[0],ne=ee[1],re=V((0,U.cC)(),2),ie=re[0],oe=re[1],ae=V((0,b.useState)(void 0),2),le=ae[0],se=ae[1],ue=V((0,b.useState)(!1),2),ce=ue[0],de=ue[1],me=V((0,b.useState)(!1),2),fe=me[0],pe=me[1],ve=(0,A.v9)((function(e){return e.config.ui.features})),Ee=(0,i.EV)(null==ve||null===(t=ve.loginAndRegistration)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.feature),he=(0,w.Wf)().data,ge=(0,b.useMemo)((function(){var e,t=null==r||null===(e=r.userName)||void 0===e?void 0:e.split("/");return(null==t?void 0:t.length)>1?t[0]:u.wO.primaryUserstoreName}),[r]),ye=(0,R.q)(ge,M.y8.PasswordRegEx),Se=ye.data,be=ye.isLoading;(0,b.useEffect)((function(){he&&Y((0,Z.P_)(he))}),[he]),(0,b.useEffect)((function(){d&&(void 0!==le&&(null==le?void 0:le.length)===(null==d?void 0:d.length)||se(d))}),[d]),(0,b.useEffect)((function(){if(le&&Array.isArray(le)&&(null==le?void 0:le.length)>0){var e,t=!1,n=!1,r=!1,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=k(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}(le);try{for(i.s();!(e=i.n()).done;){var o=e.value;o.name===m.vH.ADMIN_FORCE_PASSWORD_RESET_EMAIL_LINK?t=g.CommonUtils.parseBoolean(o.value):o.name===m.vH.ADMIN_FORCE_PASSWORD_RESET_EMAIL_OTP?n=g.CommonUtils.parseBoolean(o.value):o.name===m.vH.ADMIN_FORCE_PASSWORD_RESET_SMS_OTP&&(r=g.CommonUtils.parseBoolean(o.value))}}catch(l){i.e(l)}finally{i.f()}de(t||n||r);var a=O.M.EMAIL_LINK;r?a=O.M.SMS_OTP:n&&(a=O.M.EMAIL_OTP),ne(a)}}),[le]);var Ce=function(){z(""),J("setPassword"),W(void 0)},Ae=[{label:S("user:modals.changePasswordModal.passwordOptions.setPassword"),value:"setPassword"},{label:S("user:modals.changePasswordModal.passwordOptions.forceReset"),value:"forceReset"}],Ie=function(){s.m.push(l.$.getPaths().get("GOVERNANCE_CONNECTOR_EDIT").replace(":categoryId",m.vH.ACCOUNT_MANAGEMENT_CATEGORY_ID).replace(":connectorId",m.vH.ADMIN_FORCED_PASSWORD_RESET))},_e=function(e){G(e)},Oe=function(e,t){if(e&&t)return e===t},Re=function(e){var t,n,r=(null==e||null===(t=e.get("newPassword"))||void 0===t?void 0:t.toString())||"",i=null==e||null===(n=e.get("confirmPassword"))||void 0===n?void 0:n.toString();z(r),W(Oe(r,i))},Me=function(e,t){var n;(function(e){return x?F:_.w.validateInputAgainstRegEx(e,Se)})(e)||(t.isValid=!1,null==t||null===(n=t.errorMessages)||void 0===n||n.push(S(x?"extensions:manage.features.user.addUser.validation.error.passwordValidation":"extensions:manage.features.user.addUser.validation.password")))},we=function(){return b.createElement(b.Fragment,null,b.createElement(T.Z.Row,null,b.createElement(T.Z.Column,{mobile:16,tablet:16,computer:14},b.createElement(U.gN,{"data-testid":"user-mgt-edit-user-form-newPassword-input",className:"addon-field-wrapper",hidePassword:S("common:hidePassword"),label:S("user:forms.addUserForm.inputs.newPassword.label"),name:"newPassword",placeholder:S("user:forms.addUserForm.inputs.newPassword.placeholder"),required:!0,requiredErrorMessage:S("user:forms.addUserForm.inputs.newPassword.validations.empty"),showPassword:S("common:showPassword"),type:"password",value:"",listen:Re,loading:be,validation:Me}),x&&b.createElement(y.Tj,{password:K,minLength:Number(null==x?void 0:x.minLength),maxLength:Number(null==x?void 0:x.maxLength),minNumbers:Number(null==x?void 0:x.minNumbers),minUpperCase:Number(null==x?void 0:x.minUpperCaseCharacters),minLowerCase:Number(null==x?void 0:x.minLowerCaseCharacters),minSpecialChr:Number(null==x?void 0:x.minSpecialCharacters),minUniqueChr:Number(null==x?void 0:x.minUniqueCharacters),maxConsecutiveChr:Number(null==x?void 0:x.maxConsecutiveCharacters),onPasswordValidate:_e,translations:{case:Number(null==x?void 0:x.minUpperCaseCharacters)>0&&Number(null==x?void 0:x.minLowerCaseCharacters)>0?S("extensions:manage.features.user.addUser.validation.passwordCase",{minLowerCase:null==x?void 0:x.minLowerCaseCharacters,minUpperCase:null==x?void 0:x.minUpperCaseCharacters}):Number(null==x?void 0:x.minUpperCaseCharacters)>0?S("extensions:manage.features.user.addUser.validation.upperCase",{minUpperCase:null==x?void 0:x.minUpperCaseCharacters}):S("extensions:manage.features.user.addUser.validation.lowerCase",{minLowerCase:null==x?void 0:x.minLowerCaseCharacters}),consecutiveChr:S("extensions:manage.features.user.addUser.validation.consecutiveCharacters",{repeatedChr:null==x?void 0:x.maxConsecutiveCharacters}),length:S("extensions:manage.features.user.addUser.validation.passwordLength",{max:null==x?void 0:x.maxLength,min:null==x?void 0:x.minLength}),numbers:S("extensions:manage.features.user.addUser.validation.passwordNumeric",{min:null==x?void 0:x.minNumbers}),specialChr:S("extensions:manage.features.user.addUser.validation.specialCharacter",{specialChr:null==x?void 0:x.minSpecialCharacters}),uniqueChr:S("extensions:manage.features.user.addUser.validation.uniqueCharacters",{uniqueChr:null==x?void 0:x.minUniqueCharacters})}}))),b.createElement(T.Z.Row,null,b.createElement(T.Z.Column,{mobile:16,tablet:16,computer:14},b.createElement(U.gN,{"data-testid":"user-mgt-edit-user-form-confirmPassword-input",className:"addon-field-wrapper",hidePassword:S("common:hidePassword"),label:S("user:forms.addUserForm.inputs.confirmPassword.label"),name:"confirmPassword",placeholder:S("user:forms.addUserForm.inputs.confirmPassword.placeholder"),required:!0,requiredErrorMessage:S("user:forms.addUserForm.inputs.confirmPassword.validations.empty"),showPassword:S("common:showPassword"),type:"password",value:"",listen:function(e){var t,n,r=null==e||null===(t=e.get("newPassword"))||void 0===t?void 0:t.toString(),i=null==e||null===(n=e.get("confirmPassword"))||void 0===n?void 0:n.toString();W(Oe(r,i))},validation:function(e,t,n){var r,i,o=null==n||null===(r=n.get("newPassword"))||void 0===r?void 0:r.toString();Oe(o,e)||(t.isValid=!1,W(!1),null==t||null===(i=t.errorMessages)||void 0===i||i.push(S("user:forms.addUserForm.inputs.confirmPassword.validations.mismatch")))}}),b.createElement("div",{className:"password-policy-description"},b.createElement(L.Z,{className:void 0===q?"circle thin":q?"check circle":"remove circle",color:void 0===q?"grey":q?"green":"red",inverted:!0}),b.createElement("p",null,S("extensions:manage.features.user.addUser.validation.confirmPassword"))))))},Ue=function(){return X&&"setPassword"===X?we():function(){if(ce){var e="extensions:manage.users.editUserProfile.resetPassword.changePasswordModal.emailResetWarning."+te.toString();return b.createElement(T.Z.Row,null,b.createElement(T.Z.Column,{mobile:16,tablet:16,computer:14},b.createElement(y.v0,{hideDefaultIcon:!0,icon:te===O.M.SMS_OTP?"mobile":"mail",content:S(e)})))}return b.createElement(T.Z.Row,null,b.createElement(T.Z.Column,{mobile:16,tablet:16,computer:14},b.createElement(y.v0,{hideDefaultIcon:!0,error:!0,content:b.createElement(b.Fragment,null,b.createElement(L.Z,{color:"red",name:"times circle"}),b.createElement(N.c,{i18nKey:"extensions:manage.users.editUserProfile.resetPassword.changePasswordModal.passwordResetConfigDisabled"},"Password reset via recovery email is not enabled. Please make sure to enable it from",Ee?b.createElement("a",{onClick:Ie,className:"ml-1 external-link link pointing primary"},"Login and Registration"):"Login and Registration"," configurations"))})))}()};return b.createElement(P.Z,{"data-testid":h,open:a,size:"tiny"},b.createElement(P.Z.Header,null,S(v?"user:modals.changePasswordModal.header":"user:modals.setPasswordModal.header")),b.createElement(P.Z.Content,null,b.createElement(U.Es,{"data-testid":"".concat(h,"-form"),onSubmit:function(e){"setPassword"===X?function(e){var t={Operations:[{op:"replace",value:{password:e.get("newPassword").toString()}}],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]};pe(!0),(0,D.gS)(r.id,t).then((function(){n({description:S(v?"user:profile.notifications.changeUserPassword.success.description":"user:profile.notifications.setUserPassword.success.description"),level:E.QU.SUCCESS,message:S(v?"user:profile.notifications.changeUserPassword.success.message":"user:profile.notifications.setUserPassword.success.message")}),c(),Ce(),o(r.id)})).catch((function(e){e.response&&e.response.data&&e.response.data.detail?n({description:S(v?"user:profile.notifications.changeUserPassword.error.description":"user:profile.notifications.setUserPassword.error.description",{description:e.response.data.detail}),level:E.QU.ERROR,message:S(v?"user:profile.notifications.changeUserPassword.error.message":"user:profile.notifications.setUserPassword.error.message")}):(n({description:S(v?"user:profile.notifications.changeUserPassword.genericError.description":"user:profile.notifications.setUserPassword.genericError.description"),level:E.QU.ERROR,message:S(v?"user:profile.notifications.changeUserPassword.genericError.message":"user:profile.notifications.setUserPassword.genericError.message")}),c(),Ce())})).finally((function(){pe(!1)}))}(e):function(){if(ce){var e={Operations:[{op:"add",value:H({},u.k9.scim.systemSchema,{forcePasswordReset:!0})}],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]};pe(!0),(0,D.gS)(r.id,e).then((function(){n({description:S("user:profile.notifications.forcePasswordReset.success.description"),level:E.QU.SUCCESS,message:S("user:profile.notifications.forcePasswordReset.success.message")}),f&&f(),Ce(),c(),o(r.id)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?n({description:e.response.data.description,level:E.QU.ERROR,message:S("user:profile.notifications.forcePasswordReset.error.message")}):(n({description:S("user:profile.notifications.forcePasswordReset.genericError.description"),level:E.QU.ERROR,message:S("user:profile.notifications.forcePasswordReset.genericError.message")}),Ce(),c())})).finally((function(){pe(!1)}))}else n({description:S("user:profile.notifications.noPasswordResetOptions.error.description"),level:E.QU.WARNING,message:S("user:profile.notifications.noPasswordResetOptions.error.message")})}()},submitState:ie},b.createElement(T.Z,null,v&&(null==le?void 0:le.length)>1?b.createElement(b.Fragment,null,b.createElement(T.Z.Row,null,b.createElement(T.Z.Column,{mobile:16,tablet:16,computer:14},b.createElement(U.gN,{"data-testid":"user-mgt-add-user-form-passwordOption-radio-button",type:"radio",label:S("user:forms.addUserForm.buttons.radioButton.label"),name:"passwordOption",default:"setPassword",listen:function(e){J(e.get("passwordOption").toString())},children:Ae,value:"setPassword",tabIndex:4,maxWidth:60,width:60}))),Ue(),b.createElement(T.Z.Row,null,b.createElement(T.Z.Column,{mobile:16,tablet:16,computer:14},b.createElement(y.v0,{type:"warning",content:S("user:modals.changePasswordModal.message")})))):b.createElement(b.Fragment,null,we(),b.createElement(T.Z.Row,null,b.createElement(T.Z.Column,{mobile:16,tablet:16,computer:14},b.createElement(y.v0,{type:"warning",content:S(v?"user:modals.changePasswordModal.message":"user:modals.setPasswordModal.message")}))))))),b.createElement(P.Z.Actions,null,b.createElement(T.Z,null,b.createElement(T.Z.Row,{column:1},b.createElement(T.Z.Column,{mobile:16,tablet:16,computer:16},b.createElement(y.KM,{"data-testid":"".concat(h,"-save-button"),floated:"right",loading:fe,disabled:fe,onClick:function(){return oe()}},S(v?"user:modals.changePasswordModal.button":"user:modals.setPasswordModal.button")),b.createElement(y.Qj,{"data-testid":"".concat(h,"-cancel-button"),floated:"left",onClick:function(){c(),Ce()}},S("common:cancel")))))))};j.defaultProps={"data-testid":"user-mgt-change-password"};var F=n(2292),G=n(54715),B=n(74411),q=n(64971),W=n(9779),Q=n(6567),K=n(39709),z=n(9821),$=n(92283);function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}function J(){J=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),l=new U(r||[]);return i(a,"_invoke",{value:O(e,n,l)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var m="suspendedStart",f="suspendedYield",p="executing",v="completed",E={};function h(){}function g(){}function y(){}var S={};u(S,a,(function(){return this}));var b=Object.getPrototypeOf,C=b&&b(b(N([])));C&&C!==n&&r.call(C,a)&&(S=C);var A=y.prototype=h.prototype=Object.create(S);function I(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(i,o,a,l){var s=d(e[i],e,o);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==X(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(c).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,l)}))}l(s.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function O(t,n,r){var i=m;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var l=r.delegate;if(l){var s=R(l,r);if(s){if(s===E)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===m)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var u=d(t,n,r);if("normal"===u.type){if(i=r.done?v:f,u.arg===E)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=v,r.method="throw",r.arg=u.arg)}}}function R(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,R(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),E;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,E;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,E):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,E)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function U(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(X(t)+" is not iterable")}return g.prototype=y,i(A,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:g,configurable:!0}),g.displayName=u(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},I(_.prototype),u(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new _(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},I(A),u(A,s,"Generator"),u(A,a,(function(){return this})),u(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,U.prototype={constructor:U,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],l=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,E):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),E},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),E}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),E}},t}function ee(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ne(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ne(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var re=function(e){var t=e["data-componentid"],n=e.user,r=e.isLocked,i=e.isDisabled,o=e.isUserManagedByParentOrg,a=e.isReadOnly,s=(0,F.useAuthContext)().httpRequest,c=(0,A.I0)(),d=(0,C.$)().t,m=te((0,b.useState)(!1),2),f=m[0],p=m[1],S=te((0,b.useState)(void 0),2),I=S[0],_=S[1],O=te((0,b.useState)(void 0),2),R=O[0],M=O[1],w=te((0,b.useState)(void 0),2),U=w[0],N=w[1],T=te((0,b.useState)(void 0),2),L=T[0],P=T[1],Z=te((0,b.useState)([]),2),x=Z[0],H=Z[1],V=te((0,b.useState)(null),2),k=V[0],Y=V[1],j=te((0,b.useState)(l.$.DEFAULT_MY_ACCOUNT_STATUS),2),X=j[0],ne=j[1],re=te((0,b.useState)(!1),2),ie=re[0],oe=re[1],ae=(0,A.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.deployment)||void 0===t?void 0:t.clientHost})),le=(0,A.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.providedUsername})),se=(0,A.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.deployment)||void 0===t||null===(t=t.accountApp)||void 0===t?void 0:t.tenantQualifiedPath})),ue=(0,A.v9)((function(e){var t;return null===(t=e.config.ui.features)||void 0===t?void 0:t.users})),ce=(0,A.v9)((function(e){return e.config.deployment.accountApp.clientID})),de=(0,Q.az)("advancedConfigurations,templateId,clientId,issuer"),me=de.data,fe=de.isLoading,pe=(0,K.b)(k,!!k),ve=pe.data,Ee=pe.isLoading,he=(0,D.P$)(),ge=he.data,ye=he.isLoading,Se="undefined"===(0,(0,q.Z)().getUserOrgInLocalStorage)(),be=(0,A.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organizationType})),Ce="impersonation_artifacts",Ae=sessionStorage.getItem(Ce);(0,b.useEffect)((function(){ye||null!=ge&&H(null==ge?void 0:ge.roles)}),[ye]),(0,b.useEffect)((function(){if(null!=Ae&&null!=Ae&&!Ae.includes("oauth2_error")){var e=new URLSearchParams(Ae).get($._F.ID_TOKEN),t=new URLSearchParams(Ae).get($._F.SUBJECT_TOKEN);e&&t&&(N(e),P(t))}}),[Ae]),(0,b.useEffect)((function(){return window.addEventListener("message",Ie),function(){return window.removeEventListener("message",Ie)}}),[]),(0,b.useEffect)((function(){U&&L&&De(U,L)}),[U,L]),(0,b.useEffect)((function(){if(f){var e=setTimeout((function(){f&&(p(!1),c((0,h.V_)({description:d("users:notifications.impersonateUser.error.description"),level:E.QU.ERROR,message:d("users:notifications.impersonateUser.error.message")})))}),5e3);return function(){return clearTimeout(e)}}}),[f]);var Ie=function(e){if("impersonation-authorize-request-complete"===e.data&&null!=sessionStorage.getItem(Ce)){Ae=sessionStorage.getItem(Ce).substring(1),sessionStorage.removeItem(Ce),Ae.includes("error")&&(p(!1),c((0,h.V_)({description:d("users:notifications.impersonateUser.error.description"),level:E.QU.ERROR,message:d("users:notifications.impersonateUser.error.message")})));var t=new URLSearchParams(Ae).get($._F.ID_TOKEN),n=new URLSearchParams(Ae).get($._F.SUBJECT_TOKEN);t&&n&&(N(t),P(n))}};(0,b.useEffect)((function(){var e;1===(null==me||null===(e=me.applications)||void 0===e?void 0:e.length)&&me.applications.forEach((function(e){Y(null==e?void 0:e.id)}))}),[me]),(0,b.useEffect)((function(){var e;if(!Ee&&!fe&&(ve&&(ne(null==ve?void 0:ve.applicationEnabled),1===(null==ve||null===(e=ve.authenticationSequence)||void 0===e||null===(e=e.steps)||void 0===e?void 0:e.length)))){var t,n=null==ve||null===(t=ve.authenticationSequence)||void 0===t?void 0:t.steps[0];Array.isArray(null==n?void 0:n.options)&&n.options.some((function(e){return"BasicAuthenticator"===(null==e?void 0:e.authenticator)}))&&oe(!0)}}),[Ee,fe,k]);var _e,Oe,Re,Me,we,Ue,Ne,Te,Le,Pe,De=function(e,t){var n={actor_token:e,actor_token_type:z.jo.TOKEN_TYPE_ID_TOKEN,client_id:ce,code_verifier:I,grant_type:z.jo.OAUTH2_TOKEN_EXCHANGE,requested_token_type:z.jo.TOKEN_TYPE_ACCESS_TOKEN,subject_token:t,subject_token_type:z.jo.TOKEN_TYPE_JWT_TOKEN},r={attachToken:!1,data:new URLSearchParams(n).toString(),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"post",shouldEncodeToFormData:!1,url:sessionStorage.getItem("token_endpoint")};s(r).then((function(e){200===e.status&&(p(!1),N(void 0),P(void 0),M(void 0),_(void 0),c((0,h.V_)({description:d("users:notifications.impersonateUser.success.description"),level:E.QU.SUCCESS,message:d("users:notifications.impersonateUser.success.message")})),window.open(se,"_blank"))})).catch((function(){p(!1),c((0,h.V_)({description:d("users:notifications.impersonateUser.error.description"),level:E.QU.ERROR,message:d("users:notifications.impersonateUser.error.message")}))}))},Ze=function(e,t){var n=null==e?void 0:e.userName;return 0===n.length&&t?e.email:(n.split("/").length>1&&(n=n.split("/")[1]),n)}(n,!1),xe=null==le?void 0:le.includes(Ze),He=function(){for(var e=0;e<(null==x?void 0:x.length);e++){var t=x[e];if((0,W.A)(null==t?void 0:t.display,null==t?void 0:t.audienceDisplay))return!0}return!1},Ve=(0,A.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.primaryUserStoreDomainName})),ke=function(){var e,t=(e=J().mark((function e(){var t,n;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.AuthenticateUtils.generateCodeVerifier(),e.next=3,g.AuthenticateUtils.getCodeChallangeForTheVerifier(t);case 3:n=e.sent,_(t),M(n),p(!0);case 7:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ee(o,r,i,a,l,"next",e)}function l(e){ee(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),Ye=(0,A.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.userOrganizationId}));return xe||o||be===G.$.SUBORGANIZATION&&Se||(Le=(null==n||null===(we=n.userName)||void 0===we?void 0:we.split("/").length)>1?null==n||null===(Ue=n.userName)||void 0===Ue?void 0:Ue.split("/")[0]:null===u.wO||void 0===u.wO?void 0:u.wO.primaryUserstoreName,(Pe=(null==ge||null===(Ne=ge.userName)||void 0===Ne?void 0:Ne.split("/").length)>1?null==ge||null===(Te=ge.userName)||void 0===Te?void 0:Te.split("/")[0]:be===G.$.SUBORGANIZATION?null===u.wO||void 0===u.wO?void 0:u.wO.primaryUserstoreName:null!==B.x&&void 0!==B.x&&B.x.allowImpersonationForPrimaryUserStore?Ve:$._F.ASGARDEO_USERSTORE)===$._F.ASGARDEO_USERSTORE&&Le!==Pe)||!(0,v.cr)(ue,$._F.FEATURE_DICTIONARY.get("USER_IMPERSONATION"))?null:b.createElement(b.Fragment,null,b.createElement(y.v9,{className:"action-zone"},!a&&b.createElement(y.cN,{"data-componentid":"".concat(t,"-danger-zone-button"),className:"action-zone",actionTitle:d("user:editUser.userActionZoneGroup.impersonateUserZone.actionTitle"),header:d("user:editUser.userActionZoneGroup.impersonateUserZone.header"),subheader:d("user:editUser.userActionZoneGroup.impersonateUserZone.subheader"),onActionClick:function(){ke()},isButtonDisabled:!(ie&&X&&He()&&!r&&!i),buttonDisableHint:(Me="user:editUser.userActionZoneGroup.impersonateUserZone.buttonDisableHints",ie?X?He()?i?d("".concat(Me,".userAccountDisabled")):r?d("".concat(Me,".userAccountLocked")):void 0:d("".concat(Me,".insufficientPermissions")):d("".concat(Me,".myAccountDisabled")):d("".concat(Me,".myAccountLoginFlowIncompatible"))),isButtonLoading:f})),f&&null!=R&&null!=R?b.createElement("iframe",{hidden:!0,src:"".concat((_e=ae,Oe=new URL(_e),Re=Oe.pathname.replace(/^\/t\/[^/]+/,"").replace(/^\/o\/[^/]+/,""),Oe.pathname=Re,Oe.toString()),"/resources/users/init-impersonate.html")+"?userId=".concat(encodeURIComponent(n.id))+"&codeChallenge=".concat(encodeURIComponent(R))+"&clientId=".concat(encodeURIComponent(ce))+"&orgId=".concat(encodeURIComponent(Ye))}):null)};re.defaultProps={"data-componentid":"impersonate-user-action"};var ie=n(27044),oe=n(31551),ae=n(55931),le=n(94635),se=n(92546),ue=n(68834),ce=n(52560),de=n(25970),me=n(70883),fe=n(66489),pe=n(84025),ve=n.n(pe),Ee=n(77757),he=n(12950),ge=n(86329),ye=n(82555),Se=n(22669);function be(e){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},be(e)}function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){Ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ie(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=be(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=be(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==be(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _e(e){return function(e){if(Array.isArray(e))return Ne(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ue(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ue(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function Re(){Re=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),l=new U(r||[]);return i(a,"_invoke",{value:O(e,n,l)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var m="suspendedStart",f="suspendedYield",p="executing",v="completed",E={};function h(){}function g(){}function y(){}var S={};u(S,a,(function(){return this}));var b=Object.getPrototypeOf,C=b&&b(b(N([])));C&&C!==n&&r.call(C,a)&&(S=C);var A=y.prototype=h.prototype=Object.create(S);function I(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(i,o,a,l){var s=d(e[i],e,o);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==be(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(c).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,l)}))}l(s.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function O(t,n,r){var i=m;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var l=r.delegate;if(l){var s=R(l,r);if(s){if(s===E)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===m)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var u=d(t,n,r);if("normal"===u.type){if(i=r.done?v:f,u.arg===E)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=v,r.method="throw",r.arg=u.arg)}}}function R(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,R(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),E;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,E;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,E):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,E)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function U(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(be(t)+" is not iterable")}return g.prototype=y,i(A,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:g,configurable:!0}),g.displayName=u(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},I(_.prototype),u(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new _(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},I(A),u(A,s,"Generator"),u(A,a,(function(){return this})),u(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,U.prototype={constructor:U,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],l=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,E):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),E},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),E}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),E}},t}function Me(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||Ue(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ue(e,t){if(e){if("string"==typeof e)return Ne(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ne(e,t):void 0}}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Te=p.Cb.SCIM2_SCHEMA_DICTIONARY.get("EMAILS"),Le=p.Cb.SCIM2_SCHEMA_DICTIONARY.get("MOBILE"),Pe=p.Cb.SCIM2_SCHEMA_DICTIONARY.get("EMAIL_ADDRESSES"),De=p.Cb.SCIM2_SCHEMA_DICTIONARY.get("MOBILE_NUMBERS"),Ze=p.Cb.SCIM2_SCHEMA_DICTIONARY.get("VERIFIED_MOBILE_NUMBERS"),xe=p.Cb.SCIM2_SCHEMA_DICTIONARY.get("VERIFIED_EMAIL_ADDRESSES"),He=p.Cb.SCIM2_SCHEMA_DICTIONARY.get("EMAIL_VERIFIED"),Ve=p.Cb.SCIM2_SCHEMA_DICTIONARY.get("PHONE_VERIFIED");const ke=function(e){var t,n,r,i=e.profileData,l=e.flattenedProfileData,s=e.profileSchema,u=e.isReadOnly,c=e.isUpdating,d=e.adminUserType,m=e.isUserManagedByParentOrg,f=e.setIsUpdating,I=e.onUserUpdate,_=e.accountConfigSettings,O=e.onUpdate,R=e["data-componentid"],M=void 0===R?"user-profile-form":R,w=(0,C.$)().t,N=(0,A.I0)(),P=null==i||null===(t=i.meta)||void 0===t?void 0:t.created,D=null==i||null===(n=i.meta)||void 0===n?void 0:n.lastModified,Z=null===(r=i[B.x.userProfileSchema])||void 0===r?void 0:r.oneTimePassword,x=(0,A.v9)((function(e){return e.profile.profileSchemas})),H=(0,A.v9)((function(e){return e.global.supportedI18nLanguages})),V=(0,A.v9)((function(e){return e.config.ui.features})),k=we((0,b.useState)(!1),2),Y=k[0],j=k[1],F=we((0,b.useState)({}),2),G=F[0],q=F[1],W=we((0,b.useState)(),2),Q=W[0],K=W[1],z=we((0,b.useState)({}),2),$=z[0],X=z[1],J=we((0,b.useState)({}),2),ee=J[0],te=J[1],ne=we((0,b.useState)({}),2),re=ne[0],pe=ne[1],be=we((0,b.useState)([]),2),Ce=be[0],Ue=be[1],Ne=(0,v.cr)(null==V?void 0:V.attributeDialects,a.QN.DISTINCT_ATTRIBUTE_PROFILES_FEATURE_FLAG),ke=(0,b.useMemo)((function(){return(0,Se.qO)(l,s)}),[s,l]),Ye=(0,b.useCallback)((function(e){null!==e&&(e.children[0].children[1].children[0].role="presentation")}),[]),je=(0,b.useMemo)((function(){return g.CommonUtils.getCountryList()}),[]);(0,b.useEffect)((function(){var e=function(){var e,t=(e=Re().mark((function e(){var t,n,r,i,l,s;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([(0,o.gR)(a.QN.ATTRIBUTE_DIALECT_IDS.get("SCIM2_SCHEMAS_EXT_ENT_USER"),null),(0,o.gR)(a.QN.ATTRIBUTE_DIALECT_IDS.get("SCIM2_SCHEMAS_EXT_SYSTEM"),null)]);case 3:t=e.sent,n=we(t,2),r=n[0],i=n[1],l=new Set(i.map((function(e){return e.mappedLocalClaimURI})).filter(Boolean)),s=r.filter((function(e){return e.mappedLocalClaimURI&&l.has(e.mappedLocalClaimURI)})),Ue(s),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),N((0,h.V_)({description:w("claims:external.notifications.fetchExternalClaims.genericError.description"),level:E.QU.ERROR,message:w("claims:external.notifications.fetchExternalClaims.genericError.message")}));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Me(o,r,i,a,l,"next",e)}function l(e){Me(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();e()}),[]),(0,b.useEffect)((function(){Fe(l)}),[l,Q]),(0,b.useEffect)((function(){var e,t=null===p.Cb||void 0===p.Cb?void 0:p.Cb.SCIM2_SCHEMA_DICTIONARY.get("META_VERSION"),n=[],r=Oe(g.ProfileUtils.flattenSchemas(_e(x)));try{for(r.s();!(e=r.n()).done;){var i=e.value;i.name!==t&&(i.extended&&i.multiValued&&i.type!==ye.wi.COMPLEX&&n.push(i))}}catch(o){r.e(o)}finally{r.f()}K(n)}),[x]);var Fe=function(e){var t={},n={};if(null==Q||Q.forEach((function(n){var r=null==e?void 0:e.get(n.name);t[n.name]=r?r.split(","):[]})),ke){var r=null==e?void 0:e.get(Te),i=null==e?void 0:e.get(Le);if(!(0,S.Z)(r)){var o,a,l=null!==(o=null===(a=t[Pe])||void 0===a?void 0:a.filter((function(e){return!(0,S.Z)(e)&&e!==r})))&&void 0!==o?o:[];l.unshift(r),t[Pe]=l}if(!(0,S.Z)(i)){var s,u,c=null!==(s=null===(u=t[De])||void 0===u?void 0:u.filter((function(e){return!(0,S.Z)(e)&&e!==i})))&&void 0!==s?s:[];c.unshift(i),t[De]=c}n[Te]=r,n[Le]=i}X(t),pe(n)},Ge=function(e,t,n){if(!e)return e;var r=e.search(/[-_]/),i=e;if(-1!==r){var o=e.substring(0,r).toLowerCase(),a=e.substring(r+1).toUpperCase();i="".concat(o).concat(t).concat(a)}return n&&!H[i]&&(H[i]={code:i,name:ye._F.GLOBE,namespaces:[]}),i},Be=function(e,t,n){var r,o,a,d,v,g,C,A,O,R,T,P,D,Z,x,H=[],V=[],k="",Y="",F=!1,W=0,Q="",K=!1;if(e.name===Pe)H=null!==(T=$[Pe])&&void 0!==T?T:[],V=null!==(P=null==l||null===(D=l.get(xe))||void 0===D?void 0:D.split(","))&&void 0!==P?P:[],k=re[Te],Y=null==l?void 0:l.get(Te),F="true"===(null==_?void 0:_.isEmailVerificationEnabled),R=s.find((function(e){return e.name===Te})),W=p.Cb.MAX_EMAIL_ADDRESSES_ALLOWED,Q=qe(Pe),K=!0===(null===(Z=i[B.x.userProfileSchema])||void 0===Z?void 0:Z[He])||"true"===(null===(x=i[B.x.userProfileSchema])||void 0===x?void 0:x[He]);else if(e.name===De){var z,J,ne,ve,Ee;H=null!==(z=$[De])&&void 0!==z?z:[],V=null!==(J=null==l||null===(ne=l.get(Ze))||void 0===ne?void 0:ne.split(","))&&void 0!==J?J:[],k=re[Le],Y=null==l?void 0:l.get(Le),F="true"===(null==_?void 0:_.isMobileVerificationEnabled),R=s.find((function(e){return e.name===Le})),W=p.Cb.MAX_MOBILE_NUMBERS_ALLOWED,Q=qe(De),K=!0===(null===(ve=i[B.x.userProfileSchema])||void 0===ve?void 0:ve[Ve])||"true"===(null===(Ee=i[B.x.userProfileSchema])||void 0===Ee?void 0:Ee[Ve])}else{var he;H=null!==(he=$[e.name])&&void 0!==he?he:[],W=p.Cb.MAX_MULTI_VALUES_ALLOWED}var ye=H.length>=1,Se=e.name===Pe||e.name===De,be=null!==(r=null==e||null===(o=e.profiles)||void 0===o||null===(o=o.console)||void 0===o?void 0:o.mutability)&&void 0!==r?r:e.mutability,Ce=null!==(a=null==e||null===(d=e.profiles)||void 0===d||null===(d=d.console)||void 0===d?void 0:d.required)&&void 0!==a?a:e.required,Oe=null==e?void 0:e.sharedProfileValueResolvingMethod,Re=null!==(v=null===(g=R)||void 0===g||null===(g=g.profiles)||void 0===g||null===(g=g.console)||void 0===g?void 0:g.required)&&void 0!==v?v:null===(C=R)||void 0===C?void 0:C.required,Me=Ce||Re,we=function(e){return!(e===k&&Re)};return b.createElement("div",{key:n},b.createElement(U.gN,{action:{icon:"plus",onClick:function(t){var n;t.preventDefault();var r=ee[e.name];G[e.name]||(0,S.Z)(r)||null!==(n=$[e.name])&&void 0!==n&&n.includes(r)||(!function(e,t){if(!(0,S.Z)(t)){X((function(n){return Ae(Ae({},n),{},Ie({},e.name,[].concat(_e($[e.name]||[]),[t])))}));var n=function(e){(0,S.Z)(re[e])&&pe(Ae(Ae({},re),{},Ie({},e,t)))};e.name===Pe?n(Te):e.name===De&&n(Le),j(!0)}}(e,r),te(Ae(Ae({},ee),{},Ie({},e.name,""))))}},disabled:c||u||(null===(A=$[null==e?void 0:e.name])||void 0===A?void 0:A.length)>=W,"data-testid":"".concat(M,"-profile-form-").concat(e.name,"-input"),name:e.name,label:"profileUrl"===e.name?"Profile Image URL":fe.x.userEditSection.showEmail||"userName"!==e.name?t:t+" (Email)",placeholder:"Enter your "+t,type:"text",value:ee[e.name],readOnly:m&&Oe==E.Hk.FROM_ORIGIN||u||be===p.Cb.READONLY_SCHEMA,required:!(m&&Oe==E.Hk.FROM_ORIGIN)&&Me&&(0,S.Z)($[null==e?void 0:e.name]),requiredErrorMessage:w("user:profile.forms.generic.inputs.validations.empty",{fieldName:t}),validation:function(n,r){var i;(0,S.Z)(n)&&Me&&(0,S.Z)($[null==e?void 0:e.name])&&(q(Ae(Ae({},G),{},Ie({},e.name,!0))),r.isValid=!1,r.errorMessages.push(w("user:profile.forms.generic.inputs.validations.empty",{fieldName:t}))),RegExp(null===(i=R)||void 0===i?void 0:i.regEx).test(n)?q(Ae(Ae({},G),{},Ie({},e.name,!1))):(q(Ae(Ae({},G),{},Ie({},e.name,!0))),r.isValid=!1,r.errorMessages.push(w("users:forms.validation.formatError",{field:t})))},displayErrorOn:"blur",listen:function(t){te(Ae(Ae({},ee),{},Ie({},e.name,t.get(e.name))))},maxLength:t.toLowerCase().includes("uri")||t.toLowerCase().includes("url")?p.Cb.URI_CLAIM_VALUE_MAX_LENGTH:e.maxLength?e.maxLength:p.Cb.CLAIM_VALUE_MAX_LENGTH,controlled:!0}),b.createElement("div",{hidden:!ye},b.createElement(ie.Z,{component:se.Z,elevation:0,"data-componentid":"".concat(M,"-profile-form-").concat(e.name,"-accordion")},b.createElement(ue.Z,{className:"multi-value-table",size:"small","aria-label":"multi-attribute value table"},b.createElement(ce.Z,null,null===(O=$[null==e?void 0:e.name])||void 0===O?void 0:O.map((function(t,n){return b.createElement(me.Z,{key:n,className:"multi-value-table-data-row"},b.createElement(de.Z,{align:"left"},b.createElement("div",{className:"table-c1"},b.createElement("label",{className:"c1-value","data-componentid":"".concat(M,"-profile-form-").concat(e.name)+"-value-".concat(n)},t),function(e){var t=e===Y&&K;return Se&&F&&(V.includes(e)||t)}(t)&&b.createElement("div",{className:"verified-icon","data-componentid":"".concat(M,"-profile-form-").concat(e.name)+"-verified-icon-".concat(n)},b.createElement(y.GI,{name:"verified-popup",size:"tiny",trigger:b.createElement(L.Z,{name:"check",color:"green"}),header:w("common:verified"),inverted:!0})),function(e){if(!Se)return!1;var t=e===Y,n=e===k,r=!F||V.includes(e)||t&&K;return 1===H.length?t||n&&r:n&&(r||t)}(t)&&b.createElement("div",{"data-componentid":"".concat(M,"-profile-form-").concat(e.name)+"-primary-icon-".concat(n)},b.createElement(ae.Z,{label:w("common:primary"),size:"medium"})),function(e){return Se&&F&&!(0,S.Z)(Q)&&!V.includes(e)&&Q===e}(t)&&b.createElement("div",{className:"verified-icon","data-componentid":"".concat(M,"-profile-form-").concat(e.name)+"-pending-verification-icon-".concat(n)},b.createElement(y.GI,{name:"pending-verification-popup",size:"tiny",trigger:b.createElement(L.Z,{name:"info circle",color:"yellow"}),header:w("user:profile.tooltips.confirmationPending"),inverted:!0})))),b.createElement(de.Z,{align:"right"},b.createElement("div",{className:"table-c2"},function(t){return e.name===Pe&&F&&!(V.includes(t)||t===Y&&K)}(t)&&b.createElement(oe.Z,{variant:"text",size:"small",className:"text-btn",onClick:function(){return function(e,t){f(!0);var n={Operations:[{op:"replace",value:{}}],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]},r="";if(e.name===Pe){var o;r="user:profile.notifications.verifyEmail.";var a=(null==l||null===(o=l.get(p.Cb.SCIM2_SCHEMA_DICTIONARY.get("VERIFIED_EMAIL_ADDRESSES")))||void 0===o?void 0:o.split(","))||[];a.push(t),n.Operations[0].value=Ie({},e.schemaId,Ie({},xe,a))}else if(e.name===De){var s;r="user:profile.notifications.verifyMobile.";var u=(null==l||null===(s=l.get(p.Cb.SCIM2_SCHEMA_DICTIONARY.get("VERIFIED_MOBILE_NUMBERS")))||void 0===s?void 0:s.split(","))||[];u.push(t),n.Operations[0].value=Ie({},e.schemaId,Ie({},Ze,u))}f(!0),(0,ge.gS)(i.id,n).then((function(){N((0,h.V_)({description:w("".concat(r,"success.description")),level:E.QU.SUCCESS,message:w("".concat(r,"success.message"))})),I(i.id)})).catch((function(e){var t,n,i,o;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.detail||null!=e&&null!==(n=e.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.description?N((0,h.V_)({description:(null==e||null===(i=e.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.detail)||(null==e||null===(o=e.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.description),level:E.QU.ERROR,message:"".concat(r,"error.message")})):N((0,h.V_)({description:w("".concat(r,"genericError.description")),level:E.QU.ERROR,message:w("".concat(r,"genericError.message"))}))})).finally((function(){f(!1)}))}(e,t)},"data-componentid":"".concat(M,"-profile-form")+"-".concat(e.name,"-verify-button-").concat(n),disabled:c||u},w("common:verify")),function(e){var t=e===Y&&K;return!!Se&&(F?(V.includes(e)||t)&&e!==k:e!==k)}(t)&&b.createElement(oe.Z,{variant:"text",size:"small",className:"text-btn",onClick:function(){var e,n,r;return n=null===(e=R)||void 0===e?void 0:e.name,r=t,pe(Ae(Ae({},re),{},Ie({},n,r))),void j(!0)},"data-componentid":"".concat(M,"-profile-form")+"-".concat(e.name,"-make-primary-button-").concat(n),disabled:c||u},w("common:makePrimary")),b.createElement(le.Z,{size:"small",hidden:!we(t),onClick:function(){!function(e,t){var n,r=(null===(n=$[null==e?void 0:e.name])||void 0===n?void 0:n.filter((function(e){return e!==t})))||[];X((function(t){return Ae(Ae({},t),{},Ie({},e.name,r))})),e.name===Pe?re[Te]===t&&pe(Ae(Ae({},re),{},Ie({},Te,""))):e.name===De&&re[Le]===t&&pe(Ae(Ae({},re),{},Ie({},Le,""))),j(!0)}(e,t)},"data-componentid":"".concat(M,"-profile-form")+"-".concat(e.name,"-delete-button-").concat(n),disabled:c||u},b.createElement(y.GI,{trigger:b.createElement(L.Z,{name:"trash alternate"}),header:w("common:delete"),size:"tiny",inverted:!0})))))})))))))},qe=function(e){if(e===Te||e===Pe){var t,n,r=null===(t=i[p.Cb.SCIM2_SYSTEM_USER_SCHEMA])||void 0===t?void 0:t.pendingEmails;return Array.isArray(r)&&r.length>0&&void 0!==(null===(n=r[0])||void 0===n?void 0:n.value)?r[0].value:null}var o,a;return e===Le||e===De?(0,S.Z)(null===(o=i[p.Cb.SCIM2_SYSTEM_USER_SCHEMA])||void 0===o?void 0:o.pendingMobileNumber)?null:null===(a=i[p.Cb.SCIM2_SYSTEM_USER_SCHEMA])||void 0===a?void 0:a.pendingMobileNumber:null},We=function(e,t,n){var r,i,o=null!==(r=null==e||null===(i=e.profiles)||void 0===i||null===(i=i.console)||void 0===i?void 0:i.mutability)&&void 0!==r?r:e.mutability,a=null==e?void 0:e.sharedProfileValueResolvingMethod,s=function(e,t){var n,r;return(!m||t!==E.Hk.FROM_ORIGIN)&&(null!==(n=null==e||null===(r=e.profiles)||void 0===r||null===(r=r.console)||void 0===r?void 0:r.required)&&void 0!==n?n:e.required)}(e,a);if("BOOLEAN"===e.type.toUpperCase())return b.createElement(U.gN,{"data-testid":"".concat(M,"-profile-form-").concat(e.name,"-input"),name:e.name,required:s,requiredErrorMessage:t+" is required",type:"checkbox",value:l.get(e.name)?[e.name]:[],children:[{label:t,value:e.name}],readOnly:m&&a===E.Hk.FROM_ORIGIN||u||o===p.Cb.READONLY_SCHEMA,key:n});if("country"===e.name)return b.createElement(U.gN,{ref:Ye,"data-testid":"".concat(M,"-profile-form-").concat(e.name,"-input"),name:e.name,label:t,required:s,requiredErrorMessage:t+" is required",placeholder:"Select your "+t,type:"dropdown",value:l.get(e.name),children:[{"data-testid":"".concat(M,"-profile-form-country-dropdown-empty"),key:"empty-country",text:"Select your country",value:""}].concat(je?je.map((function(e){return{"data-testid":"".concat(M,"-profile-form-country-dropdown-")+e.value,flag:e.flag,key:e.key,text:e.text,value:e.value}})):[]),key:n,disabled:m&&a===E.Hk.FROM_ORIGIN||u||o===p.Cb.READONLY_SCHEMA,readOnly:m&&a===E.Hk.FROM_ORIGIN||u||o===p.Cb.READONLY_SCHEMA,clearable:!s,search:!0,selection:!0,fluid:!0});if("locale"===(null==e?void 0:e.name))return b.createElement(U.gN,{"data-testid":"".concat(M,"-profile-form-").concat(null==e?void 0:e.name,"-input"),name:null==e?void 0:e.name,label:t,required:s,requiredErrorMessage:w("user:profile.forms.generic.inputs.validations.empty",{fieldName:t}),placeholder:w("user:profile.forms.generic.inputs.dropdownPlaceholder",{fieldName:t}),type:"dropdown",value:Ge(l.get(null==e?void 0:e.name),ye.lJ.HYPHEN,!0),children:[{"data-testid":"".concat(M,"-profile-form-locale-dropdown-empty"),key:"empty-locale",text:w("user:profile.forms.generic.inputs.dropdownPlaceholder",{fieldName:t}),value:""}].concat(H?Object.keys(H).map((function(e){var t;return{"data-testid":"".concat(M,"-profile-form-locale-dropdown-")+H[e].code,flag:null!==(t=H[e].flag)&&void 0!==t?t:ye._F.GLOBE,key:H[e].code,text:H[e].name===ye._F.GLOBE?H[e].code:"".concat(H[e].name,",\n                                            ").concat(H[e].code),value:H[e].code}})):[]),key:n,disabled:!1,readOnly:m&&a===E.Hk.FROM_ORIGIN||u||(null==e?void 0:e.mutability)===p.Cb.READONLY_SCHEMA,clearable:!s,search:!0,selection:!0,fluid:!0});if(null!=e&&e.extended&&null!=e&&e.multiValued)return Be(e,t,n);if("dateOfBirth"===(null==e?void 0:e.name))return b.createElement(U.gN,{"data-testid":"".concat(M,"-profile-form-").concat(e.name,"-input"),name:e.name,label:t,required:s,requiredErrorMessage:t+" is required",placeholder:"YYYY-MM-DD",type:"text",value:l.get(e.name),key:n,readOnly:m&&a===E.Hk.FROM_ORIGIN||u||o===p.Cb.READONLY_SCHEMA,validation:function(n,r){RegExp(e.regEx).test(n)||(r.isValid=!1,r.errorMessages.push(w("users:forms.validation.dateFormatError",{field:t})))},maxLength:e.maxLength?e.maxLength:p.Cb.CLAIM_VALUE_MAX_LENGTH});if((null==e?void 0:e.name)===Te||(null==e?void 0:e.name)===Le){var c=!1,d=l.get(null==e?void 0:e.name);return(c=(null==e?void 0:e.name)===Te?"true"===(null==_?void 0:_.isEmailVerificationEnabled)&&!(0,S.Z)(qe(Te)):"true"===(null==_?void 0:_.isMobileVerificationEnabled)&&!(0,S.Z)(qe(Le)))&&(d=qe(null==e?void 0:e.name)),b.createElement(U.gN,{"data-testid":"".concat(M,"-profile-form-").concat(e.name,"-input"),name:e.name,label:t,icon:c?b.createElement("div",{className:"verification-pending-icon","data-componentid":"".concat(M,"-profile-form-email-pending-verification-icon")},b.createElement(y.GI,{name:"pending-verification-popup",size:"tiny",trigger:b.createElement(L.Z,{name:"info circle",color:"yellow"}),header:w("user:profile.tooltips.confirmationPending"),inverted:!0})):null,required:s,requiredErrorMessage:t+" is required",placeholder:"Enter your "+t,type:"text",value:d,key:n,disabled:"userName"===e.name,readOnly:m&&a===E.Hk.FROM_ORIGIN||u||o===p.Cb.READONLY_SCHEMA,validation:function(n,r){RegExp(e.regEx).test(n)||(r.isValid=!1,r.errorMessages.push(w("users:forms.validation.formatError",{field:t})))},maxLength:e.maxLength?e.maxLength:p.Cb.CLAIM_VALUE_MAX_LENGTH})}return b.createElement(U.gN,{"data-testid":"".concat(M,"-profile-form-").concat(e.name,"-input"),name:e.name,label:"profileUrl"===e.name?"Profile Image URL":fe.x.userEditSection.showEmail||"userName"!==e.name?t:t+" (Email)",required:s,requiredErrorMessage:t+" is required",placeholder:"Enter your "+t,type:"text",value:l.get(e.name),key:n,disabled:"userName"===e.name,readOnly:m&&a===E.Hk.FROM_ORIGIN||u||o===p.Cb.READONLY_SCHEMA,validation:function(n,r){RegExp(e.regEx).test(n)||(r.isValid=!1,r.errorMessages.push(w("users:forms.validation.formatError",{field:t})))},maxLength:t.toLowerCase().includes("uri")||t.toLowerCase().includes("url")?p.Cb.URI_CLAIM_VALUE_MAX_LENGTH:e.maxLength?e.maxLength:p.Cb.CLAIM_VALUE_MAX_LENGTH})},Qe=function(e){var t,n;if(!ke&&(e.name===Pe||e.name===De))return!1;var r=null!==(t=null==e||null===(n=e.profiles)||void 0===n||null===(n=n.console)||void 0===n?void 0:n.mutability)&&void 0!==t?t:e.mutability;if(Ne){var i,o;if("userName"===(null==e?void 0:e.name))return!0;var a,s="true"===(null==e||null===(i=e.supportedByDefault)||void 0===i?void 0:i.toLowerCase());if(void 0!==(null==e||null===(o=e.profiles)||void 0===o||null===(o=o.console)||void 0===o?void 0:o.supportedByDefault))s=null==e||null===(a=e.profiles)||void 0===a||null===(a=a.console)||void 0===a?void 0:a.supportedByDefault;if(!s)return!1}if(e.name===Pe||e.name===De)return!(0,S.Z)($[e.name])||!u&&r!==p.Cb.READONLY_SCHEMA;var c="".concat(e.schemaId,":").concat(e.name);return(null==Ce||!Ce.some((function(e){return e.claimURI===c})))&&(!(0,S.Z)(l.get(e.name))||!u&&r!==p.Cb.READONLY_SCHEMA)},Ke=function(e){var t={Operations:[],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]},n={op:"replace",value:{}};ke?(function(e){var t=s.find((function(e){return e.name===Le}));if(!(0,Se.Ws)(t,m)){var n=re[Le],r=ee[De];null!=n&&e.set(Le,n),(0,S.Z)(n)&&!(0,S.Z)(r)&&e.set(Le,r)}var i=s.find((function(e){return e.name===Te}));if(!(0,Se.Ws)(i,m)){var o,a=null!==(o=re[Te])&&void 0!==o?o:"",l=ee[Pe];null!=a&&e.set(Te,a),(0,S.Z)(a)&&!(0,S.Z)(l)&&e.set(Te,l)}}(e),function(e){var t,n,r=s.find((function(e){return e.name===xe}));if(ke&&"true"===(null==_?void 0:_.isEmailVerificationEnabled)&&!(0,Se.Ws)(r,m)){var i=null!==(t=null==l||null===(n=l.get(xe))||void 0===n?void 0:n.split(","))&&void 0!==t?t:[],o=(0,Se.Qk)({primaryValue:null==l?void 0:l.get(Te),valueList:$[Pe],verifiedAttributeSchema:r,verifiedValueList:i});o&&e.Operations.push(o)}}(t),function(e){var t,n,r=s.find((function(e){return e.name===Ze}));if(ke&&"true"===(null==_?void 0:_.isMobileVerificationEnabled)&&!(0,Se.Ws)(r,m)){var i=null!==(t=null==l||null===(n=l.get(Ze))||void 0===n?void 0:n.split(","))&&void 0!==t?t:[],o=(0,Se.Qk)({primaryValue:null==l?void 0:l.get(Le),valueList:$[De],verifiedAttributeSchema:r,verifiedValueList:i});o&&e.Operations.push(o)}}(t)):(function(e){ke||"true"!==(null==_?void 0:_.isEmailVerificationEnabled)||(0,S.Z)(qe(Te))||e.get(Te)!==qe(Te)||e.delete(Te)}(e),function(e){ke||"true"!==(null==_?void 0:_.isMobileVerificationEnabled)||(0,S.Z)(qe(Le))||e.get(Le)!==qe(Le)||e.delete(Le)}(e)),d===ye.lu.INTERNAL?s.forEach((function(r){var i,o,a=null!==(i=null==r||null===(o=r.profiles)||void 0===o||null===(o=o.console)||void 0===o?void 0:o.mutability)&&void 0!==i?i:r.mutability,l=null==r?void 0:r.sharedProfileValueResolvingMethod;if(!(a===p.Cb.READONLY_SCHEMA||m&&l==E.Hk.FROM_ORIGIN)&&Qe(r)){var u={},c=r.name.split(".");if("roles.default"!==r.name&&void 0!==e.get(r.name)&&void 0!==e.get(r.name).toString())if(g.ProfileUtils.isMultiValuedSchemaAttribute(s,c[0])||"phoneNumbers"===c[0]){var d=[],f=new Map;if(1===c.length||2===c.length)if(r.extended)u=Ie({},r.schemaId,(0,Se.CU)(r.name,$[r.name],ee[r.name]));else{var v,h=Oe(e.keys());try{for(h.s();!(v=h.n()).done;){var y=v.value;y.split(".")[0]===c[0]&&f.set(y,e.get(y))}}catch(T){h.e(T)}finally{h.f()}var S,b=Oe(f);try{for(b.s();!(S=b.n()).done;){var C=we(S.value,2),A=C[0],I=C[1],_=A.split(".");I&&""!==I&&(1===_.length?d.push(I):d.push({type:_[1],value:I}))}}catch(T){b.e(T)}finally{b.f()}u=Ie({},c[0],d)}}else if(1===c.length)if(r.extended){var O,R=null!=r&&r.schemaId?r.schemaId:B.x.userProfileSchema;if("externalId"===r.name)u=Ie({},c[0],e.get(c[0]));else u=Ie({},R,Ie({},c[0],"BOOLEAN"===r.type.toUpperCase()?!(null===(O=e.get(r.name))||void 0===O||!O.includes(r.name)):e.get(c[0])))}else u=c[0]===ye._F.SCIM2_SCHEMA_DICTIONARY.get("EMAILS")?{emails:[e.get(r.name)]}:c[0]===ye._F.SCIM2_SCHEMA_DICTIONARY.get("LOCALE")?Ie({},c[0],Ge(e.get(c[0]),ye.lJ.UNDERSCORE,!1)):Ie({},c[0],e.get(c[0]));else if(r.extended&&r.multiValued)u=Ie({},r.schemaId,Ie({},c[0],(0,Se.CU)(c[1],$[r.name],ee[r.name])));else if(r.extended){var M;u=Ie({},null!=r&&r.schemaId?r.schemaId:B.x.userProfileSchema,Ie({},c[0],Ie({},c[1],"BOOLEAN"===r.type.toUpperCase()?!(null===(M=e.get(r.name))||void 0===M||!M.includes(r.name)):e.get(r.name))))}else if(c[0]===ye._F.SCIM2_SCHEMA_DICTIONARY.get("NAME"))(e.get(r.name)||""===e.get(r.name))&&(u={name:Ie({},c[1],e.get(r.name))});else{var w,U;if(c[0].includes("addresses"))if(c[0].split("#").length>1)u=Ie({},null===(w=c[0])||void 0===w?void 0:w.split("#")[0],[Ie({type:null===(U=c[0])||void 0===U?void 0:U.split("#")[1]},c[1],e.get(r.name))]);else u=Ie({},c[0],[{formatted:e.get(r.name),type:c[1]}]);else if("emails"!==c[0]&&"phoneNumbers"!==c[0]){var N;u=Ie({},c[0],[{type:c[1],value:"BOOLEAN"===r.type.toUpperCase()?!(null===(N=e.get(r.name))||void 0===N||!N.includes(r.name)):e.get(r.name)}])}}n={op:"replace",value:u},c[0].includes("addresses")&&(n.op="add"),t.Operations.push(n)}})):s.forEach((function(r){var i,o;if((null!==(i=null==r||null===(o=r.profiles)||void 0===o||null===(o=o.console)||void 0===o?void 0:o.mutability)&&void 0!==i?i:r.mutability)!==p.Cb.READONLY_SCHEMA&&Qe(r)){var a={},l=r.name.split(".");if("roles.default"!==r.name&&void 0!==e.get(r.name)&&void 0!==e.get(r.name).toString())if(g.ProfileUtils.isMultiValuedSchemaAttribute(s,l[0])||"phoneNumbers"===l[0]){var u=[],c=new Map;if(1===l.length||2===l.length)if(r.name===Pe||r.name==De)a=Ie({},r.schemaId,(0,Se.CU)(r.name,$[r.name],ee[r.name]));else{var d,m=Oe(e.keys());try{for(m.s();!(d=m.n()).done;){var f=d.value;f.split(".")[0]===l[0]&&c.set(f,e.get(f))}}catch(_){m.e(_)}finally{m.f()}var v,E=Oe(c);try{for(E.s();!(v=E.n()).done;){var h=we(v.value,2),y=h[0],S=h[1],b=y.split(".");S&&""!==S&&(1===b.length?u.push(S):u.push({type:b[1],value:S}))}}catch(_){E.e(_)}finally{E.f()}a=Ie({},l[0],u)}}else{var C,A;if(1===l.length)if(r.extended)a=Ie({},null!=r&&r.schemaId?r.schemaId:B.x.userProfileSchema,Ie({},l[0],"BOOLEAN"===r.type.toUpperCase()?!(null===(C=e.get(r.name))||void 0===C||!C.includes(r.name)):e.get(l[0])));else a=l[0]===ye._F.SCIM2_SCHEMA_DICTIONARY.get("EMAILS")?{emails:[e.get(r.name)]}:l[0]===ye._F.SCIM2_SCHEMA_DICTIONARY.get("LOCALE")?Ie({},l[0],Ge(e.get(l[0]),ye.lJ.UNDERSCORE,!1)):Ie({},l[0],e.get(l[0]));else if(r.extended)a=Ie({},null!=r&&r.schemaId?r.schemaId:B.x.userProfileSchema,Ie({},l[0],Ie({},l[1],"BOOLEAN"===r.type.toUpperCase()?!(null===(A=e.get(r.name))||void 0===A||!A.includes(r.name)):e.get(r.name))));else if(l[0]===ye._F.SCIM2_SCHEMA_DICTIONARY.get("NAME"))a={name:Ie({},l[1],e.get(r.name))};else if("addresses"===l[0])a=Ie({},l[0],[{formatted:e.get(r.name),type:l[1]}]);else if("emails"!==l[0]&&"phoneNumbers"!==l[0]){var I;a=Ie({},l[0],[{type:l[1],value:"BOOLEAN"===r.type.toUpperCase()?!(null===(I=e.get(r.name))||void 0===I||!I.includes(r.name)):e.get(r.name)}])}}n={op:"replace",value:a},"addresses"===l[0]&&(n.op="add"),t.Operations.push(n)}})),f(!0),(0,ge.gS)(i.id,t).then((function(){N((0,h.V_)({description:w("user:profile.notifications.updateProfileInfo.success.description"),level:E.QU.SUCCESS,message:w("user:profile.notifications.updateProfileInfo.success.message")})),O(i.id)})).catch((function(e){var t,n,r,i;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.detail||null!=e&&null!==(n=e.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.description?N((0,h.V_)({description:(null==e||null===(r=e.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.detail)||(null==e||null===(i=e.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.description),level:E.QU.ERROR,message:w("user:profile.notifications.updateProfileInfo.error.message")})):N((0,h.V_)({description:w("user:profile.notifications.updateProfileInfo.genericError.description"),level:E.QU.ERROR,message:w("user:profile.notifications.updateProfileInfo.genericError.message")}))})).finally((function(){f(!1)}))};return b.createElement(U.Es,{"data-testid":"".concat(M,"-form"),onSubmit:function(e){return Ke(e)},onStaleChange:function(e){return j(e)}},b.createElement(T.Z,{className:"user-profile-form form-container with-max-width"},i.id&&b.createElement(T.Z.Row,{columns:1},b.createElement(T.Z.Column,{mobile:16,tablet:16,computer:16},b.createElement(Ee.Z.Field,null,b.createElement("label",null,w("user:profile.fields.userId")),b.createElement(he.Z,{name:"userID",type:"text",value:i.id,readOnly:!0})))),s&&s.map((function(e,t){if(e.name!==(null===p.Cb||void 0===p.Cb?void 0:p.Cb.SCIM2_SCHEMA_DICTIONARY.get("ROLES_DEFAULT"))&&e.name!==(null===p.Cb||void 0===p.Cb?void 0:p.Cb.SCIM2_SCHEMA_DICTIONARY.get("ACTIVE"))&&e.name!==(null===p.Cb||void 0===p.Cb?void 0:p.Cb.SCIM2_SCHEMA_DICTIONARY.get("GROUPS"))&&e.name!==(null===p.Cb||void 0===p.Cb?void 0:p.Cb.SCIM2_SCHEMA_DICTIONARY.get("PROFILE_URL"))&&e.name!==(null===p.Cb||void 0===p.Cb?void 0:p.Cb.SCIM2_SCHEMA_DICTIONARY.get("ACCOUNT_LOCKED"))&&e.name!==(null===p.Cb||void 0===p.Cb?void 0:p.Cb.SCIM2_SCHEMA_DICTIONARY.get("ACCOUNT_DISABLED"))&&e.name!==(null===p.Cb||void 0===p.Cb?void 0:p.Cb.SCIM2_SCHEMA_DICTIONARY.get("ONETIME_PASSWORD"))&&(fe.x.userEditSection.showEmail||e.name!==(null===p.Cb||void 0===p.Cb?void 0:p.Cb.SCIM2_SCHEMA_DICTIONARY.get("EMAILS")))&&Qe(e))return function(e,t){var n,r,i,o,a;if(![ke?Te:Pe,ke?Le:De,Ze,xe].some((function(t){return e.name===t}))&&(fe.x.userEditSection.showEmail||e.name!==Pe)){var s=w("user:profile.fields."+e.name.replace(".","_"),{defaultValue:e.displayName}),c=null==l||null===(n=l.get(e.name))||void 0===n?void 0:n.toString().split("/"),m=null!==(r=null==e||null===(i=e.profiles)||void 0===i||null===(i=i.console)||void 0===i?void 0:i.mutability)&&void 0!==r?r:e.mutability,f=null!==(o=null==e||null===(a=e.profiles)||void 0===a||null===(a=a.console)||void 0===a?void 0:a.required)&&void 0!==o?o:e.required;return b.createElement(T.Z.Row,{columns:1,key:t},b.createElement(T.Z.Column,{mobile:16,tablet:16,computer:16},"userName"===e.name&&c.length>1?b.createElement(b.Fragment,null,"internal"===d?b.createElement(Ee.Z.Field,null,b.createElement("label",null,fe.x.userEditSection.showEmail?s:s+" (Email)"),b.createElement(he.Z,{"data-componentId":"".concat(M,"-profile-form-").concat(e.name,"-input"),name:e.name,required:f,requiredErrorMessage:s+" is required",placeholder:"Enter your "+s,type:"text",value:c[1],key:t,readOnly:!0,maxLength:e.maxLength?e.maxLength:p.Cb.CLAIM_VALUE_MAX_LENGTH})):b.createElement(Ee.Z.Field,null,b.createElement("label",null,fe.x.userEditSection.showEmail?s:s+" (Email)"),b.createElement(he.Z,{"data-componentId":"".concat(M,"-profile-form-").concat(e.name,"-input"),name:e.name,label:c[0]+" / ",required:f,requiredErrorMessage:s+" is required",placeholder:"Enter your "+s,type:"text",value:c[1],key:t,readOnly:u||m===p.Cb.READONLY_SCHEMA,maxLength:e.maxLength?e.maxLength:p.Cb.CLAIM_VALUE_MAX_LENGTH}))):We(e,s,t)))}}(e,t)})),Z&&b.createElement(T.Z.Row,{columns:1},b.createElement(T.Z.Column,{mobile:16,tablet:16,computer:16},b.createElement(U.gN,{"data-testid":"".concat(M,"-profile-form-one-time-pw }\n                                    -input"),name:"oneTimePassword",label:w("user:profile.fields.oneTimePassword"),required:!1,requiredErrorMessage:"",type:"text",hidden:void 0===Z,value:Z&&Z,readOnly:!0}))),P&&b.createElement(T.Z.Row,{columns:1},b.createElement(T.Z.Column,{mobile:16,tablet:16,computer:16},b.createElement(Ee.Z.Field,null,b.createElement("label",null,w("user:profile.fields.createdDate")),b.createElement(he.Z,{name:"createdDate",type:"text",value:P?ve()(P).format("YYYY-MM-DD"):"",readOnly:!0})))),D&&b.createElement(T.Z.Row,{columns:1},b.createElement(T.Z.Column,{mobile:16,tablet:16,computer:16},b.createElement(Ee.Z.Field,null,b.createElement("label",null,w("user:profile.fields.modifiedDate")),b.createElement(he.Z,{name:"modifiedDate",type:"text",value:D?ve()(D).format("YYYY-MM-DD"):"",readOnly:!0})))),b.createElement(T.Z.Row,{columns:1},b.createElement(T.Z.Column,{mobile:16,tablet:16,computer:16},!u&&b.createElement(y.zx,{"data-testid":"".concat(M,"-form-update-button"),primary:!0,type:"submit",size:"small",className:"form-button",loading:c,disabled:c||!Y},w("common:update"))))))};var Ye=n(80750),je=n(8976),Fe=n(79438),Ge=n(47513),Be=n(64704),qe=n(2446),We=n(30200),Qe=n(22026),Ke=n(45941),ze=n(67194),$e=n(543),Xe=n(29651),Je=n(66997),et=n(1187),tt=n(17901),nt=n(55495),rt=n(22764);n(15032);function it(e){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},it(e)}function ot(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=it(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=it(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==it(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function at(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ut(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function lt(e){return function(e){if(Array.isArray(e))return ct(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ut(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||ut(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(e,t){if(e){if("string"==typeof e)return ct(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ct(e,t):void 0}}function ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const dt=function(e){var t,n,r,i,o=e.userId,a=e.schema,l=e.primaryEmailSchema,s=e.primaryEmailAddress,u=e.emailAddressesList,c=e.verifiedEmailAddresses,d=e.verificationPendingEmailAddresses,m=e.isVerificationEnabled,f=e.isUpdating,v=e.isReadOnly,g=e.fieldLabel,I=e.maxValueLimit,_=e.setIsUpdating,O=e.onUserUpdated,R=e["data-componentid"],M=void 0===R?"email-field":R,w=(0,C.$)().t,U=(0,A.I0)(),N=(0,rt.cI)(),T=(0,b.useRef)(null),P="".concat(a.name,"-add-field"),D="".concat(a.schemaId,".").concat(a.name),Z="".concat(p.Cb.SCIM2_SCHEMA_DICTIONARY.get("EMAILS"),".primary"),x="".concat(a.schemaId,".").concat(p.Cb.SCIM2_SCHEMA_DICTIONARY.get("VERIFIED_EMAIL_ADDRESSES")),H="".concat(a.schemaId,".").concat(p.Cb.SCIM2_SCHEMA_DICTIONARY.get("PENDING_EMAILS")),V=(0,rt.U$)(D,{subscription:{error:!0,touched:!0,value:!0}}),k=V.input.value,Y=V.meta,j=Y.error,F=Y.touched,G=(0,rt.U$)(Z,{subscription:{error:!0,touched:!0,value:!0}}),B=G.input.value,q=G.meta,W=q.error,Q=q.touched,K=(0,rt.U$)(x,{subscription:{value:!0}}).input.value,z=(0,rt.U$)(H,{subscription:{value:!0}}).input.value,$=null!==(t=null==l||null===(n=l.profiles)||void 0===n||null===(n=n.console)||void 0===n?void 0:n.required)&&void 0!==t?t:null==l?void 0:l.required,X=null!==(r=null==a||null===(i=a.profiles)||void 0===i||null===(i=i.console)||void 0===i?void 0:i.required)&&void 0!==r?r:null==a?void 0:a.required,J=st((0,b.useState)(),2),ee=J[0],te=J[1],ne=function(e,t){return null==t?void 0:t.includes(e)},re=function(e,t){return null==t?void 0:t.includes(e)},fe=function(e,t){return t===e};(0,b.useEffect)((function(){N.batch((function(){N.change(D,u),N.change(Z,s),N.change(x,c),N.change(H,d),N.initialize(N.getState().values)}))}),[]),(0,b.useEffect)((function(){return function(){return Ee.cancel()}}),[]),(0,b.useEffect)((function(){var e,t=null===(e=T.current)||void 0===e?void 0:e.form;if(t){var n=function(){var e,t=null==T||null===(e=T.current)||void 0===e?void 0:e.value,n=(null!=t?t:"").trim();n&&(ve(n)||he(n))};return t.addEventListener("submit",n,!0),function(){t.removeEventListener("submit",n,!0)}}}),[B,k,P,N]);var pe=(0,b.useMemo)((function(){var e,t=[],n=at(lt(k||[]));try{for(n.s();!(e=n.n()).done;){var r=e.value,i={isPrimary:fe(r,B),isVerificationPending:!1,isVerified:!1,value:r};m&&(i.isVerified=re(r,K||[]),i.isVerificationPending=ne(r,z||[])),i.isPrimary?t.unshift(i):t.push(i)}}catch(s){n.e(s)}finally{n.f()}if(m){var o,a=at(z||[]);try{var l=function(){var e=o.value;t.some((function(t){return t.value===e}))||t.push({isPrimary:!1,isVerificationPending:!0,isVerified:!1,value:e})};for(a.s();!(o=a.n()).done;)l()}catch(s){a.e(s)}finally{a.f()}}return t}),[k,B,K,z]),ve=(0,b.useCallback)((function(e){return null!=k&&k.includes(e)?w("users:forms.validation.duplicateError",{field:g}):RegExp(null==l?void 0:l.regEx).test(e)?void 0:w("users:forms.validation.formatError",{field:g})}),[k]),Ee=(0,b.useCallback)((0,nt.Z)((function(e){te(ve(e))}),500),[k]),he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if((0,S.Z)(e)){var t;if(e=null==T||null===(t=T.current)||void 0===t?void 0:t.value,(0,S.Z)(e))return;var n=ve(e);if(!(0,S.Z)(n))return}var r=null!=k?k:[];N.batch((function(){0===r.length&&N.change(Z,e),N.change(D,[].concat(lt(r),[e]))})),T.current.value=""};return b.createElement(Ye.Z,{container:!0},b.createElement(Ye.Z,{xs:12},b.createElement(je.Z,{inputRef:T,name:"".concat(a.name,"-add-field"),type:"text",label:g,margin:"dense",placeholder:w("user:profile.forms.generic.inputs.placeholder",{fieldName:g}),InputProps:{endAdornment:b.createElement(Je.Z,{position:"end"},b.createElement(et.Z,{title:"Add"},b.createElement(le.Z,{"data-componentid":"".concat(M,"-multivalue-add-icon"),size:"large",disabled:f||!(0,S.Z)(ee)||pe.length>=I,onClick:function(){return he()}},b.createElement(tt.pO,null)))),readOnly:v||f},InputLabelProps:{required:$||X},error:!(0,S.Z)(ee)||F&&j||Q&&W,helperText:ee||F&&j||Q&&W,onChange:function(e){Ee(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),he())},"data-componentid":"".concat(M,"-input"),"data-testid":"".concat(M,"-input"),fullWidth:!0}),b.createElement(Fe.SE,{name:D,component:"input",type:"hidden",validate:function(e){if(X&&(0,S.Z)(e))return w("user:profile.forms.generic.inputs.validations.required",{fieldName:g})}}),b.createElement(Fe.SE,{name:Z,component:"input",type:"hidden",validate:function(e){if($&&(0,S.Z)(e))return w("user:profile.forms.email.primaryEmail.validations.empty")}}),b.createElement(Fe.SE,{name:x,component:"input",type:"hidden"}),b.createElement(Fe.SE,{name:H,component:"input",type:"hidden"})),b.createElement(Ye.Z,{xs:12},b.createElement(ie.Z,{component:se.Z,elevation:0},b.createElement(ue.Z,{className:"multi-value-table",size:"small","aria-label":"multi-attribute value table"},b.createElement(ce.Z,null,pe.map((function(e,t){var n=e.value,r=e.isPrimary,i=e.isVerified,l=e.isVerificationPending;return b.createElement(me.Z,{key:t,className:"multi-value-table-data-row"},b.createElement(de.Z,{align:"left"},b.createElement(Ye.Z,{direction:"row",gap:1,container:!0,justifyContent:"flex-start",alignItems:"center"},b.createElement("label",{"data-componentid":"".concat(M,"-value-").concat(t),className:"multi-value-table-label"},n),i&&b.createElement("div",{className:"verified-icon","data-componentid":"".concat(M,"-verified-icon-").concat(t),"data-testid":"".concat(M,"-verified-icon-").concat(t)},b.createElement(y.GI,{name:"verified-popup",size:"tiny",trigger:b.createElement(L.Z,{name:"check",color:"green"}),header:w("common:verified"),inverted:!0})),r&&b.createElement("div",{"data-componentid":"".concat(M,"-primary-icon-").concat(t)},b.createElement(ae.Z,{label:w("common:primary"),size:"medium"})),l&&b.createElement("div",{className:"verified-icon","data-componentid":"".concat(M,"-pending-verification-icon-").concat(t)},b.createElement(y.GI,{name:"pending-verification-popup",size:"tiny",trigger:b.createElement(L.Z,{name:"info circle",color:"yellow"}),header:w("user:profile.tooltips.confirmationPending"),inverted:!0})))),b.createElement(de.Z,{align:"right"},b.createElement(Ye.Z,{direction:"row",gap:1,justifyContent:"flex-end",container:!0},m&&!i&&b.createElement(oe.Z,{variant:"text",size:"small",className:"text-btn",onClick:function(){return function(e){_(!0);var t={Operations:[],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]},n=[].concat(lt(K||[]),[e]);t.Operations.push({op:"replace",value:ot({},a.schemaId,ot({},p.Cb.SCIM2_SCHEMA_DICTIONARY.get("VERIFIED_EMAIL_ADDRESSES"),n))}),(0,ge.gS)(o,t).then((function(){U((0,h.V_)({description:w("user:profile.notifications.verifyEmail.success.description"),level:E.QU.SUCCESS,message:w("user:profile.notifications.verifyEmail.success.message")})),O(o)})).catch((function(){U((0,h.V_)({description:w("user:profile.notifications.verifyEmail.genericError.description"),level:E.QU.ERROR,message:w("user:profile.notifications.verifyEmail.genericError.message")}))})).finally((function(){_(!1)}))}(n)},"data-componentid":"".concat(M,"-verify-button-").concat(t),disabled:f||v},w("common:verify")),!r&&(!m||i)&&b.createElement(oe.Z,{variant:"text",size:"small",className:"text-btn",onClick:function(){return e=n,void N.change(Z,e);var e},"data-componentid":"".concat(M,"-make-primary-button-").concat(t),disabled:f||v},w("common:makePrimary")),b.createElement(et.Z,{title:w("common:delete")},b.createElement(le.Z,{size:"small",onClick:function(){return e=n,t=null==k?void 0:k.filter((function(t){return t!==e})),r=!(0,S.Z)(K)&&(null==K?void 0:K.filter((function(t){return t!==e}))),i=!(0,S.Z)(z)&&(null==z?void 0:z.filter((function(t){return t!==e}))),void N.batch((function(){N.change(D,t),e===B&&N.change(Z,""),null!=K&&K.includes(e)&&N.change(x,r||[]),null!=z&&z.includes(e)&&N.change(H,i||[])}));var e,t,r,i},"data-componentid":"".concat(M,"-delete-button-").concat(t),disabled:r&&$||f||v},b.createElement(tt.XH,null))))))})))))))};function mt(e){return function(e){if(Array.isArray(e))return vt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||pt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||pt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pt(e,t){if(e){if("string"==typeof e)return vt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vt(e,t):void 0}}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Et=function(e){var t,n,r,i,o=e.schema,a=e.primarySchema,l=e.primaryMobileNumber,s=e.mobileNumbersList,u=e.verifiedMobileNumbers,c=e.verificationPendingMobileNumber,d=e.isVerificationEnabled,m=e.isUpdating,f=e.isReadOnly,v=e.fieldLabel,E=e.maxValueLimit,h=e["data-componentid"],g=void 0===h?"mobile-numbers-field":h,A=(0,C.$)().t,I=(0,rt.cI)(),_=(0,b.useRef)(null),O="".concat(o.name,"-add-field"),R="".concat(o.schemaId,".").concat(o.name),M=p.Cb.SCIM2_SCHEMA_DICTIONARY.get("MOBILE"),w="".concat(o.schemaId,".").concat(p.Cb.SCIM2_SCHEMA_DICTIONARY.get("VERIFIED_MOBILE_NUMBERS")),U="".concat(o.schemaId,".").concat(p.Cb.SCIM2_SCHEMA_DICTIONARY.get("PENDING_MOBILE")),N=(0,rt.U$)(R,{subscription:{error:!0,touched:!0,value:!0}}),T=N.input.value,P=N.meta,D=P.error,Z=P.touched,x=(0,rt.U$)(M,{subscription:{error:!0,touched:!0,value:!0}}),H=x.input.value,V=x.meta,k=V.error,Y=V.touched,j=(0,rt.U$)(w,{subscription:{value:!0}}).input.value,F=(0,rt.U$)(U,{subscription:{value:!0}}).input.value,G=null!==(t=null==a||null===(n=a.profiles)||void 0===n||null===(n=n.console)||void 0===n?void 0:n.required)&&void 0!==t?t:null==a?void 0:a.required,B=null!==(r=null==o||null===(i=o.profiles)||void 0===i||null===(i=i.console)||void 0===i?void 0:i.required)&&void 0!==r?r:null==o?void 0:o.required,q=ft((0,b.useState)([]),2),W=q[0],Q=q[1],K=ft((0,b.useState)(),2),z=K[0],$=K[1],X=function(e,t){return e===t},J=function(e,t){return null==t?void 0:t.includes(e)},ee=function(e,t){return t===e};(0,b.useEffect)((function(){I.batch((function(){I.change(R,s),I.change(M,l),I.change(w,u),I.change(U,c),I.initialize(I.getState().values)}))}),[]),(0,b.useEffect)((function(){var e,t=[],n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=pt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}(mt(T||[]));try{for(n.s();!(e=n.n()).done;){var r=e.value,i={isPrimary:ee(r,H),isVerificationPending:!1,isVerified:!1,value:r};d&&(i.isVerified=J(r,j||[]),i.isVerificationPending=X(r,F)),i.isPrimary?t.unshift(i):t.push(i)}}catch(o){n.e(o)}finally{n.f()}d&&!(0,S.Z)(F)&&(t.some((function(e){return e.value===F}))||t.push({isPrimary:!1,isVerificationPending:!0,isVerified:!1,value:F})),Q(t)}),[T,H,j,F]),(0,b.useEffect)((function(){return function(){return ne.cancel()}}),[]),(0,b.useEffect)((function(){var e,t=null===(e=_.current)||void 0===e?void 0:e.form;if(t){var n=function(){var e,t=null==_||null===(e=_.current)||void 0===e?void 0:e.value,n=(null!=t?t:"").trim();n&&(te(n)||re(n))};return t.addEventListener("submit",n,!0),function(){t.removeEventListener("submit",n,!0)}}}),[H,T,O,I]);var te=(0,b.useCallback)((function(e){if(!(0,S.Z)(e))return null!=T&&T.includes(e)?A("users:forms.validation.duplicateError",{field:v}):RegExp(null==a?void 0:a.regEx).test(e)?void 0:A("users:forms.validation.formatError",{field:a.displayName})}),[T]),ne=(0,b.useCallback)((0,nt.Z)((function(e){$(te(e))}),500),[T]),re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e;if((0,S.Z)(e)){var n;if(t=null==_||null===(n=_.current)||void 0===n?void 0:n.value,(0,S.Z)(t))return;var r=te(t);if(!(0,S.Z)(r))return}I.batch((function(){0===(null!=T?T:[]).length&&I.change(M,t),I.change(R,[].concat(mt(null!=T?T:[]),[t]))})),_.current.value=""};return b.createElement(Ye.Z,{container:!0},b.createElement(Ye.Z,{xs:12},b.createElement(je.Z,{inputRef:_,name:O,type:"text",label:v,margin:"dense",placeholder:A("user:profile.forms.generic.inputs.placeholder",{fieldName:v}),InputProps:{endAdornment:b.createElement(Je.Z,{position:"end"},b.createElement(et.Z,{title:"Add"},b.createElement(le.Z,{"data-componentid":"".concat(g,"-multivalue-add-icon"),size:"large",disabled:m||!(0,S.Z)(z)||W.length>=E,onClick:function(){return re()}},b.createElement(tt.pO,null)))),readOnly:f||m},InputLabelProps:{required:G||B},error:!(0,S.Z)(z)||Z&&D||Y&&k,helperText:z||Z&&D||Y&&k,onChange:function(e){ne(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),re())},"data-componentid":"".concat(g,"-input"),"data-testid":"".concat(g,"-input"),fullWidth:!0}),b.createElement(Fe.SE,{name:R,component:"input",type:"hidden",validate:function(e){if(B&&(0,S.Z)(e))return A("user:profile.forms.generic.inputs.validations.required",{fieldName:v})}}),b.createElement(Fe.SE,{name:M,component:"input",type:"hidden",validate:function(e){if(B&&(0,S.Z)(e))return A("user:profile.forms.mobile.primaryMobile.validations.empty")}}),b.createElement(Fe.SE,{name:w,component:"input",type:"hidden"}),b.createElement(Fe.SE,{name:U,component:"input",type:"hidden"})),b.createElement(Ye.Z,{xs:12},b.createElement(ie.Z,{component:se.Z,elevation:0},b.createElement(ue.Z,{className:"multi-value-table",size:"small","aria-label":"multi-attribute value table"},b.createElement(ce.Z,null,W.map((function(e,t){var n=e.value,r=e.isPrimary,i=e.isVerified,a=e.isVerificationPending;return b.createElement(me.Z,{key:t,className:"multi-value-table-data-row"},b.createElement(de.Z,{align:"left"},b.createElement(Ye.Z,{direction:"row",gap:1,container:!0,justifyContent:"flex-start",alignItems:"center"},b.createElement("label",{"data-componentid":"".concat(g,"-value-").concat(t),className:"multi-value-table-label"},n),i&&b.createElement("div",{className:"verified-icon","data-componentid":"".concat(g,"-verified-icon-").concat(t)},b.createElement(y.GI,{name:"verified-popup",size:"tiny",trigger:b.createElement(L.Z,{name:"check",color:"green"}),header:A("common:verified"),inverted:!0})),r&&b.createElement("div",{"data-componentid":"".concat(g,"-primary-icon-").concat(t)},b.createElement(ae.Z,{label:A("common:primary"),size:"medium"})),a&&b.createElement("div",{className:"verified-icon","data-componentid":"".concat(g,"-profile-form-").concat(o.name,"-pending-verification")+"-icon-".concat(t)},b.createElement(y.GI,{name:"pending-verification-popup",size:"tiny",trigger:b.createElement(L.Z,{name:"info circle",color:"yellow"}),header:A("user:profile.tooltips.confirmationPending"),inverted:!0})))),b.createElement(de.Z,{align:"right"},b.createElement(Ye.Z,{direction:"row",gap:1,justifyContent:"flex-end",container:!0},!r&&(!d||i)&&b.createElement(oe.Z,{variant:"text",size:"small",className:"text-btn",onClick:function(){return e=n,void I.change(M,e);var e},"data-componentid":"".concat(g,"-make-primary-button-").concat(t),disabled:m||f},A("common:makePrimary")),b.createElement(et.Z,{title:A("common:delete")},b.createElement(le.Z,{size:"small",onClick:function(){return e=n,t=null==T?void 0:T.filter((function(t){return t!==e})),void I.batch((function(){I.change(R,t),e===H&&I.change(M,""),e===F&&I.change(U,"")}));var e,t},"data-componentid":"".concat(g,"-delete-button-").concat(t),disabled:r&&G||m||f},b.createElement(tt.XH,null))))))})))))))};var ht=n(88332),gt=n(45420);const yt=function(e){var t=e.schema,n=e.fieldName,r=e.fieldLabel,i=e.initialValue,o=e.pendingValue,a=e.isVerificationEnabled,l=e.isUpdating,s=e.isReadOnly,u=e.isRequired,c=e.maxLength,d=e.validator,m=e["data-componentid"],f=void 0===m?"single-valued-email-mobile-field":m,p=(0,C.$)().t,v=i;a&&!(0,S.Z)(o)&&(v=o);var E=!(0,S.Z)(o);return b.createElement(Fe.SE,{component:Fe.xh,initialValue:v,ariaLabel:r,name:null!=n?n:t.name,type:"text",label:r,placeholder:p("user:profile.forms.generic.inputs.placeholder",{fieldName:r}),validate:function(e){return d?d(e):void 0},maxLength:c,readOnly:s||l,required:u,InputProps:{endAdornment:a&&E&&b.createElement("div",{className:"verified-icon","data-componentid":"".concat(f,"-profile-form-").concat(t.name,"-pending-verification")},b.createElement(y.GI,{name:"pending-verification-popup",size:"tiny",trigger:b.createElement(L.Z,{name:"info circle",color:"yellow"}),header:p("user:profile.tooltips.confirmationPending"),inverted:!0}))},"data-componentid":"".concat(f,"-input"),"data-testid":"".concat(f,"-input")})};var St=n(44905);const bt=function(e){var t,n,r,i,o,a,l,s,u=e.schema,c=e.flattenedProfileSchema,d=e.initialValues,m=e.isEmailVerificationEnabled,f=e.isMobileVerificationEnabled,v=e.isUpdating,h=e.setIsUpdating,g=e.onUserUpdated,y=e.isReadOnlyMode,A=e.isUserManagedByParentOrg,I=e.useDefaultLabelsAndOrder,_=void 0===I||I,O=e["data-componentid"],R=void 0===O?"profile-form-field-renderer":O,M=(0,C.$)().t,w=_?M("user:profile.fields."+u.name.replace(".","_"),{defaultValue:u.displayName}):u.displayName,U="".concat(R,"-").concat(u.name),N=u.schemaId.replace(/\./g,"__DOT__"),T=null==u?void 0:u.sharedProfileValueResolvingMethod,L=null!==(t=null==u||null===(n=u.profiles)||void 0===n||null===(n=n.console)||void 0===n?void 0:n.mutability)&&void 0!==t?t:u.mutability,P=null!==(r=null==u||null===(i=u.profiles)||void 0===i||null===(i=i.console)||void 0===i?void 0:i.required)&&void 0!==r?r:u.required,D=A&&T===E.Hk.FROM_ORIGIN||y||L===p.Cb.READONLY_SCHEMA||u.name===p.Cb.SCIM2_SCHEMA_DICTIONARY.get("USERNAME"),Z=!(A&&T===E.Hk.FROM_ORIGIN)&&P,x=null!==(o=u.maxLength)&&void 0!==o?o:p.Cb.CLAIM_VALUE_MAX_LENGTH,H=function(e){return(0,S.Z)(e)&&Z?M("user:profile.forms.generic.inputs.validations.required",{fieldName:w}):(0,S.Z)(e)||RegExp(u.regEx).test(e)?void 0:M("users:forms.validation.formatError",{field:w})};if(u.schemaUri===p.Cb.SCIM2_SYSTEM_USER_SCHEMA_ATTRIBUTES.emailAddresses){var V,k,Y=c.find((function(e){return e.name===p.Cb.SCIM2_SCHEMA_DICTIONARY.get("EMAILS")})),j=p.Cb.SCIM2_SCHEMA_DICTIONARY.get("EMAILS"),F=p.Cb.SCIM2_SCHEMA_DICTIONARY.get("EMAIL_ADDRESSES"),G=p.Cb.SCIM2_SCHEMA_DICTIONARY.get("VERIFIED_EMAIL_ADDRESSES"),B=p.Cb.SCIM2_SCHEMA_DICTIONARY.get("PENDING_EMAILS"),q=null!==(V=null===(k=d[u.schemaId][B])||void 0===k?void 0:k.map((function(e){return e.value})))&&void 0!==V?V:[];return b.createElement(dt,{userId:d.id,schema:u,primaryEmailSchema:Y,primaryEmailAddress:d[j],fieldLabel:w,emailAddressesList:d[u.schemaId][F],verifiedEmailAddresses:d[u.schemaId][G],verificationPendingEmailAddresses:q,isVerificationEnabled:m,isUpdating:v,isReadOnly:D,maxValueLimit:p.Cb.MAX_EMAIL_ADDRESSES_ALLOWED,setIsUpdating:h,onUserUpdated:g,"data-componentid":U})}if(u.schemaUri===p.Cb.SCIM2_SYSTEM_USER_SCHEMA_ATTRIBUTES.mobileNumbers){var W,Q=c.find((function(e){return e.name===p.Cb.SCIM2_SCHEMA_DICTIONARY.get("MOBILE")})),K=p.Cb.SCIM2_SCHEMA_DICTIONARY.get("MOBILE"),z=p.Cb.SCIM2_SCHEMA_DICTIONARY.get("MOBILE_NUMBERS"),$=p.Cb.SCIM2_SCHEMA_DICTIONARY.get("VERIFIED_MOBILE_NUMBERS"),X=p.Cb.SCIM2_SCHEMA_DICTIONARY.get("PENDING_MOBILE"),J=null!==(W=d[u.schemaId][X])&&void 0!==W?W:"";return b.createElement(Et,{schema:u,primarySchema:Q,primaryMobileNumber:d[K],fieldLabel:w,mobileNumbersList:d[u.schemaId][z],verifiedMobileNumbers:d[u.schemaId][$],verificationPendingMobileNumber:J,isVerificationEnabled:f,isUpdating:v,isReadOnly:D,maxValueLimit:p.Cb.MAX_MOBILE_NUMBERS_ALLOWED,"data-componentid":U})}if(u.schemaUri===p.Cb.SCIM2_CORE_USER_SCHEMA_ATTRIBUTES.emails){var ee,te,ne=p.Cb.SCIM2_SCHEMA_DICTIONARY.get("EMAILS"),re=p.Cb.SCIM2_SCHEMA_DICTIONARY.get("PENDING_EMAILS"),ie=null!==(ee=null===(te=d[p.Cb.SCIM2_SYSTEM_USER_SCHEMA][re])||void 0===te||null===(te=te.find((function(e){return!(0,S.Z)(e.value)})))||void 0===te?void 0:te.value)&&void 0!==ee?ee:"";return b.createElement(yt,{schema:u,fieldName:"".concat(ne,".primary"),fieldLabel:w,initialValue:d[ne],pendingValue:ie,isVerificationEnabled:m,isUpdating:v,isReadOnly:D,isRequired:Z,validator:H,"data-componentid":U})}if(u.schemaUri===p.Cb.SCIM2_CORE_USER_SCHEMA_ATTRIBUTES.mobile){var oe,ae=p.Cb.SCIM2_SCHEMA_DICTIONARY.get("MOBILE"),le=p.Cb.SCIM2_SCHEMA_DICTIONARY.get("PENDING_MOBILE"),se=null!==(oe=d[p.Cb.SCIM2_SYSTEM_USER_SCHEMA][le])&&void 0!==oe?oe:"";return b.createElement(yt,{schema:u,fieldName:u.name,fieldLabel:w,initialValue:d[ae],pendingValue:se,isVerificationEnabled:f,isUpdating:v,isReadOnly:D,isRequired:Z,validator:H,"data-componentid":U})}if(u.schemaUri===p.Cb.SCIM2_SYSTEM_USER_SCHEMA_ATTRIBUTES.country)return b.createElement(Ke.Z,{fieldLabel:w,fieldName:"".concat(N,".").concat(u.name),initialValue:d[N][u.name],isUpdating:v,isReadOnly:D,isRequired:Z,validator:H,"data-componentid":U});if("locale"===u.name)return b.createElement(Xe.Z,{fieldLabel:w,fieldName:u.name,initialValue:d[u.name],isUpdating:v,isReadOnly:D,isRequired:Z,validator:H,"data-componentid":U});if(u.name===p.Cb.SCIM2_SCHEMA_DICTIONARY.get("DOB")&&(null===(a=u.inputFormat)||void 0===a?void 0:a.inputType)!==E.wG.DATE_PICKER)return b.createElement(St.Z,{fieldName:"".concat(N,".").concat(u.name),fieldLabel:w,initialValue:d[N][u.name],validator:H,placeholder:"YYYY-MM-DD",maxLength:x,isReadOnly:D,isRequired:Z,isUpdating:v,"data-componentid":U});var ue=null!==(l=null===(s=u.inputFormat)||void 0===s?void 0:s.inputType)&&void 0!==l?l:E.wG.TEXT_INPUT,ce=u.multiValued,de=d[u.name],me=u.name;if(u.extended&&(de=d[N][u.name],me="".concat(N,".").concat(u.name)),ce)switch(ue){case E.wG.CHECKBOX_GROUP:return b.createElement(Qe.Z,{schema:u,fieldLabel:w,fieldName:me,initialValue:de,isUpdating:v,isReadOnly:D,isRequired:Z,"data-componentid":U});case E.wG.MULTI_SELECT_DROPDOWN:return b.createElement($e.Z,{schema:u,fieldLabel:w,fieldName:me,initialValue:de,isUpdating:v,isReadOnly:D,isRequired:Z,"data-componentid":U,isMultiSelect:!0});case E.wG.NUMBER_INPUT:return b.createElement(ht.Z,{schema:u,fieldName:me,fieldLabel:w,type:"number",initialValue:de,isReadOnly:D,isRequired:Z,isUpdating:v,maxValueLimit:p.Cb.MAX_MULTI_VALUES_ALLOWED,"data-componentid":U});case E.wG.TEXT_INPUT:default:return b.createElement(ht.Z,{schema:u,fieldName:me,fieldLabel:w,initialValue:de,isReadOnly:D,isRequired:Z,isUpdating:v,maxValueLimit:p.Cb.MAX_MULTI_VALUES_ALLOWED,"data-componentid":U})}switch(ue){case E.wG.NUMBER_INPUT:return b.createElement(St.Z,{fieldName:me,fieldLabel:w,type:"number",initialValue:de,validator:H,maxLength:x,isReadOnly:D,isRequired:Z,isUpdating:v,"data-componentid":U});case E.wG.CHECKBOX:return b.createElement(Fe.SE,{component:Fe.ur,initialValue:"string"==typeof de?"true"===de.toLowerCase():!!de,ariaLabel:w,label:w,name:me,readOnly:D||v,disabled:D||v,"data-componentid":U});case E.wG.TOGGLE:return b.createElement(Fe.SE,{component:Fe.qx,initialValue:"string"==typeof de?"true"===de.toLowerCase():!!de,ariaLabel:w,label:w,name:me,readOnly:D||v,disabled:D||v,"data-componentid":U});case E.wG.DROPDOWN:return b.createElement($e.Z,{schema:u,fieldLabel:w,fieldName:me,initialValue:de,isUpdating:v,isReadOnly:D,isRequired:Z,"data-componentid":U});case E.wG.RADIO_GROUP:return b.createElement(gt.Z,{schema:u,fieldLabel:w,fieldName:me,initialValue:de,isUpdating:v,isReadOnly:D,isRequired:Z,validator:H,"data-componentid":U});case E.wG.DATE_PICKER:var fe=ve()(de,"YYYY-MM-DD",!0);return(0,S.Z)(de)||fe.isValid()?b.createElement(ze.Z,{schema:u,fieldLabel:w,fieldName:me,initialValue:de,isUpdating:v,isReadOnly:D,isRequired:Z,validator:H,"data-componentid":U}):b.createElement(St.Z,{fieldName:me,fieldLabel:w,initialValue:de,validator:H,maxLength:x,isReadOnly:D,isRequired:Z,isUpdating:v,"data-componentid":U});default:return b.createElement(St.Z,{fieldName:me,fieldLabel:w,initialValue:de,validator:H,maxLength:x,isReadOnly:D,isRequired:Z,isUpdating:v,"data-componentid":U})}};function Ct(e){return Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ct(e)}function At(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Ct(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ct(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ct(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function It(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Rt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function _t(e){return function(e){if(Array.isArray(e))return Mt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Rt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||Rt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rt(e,t){if(e){if("string"==typeof e)return Mt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mt(e,t):void 0}}function Mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var wt=[p.Cb.SCIM2_SCHEMA_DICTIONARY.get("ROLES_DEFAULT"),p.Cb.SCIM2_SCHEMA_DICTIONARY.get("ACTIVE"),p.Cb.SCIM2_SCHEMA_DICTIONARY.get("GROUPS"),p.Cb.SCIM2_SCHEMA_DICTIONARY.get("PROFILE_URL"),p.Cb.SCIM2_SCHEMA_DICTIONARY.get("ACCOUNT_LOCKED"),p.Cb.SCIM2_SCHEMA_DICTIONARY.get("ACCOUNT_DISABLED"),p.Cb.SCIM2_SCHEMA_DICTIONARY.get("ONETIME_PASSWORD"),p.Cb.SCIM2_SCHEMA_DICTIONARY.get("VERIFIED_EMAIL_ADDRESSES"),p.Cb.SCIM2_SCHEMA_DICTIONARY.get("VERIFIED_MOBILE_NUMBERS")];const Ut=function(e){var t,n,r,i=e.profileData,o=e.duplicateClaims,l=e.isReadOnlyMode,s=e.accountConfigSettings,c=e.isUserManagedByParentOrg,d=e.onUserUpdated,m=e["data-componentid"],f=void 0===m?"user-profile-form":m,y=(0,C.$)().t,I=(0,A.I0)(),_=(0,A.v9)((function(e){return e.profile.profileSchemas})),O=(0,A.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.isMultipleEmailsAndMobileNumbersEnabled})),R=(0,A.v9)((function(e){var t;return null===(t=e.config.ui.features)||void 0===t?void 0:t.attributeDialects})),w=(0,A.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.users})),U=Ot((0,b.useState)(!1),2),N=U[0],T=U[1],L="true"===(null==s?void 0:s.isMobileVerificationEnabled),P="true"===(null==s?void 0:s.isEmailVerificationEnabled),D=(0,v.cr)(R,a.QN.DISTINCT_ATTRIBUTE_PROFILES_FEATURE_FLAG),Z=(0,v.cr)(R,a.QN.FEATURE_DICTIONARY.get(a.Q_.HideUserIdDisplayConfigurations)),x=(0,v.cr)(w,$._F.FEATURE_DICTIONARY.get($.Oq.HideReadOnlyAttributesWhenEmpty)),H=(0,v.cr)(w,$._F.FEATURE_DICTIONARY.get($.Oq.UseDefaultLabelsAndOrder)),V=null===(t=i[p.Cb.SCIM2_SYSTEM_USER_SCHEMA])||void 0===t?void 0:t.oneTimePassword,k=null==i||null===(n=i.meta)||void 0===n?void 0:n.created,Y=null==i||null===(r=i.meta)||void 0===r?void 0:r.lastModified,j=(0,b.useMemo)((function(){return g.ProfileUtils.flattenSchemas(_t(_)).sort((function(e,t){return(0,Se.KZ)(e,H)-(0,Se.KZ)(t,H)}))}),[_]),F=(0,b.useMemo)((function(){var e,t;if(!O)return!1;var n=(null==i||null===(e=i.userName)||void 0===e||null===(e=e.toString())||void 0===e?void 0:e.split("/"))||[],r=null===(t=n.length>1?n[0]:M.pH)||void 0===t?void 0:t.toUpperCase();return(0,Se.SI)(j,r)}),[j,null==i?void 0:i.userName]),G=(0,b.useMemo)((function(){var e=function(){var e=(0,Ge.Z)(i),t=p.Cb.SCIM2_SYSTEM_USER_SCHEMA;t in e||(e[t]={});for(var n=p.Cb.SCIM2_SCHEMA_DICTIONARY.get("EMAILS"),r=p.Cb.SCIM2_SCHEMA_DICTIONARY.get("EMAIL_ADDRESSES"),o=p.Cb.SCIM2_SCHEMA_DICTIONARY.get("VERIFIED_EMAIL_ADDRESSES"),a=p.Cb.SCIM2_SCHEMA_DICTIONARY.get("EMAIL_VERIFIED"),l=p.Cb.SCIM2_SCHEMA_DICTIONARY.get("PHONE_NUMBERS"),s=p.Cb.SCIM2_SCHEMA_DICTIONARY.get("MOBILE_NUMBERS"),u=p.Cb.SCIM2_SCHEMA_DICTIONARY.get("VERIFIED_MOBILE_NUMBERS"),c=p.Cb.SCIM2_SCHEMA_DICTIONARY.get("PHONE_VERIFIED"),d=0,m=Object.entries(i);d<m.length;d++){var f=Ot(m[d],2),v=f[0],E=f[1];if(v!==n||(0,S.Z)(E)){if(v===l&&!(0,S.Z)(E)){var h,g,y,b=null===(h=e[t])||void 0===h?void 0:h[s],C=Array.isArray(b)?b:[],A=null===(g=(Array.isArray(E)?E:[]).find((function(e){return"mobile"===e.type})))||void 0===g?void 0:g.value;if(F&&(0,S.Z)(C)&&A&&(e[t][s]=[A]),F&&L&&(null===(y=e[t])||void 0===y?void 0:y[c])){var I,_=null===(I=e[t])||void 0===I?void 0:I[u],O=Array.isArray(_)?_:[];O.includes(A)||(e[t][u]=[].concat(_t(O),[A]))}}}else{var R,M,w=null===(R=e[t])||void 0===R?void 0:R[r],U=Array.isArray(w)?w:[],N=(Array.isArray(E)?E:[]).find((function(e){return"string"==typeof e}));if(F&&(0,S.Z)(U)&&N&&(e[t][r]=[N]),F&&P&&(null===(M=e[t])||void 0===M?void 0:M[a])){var T,D=null===(T=e[t])||void 0===T?void 0:T[o],Z=Array.isArray(D)?D:[];Z.includes(N)||(e[t][o]=[].concat(_t(Z),[N]))}}}return e}(),t={};t.id=e.id;var n,r=It(i.schemas);try{for(r.s();!(n=r.n()).done;){var o=n.value;o!==p.Cb.SCIM2_CORE_USER_SCHEMA&&(t[o.toString().replace(/\./g,"__DOT__")]={})}}catch(d){r.e(d)}finally{r.f()}var a,l=It(j);try{var s=function(){var n,r=a.value,i=r.name.split("."),o=r.schemaId.replace(/\./g,"__DOT__");if(r.extended||i[0]!==p.Cb.SCIM2_SCHEMA_DICTIONARY.get("EMAILS")&&i[0]!==p.Cb.SCIM2_SCHEMA_DICTIONARY.get("PHONE_NUMBERS"))if(r.extended||i[0]!==p.Cb.SCIM2_SCHEMA_DICTIONARY.get("ADDRESSES"))if(!r.extended&&i[0].startsWith("".concat(p.Cb.SCIM2_SCHEMA_DICTIONARY.get("ADDRESSES"),"#"))){var l,s=i[0].split("#"),u=i[1];t[r.name]=null===(l=e[s[0]])||void 0===l||null===(l=l.find((function(e){return e.type===s[1]})))||void 0===l?void 0:l[u]}else if(i.length>1){var c=i[0].split("#");if(c.length>1){var d,m,f=void 0;if(r.extended)f=null===(m=e[o])||void 0===m?void 0:m[c[0]];else f=e[c[0]];var v=null===(d=f.find((function(e){return e.type===c[1]})))||void 0===d?void 0:d.value;r.extended?t[o][r.name]=v:t[r.name]=v}else{var E,h;if(r.extended)t[o][r.name]=null===(E=e[r.schemaId])||void 0===E||null===(E=E[i[0]])||void 0===E?void 0:E[i[1]];else t[r.name]=null===(h=e[i[0]])||void 0===h?void 0:h[i[1]]}}else{var g;if(r.extended)t[o][r.name]=null===(g=e[r.schemaId])||void 0===g?void 0:g[i[0]];else t[r.name]=e[i[0]]}else{var y;t[r.name]=null===(y=e[i[0]])||void 0===y||null===(y=y.find((function(e){return e.type===i[1]})))||void 0===y?void 0:y.formatted}else if(1===i.length){if(i[0]===p.Cb.SCIM2_SCHEMA_DICTIONARY.get("EMAILS")){var S,b=null===(S=e[i[0]])||void 0===S?void 0:S.find((function(e){return"string"==typeof e}));t[i[0]]=b}}else t[r.name]=null===(n=e[i[0]])||void 0===n||null===(n=n.find((function(e){return e.type===i[1]})))||void 0===n?void 0:n.value};for(l.s();!(a=l.n()).done;)s()}catch(d){l.e(d)}finally{l.f()}t[p.Cb.SCIM2_SYSTEM_USER_SCHEMA][p.Cb.SCIM2_SCHEMA_DICTIONARY.get("EMAIL_VERIFIED")]=e[p.Cb.SCIM2_SYSTEM_USER_SCHEMA][p.Cb.SCIM2_SCHEMA_DICTIONARY.get("EMAIL_VERIFIED")],t[p.Cb.SCIM2_SYSTEM_USER_SCHEMA][p.Cb.SCIM2_SCHEMA_DICTIONARY.get("PHONE_VERIFIED")]=e[p.Cb.SCIM2_SYSTEM_USER_SCHEMA][p.Cb.SCIM2_SCHEMA_DICTIONARY.get("PHONE_VERIFIED")];var u=p.Cb.SCIM2_SCHEMA_DICTIONARY.get("PENDING_EMAILS");t[p.Cb.SCIM2_SYSTEM_USER_SCHEMA][u]=e[p.Cb.SCIM2_SYSTEM_USER_SCHEMA][u];var c=p.Cb.SCIM2_SCHEMA_DICTIONARY.get("PENDING_MOBILE");return t[p.Cb.SCIM2_SYSTEM_USER_SCHEMA][c]=e[p.Cb.SCIM2_SYSTEM_USER_SCHEMA][c],t}),[i,F,P,L]),B=function(e){var t,n,r;if(wt.includes(e.name))return!1;if(e.schemaUri===p.Cb.SCIM2_CORE_USER_SCHEMA_ATTRIBUTES.emails&&(null===u.xg||void 0===u.xg||null===(t=u.xg.userEditSection)||void 0===t||!t.showEmail))return!1;if((e.schemaUri===p.Cb.SCIM2_SYSTEM_USER_SCHEMA_ATTRIBUTES.emailAddresses||e.schemaUri===p.Cb.SCIM2_SYSTEM_USER_SCHEMA_ATTRIBUTES.mobileNumbers)&&!F)return!1;if((e.schemaUri===p.Cb.SCIM2_CORE_USER_SCHEMA_ATTRIBUTES.emails||e.schemaUri===p.Cb.SCIM2_CORE_USER_SCHEMA_ATTRIBUTES.mobile)&&F)return!1;if(D&&e.name!==p.Cb.SCIM2_SCHEMA_DICTIONARY.get("USERNAME")){var i,a,s,c="true"===(null===(i=e.supportedByDefault)||void 0===i?void 0:i.toLowerCase());if(void 0!==(null===(a=e.profiles)||void 0===a||null===(a=a.console)||void 0===a?void 0:a.supportedByDefault))c=null==e||null===(s=e.profiles)||void 0===s||null===(s=s.console)||void 0===s?void 0:s.supportedByDefault;if(!c)return!1}if(o&&o.some((function(t){return t.claimURI===e.schemaUri})))return!1;var d=function(e){var t;return e.extended?null===(t=G[e.schemaId])||void 0===t?void 0:t[e.name]:G[e.name]}(e);if((null===(n=e.type)||void 0===n?void 0:n.toLowerCase())!==E.VL.BOOLEAN.toLowerCase()&&(0,S.Z)(d)){var m,f;if(l)return!1;var v=null!==(m=null==e||null===(f=e.profiles)||void 0===f||null===(f=f.console)||void 0===f?void 0:f.mutability)&&void 0!==m?m:e.mutability;if(x&&v===p.Cb.READONLY_SCHEMA)return!1}return(null===(r=e.type)||void 0===r?void 0:r.toLowerCase())!==E.VL.COMPLEX.toLowerCase()||e.schemaUri===p.Cb.SCIM2_CORE_USER_SCHEMA_ATTRIBUTES.emails||e.schemaUri===p.Cb.SCIM2_CORE_USER_SCHEMA_ATTRIBUTES.mobile};return b.createElement(Fe.vy,{onSubmit:function(e,t){T(!0);for(var n,r={Operations:[],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]},o=t.getState().dirtyFields,a=(n=o,(0,We.Z)(n,(function(e,t,n){!0===t&&(0,qe.Z)(e,n,!0)}),{})),l=function(){var t=Ot(u[s],2),n=t[0],o=t[1];if(n===p.Cb.SCIM2_SCHEMA_DICTIONARY.get("EMAILS")||n===p.Cb.SCIM2_SCHEMA_DICTIONARY.get("PHONE_NUMBERS")){for(var a=[],l=0,c=Object.entries(e[n]);l<c.length;l++){var d=Ot(c[l],2),m=d[0],f=d[1];"primary"===m?a.push(f):a.push({type:m,value:f})}r.Operations.push({op:"replace",value:At({},n,a)})}else if(n===p.Cb.SCIM2_SCHEMA_DICTIONARY.get("ADDRESSES")){for(var v=[],E=0,h=Object.entries(e[n]);E<h.length;E++){var g=Ot(h[E],2),y=g[0],S=g[1];v.push({formatted:S,type:y})}r.Operations.push({op:"replace",value:At({},n,v)})}else if(n.startsWith("".concat(p.Cb.SCIM2_SCHEMA_DICTIONARY.get("ADDRESSES"),"#")))for(var b=n.split("#"),C=0,A=Object.entries(o);C<A.length;C++){var I=Ot(A[C],2),_=I[0];if(!0===I[1]){var O=(0,Be.Z)(e,"".concat(n,".").concat(_),"");r.Operations.push({op:"add",value:At({},b[0],[At(At({},_,O),"type",b[1])])})}}else{var R,M=n.replace(/__DOT__/g,"."),w=i.schemas.includes(M);if(!0===o)return r.Operations.push({op:"replace",value:At({},M,null!==(R=e[n])&&void 0!==R?R:"")}),1;var U=Object.entries(o).flatMap((function(e){var t=Ot(e,2),n=t[0],r=t[1];return!0===r?[n]:"object"===Ct(r)?Object.keys(r).map((function(e){return"".concat(n,".").concat(e)})):[]}));U.forEach((function(t){var i="".concat(n,".").concat(t),o=(0,Be.Z)(e,i,""),a={};(0,qe.Z)(a,i,o),w&&M!==n&&(a[M]=a[n],delete a[n]),r.Operations.push({op:"replace",value:a})}))}},s=0,u=Object.entries(a);s<u.length;s++)l();(0,ge.gS)(i.id,r).then((function(){I((0,h.V_)({description:y("user:profile.notifications.updateProfileInfo.success.description"),level:E.QU.SUCCESS,message:y("user:profile.notifications.updateProfileInfo.success.message")})),d(i.id)})).catch((function(e){var t;e.response&&400===e.response.status&&null!==(t=e.response.data)&&void 0!==t&&t.detail?I((0,h.V_)({description:y("user:profile.notifications.updateProfileInfo.error.description",{description:e.response.data.detail}),level:E.QU.ERROR,message:y("user:profile.notifications.updateProfileInfo.error.message")})):I((0,h.V_)({description:y("user:profile.notifications.updateProfileInfo.genericError.description"),level:E.QU.ERROR,message:y("user:profile.notifications.updateProfileInfo.genericError.message")}))})).finally((function(){T(!1)}))},render:function(e){var t=e.handleSubmit,n=e.dirty;return b.createElement("form",{id:"user-profile-form",onSubmit:t,className:"user-profile-form","data-componentid":"".concat(f,"-form"),"data-testid":"".concat(f,"-form")},b.createElement(Ye.Z,{container:!0,spacing:3},i.id&&Z&&b.createElement(Ye.Z,{xs:12},b.createElement(Fe.SE,{key:"userID",component:Fe.xh,initialValue:null==i?void 0:i.id,label:y("user:profile.fields.userId"),ariaLabel:"userID",name:"userID",type:"text",maxLength:100,minLength:0,"data-componentid":"".concat(f,"-profile-form-userID"),readOnly:!0})),j.filter(B).map((function(e){return b.createElement(Ye.Z,{key:e.schemaUri,xs:12},b.createElement(bt,{schema:e,flattenedProfileSchema:j,initialValues:G,isEmailVerificationEnabled:P,isMobileVerificationEnabled:L,isUserManagedByParentOrg:c,isReadOnlyMode:l,isUpdating:N,setIsUpdating:function(e){return T(e)},onUserUpdated:d,useDefaultLabelsAndOrder:H,"data-componentid":"".concat(f,"-profile-form")}))})),V&&b.createElement(Ye.Z,{xs:12},b.createElement(je.Z,{defaultValue:V,label:y("user:profile.fields.oneTimePassword"),name:"oneTimePassword",type:"text",InputProps:{readOnly:!0},"data-testid":"".concat(f,"-profile-form-one-time-pw-input"),"data-componentid":"".concat(f,"-profile-form-one-time-pw-input"),margin:"dense",fullWidth:!0})),k&&b.createElement(Ye.Z,{xs:12},b.createElement(je.Z,{defaultValue:k?ve()(k).format("YYYY-MM-DD"):"",label:y("user:profile.fields.createdDate"),name:"createdDate",type:"text",InputProps:{readOnly:!0},"data-componentid":"".concat(f,"-profile-form-created-date-input"),margin:"dense",fullWidth:!0})),Y&&b.createElement(Ye.Z,{xs:12},b.createElement(je.Z,{defaultValue:Y?ve()(Y).format("YYYY-MM-DD"):"",label:y("user:profile.fields.modifiedDate"),name:"modifiedDate",type:"text",InputProps:{readOnly:!0},"data-componentid":"".concat(f,"-profile-form-modified-date-input"),margin:"dense",fullWidth:!0})),!l&&b.createElement(Ye.Z,{xs:12},b.createElement(oe.Z,{variant:"contained",type:"submit",size:"small",className:"form-button",loading:N,disabled:N||!n,"data-componentid":"".concat(f,"-form-update-button"),"data-testid":"".concat(f,"-form-update-button")},y("common:update")))))}})};var Nt=n(51835),Tt=n.n(Nt),Lt=n(27975),Pt=n.n(Lt),Dt=n(55900),Zt=n.n(Dt),xt=n(21555),Ht=n.n(xt),Vt=n(3621),kt=n.n(Vt),Yt=n(5062),jt=n.n(Yt),Ft=n(88194),Gt={};Gt.styleTagTransform=jt(),Gt.setAttributes=Ht(),Gt.insert=Zt().bind(null,"head"),Gt.domAPI=Pt(),Gt.insertStyleElement=kt();Tt()(Ft.Z,Gt);Ft.Z&&Ft.Z.locals&&Ft.Z.locals;function Bt(e){return Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bt(e)}function qt(e){return function(e){if(Array.isArray(e))return en(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Jt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wt(){Wt=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),l=new U(r||[]);return i(a,"_invoke",{value:O(e,n,l)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var m="suspendedStart",f="suspendedYield",p="executing",v="completed",E={};function h(){}function g(){}function y(){}var S={};u(S,a,(function(){return this}));var b=Object.getPrototypeOf,C=b&&b(b(N([])));C&&C!==n&&r.call(C,a)&&(S=C);var A=y.prototype=h.prototype=Object.create(S);function I(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(i,o,a,l){var s=d(e[i],e,o);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==Bt(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(c).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,l)}))}l(s.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function O(t,n,r){var i=m;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var l=r.delegate;if(l){var s=R(l,r);if(s){if(s===E)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===m)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var u=d(t,n,r);if("normal"===u.type){if(i=r.done?v:f,u.arg===E)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=v,r.method="throw",r.arg=u.arg)}}}function R(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,R(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),E;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,E;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,E):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,E)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function U(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Bt(t)+" is not iterable")}return g.prototype=y,i(A,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:g,configurable:!0}),g.displayName=u(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},I(_.prototype),u(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new _(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},I(A),u(A,s,"Generator"),u(A,a,(function(){return this})),u(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,U.prototype={constructor:U,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],l=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,E):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),E},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),E}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),E}},t}function Qt(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function Kt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Jt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $t(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Bt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Bt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Bt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||Jt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jt(e,t){if(e){if("string"==typeof e)return en(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?en(e,t):void 0}}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tn=function(e){var t,n,_,O,R,M,w,U,N,T,L,P=e.adminUsername,Z=e.onAlertFired,x=e.user,H=e.handleUserUpdate,V=e.isReadOnly,k=e.allowDeleteOnly,Y=e.connectorProperties,F=e.isReadOnlyUserStoresLoading,G=e.isReadOnlyUserStore,B=void 0!==G&&G,q=e.tenantAdmin,W=e.editUserDisclaimerMessage,Q=e.adminUserType,K=void 0===Q?"None":Q,z=e.isUserManagedByParentOrg,X=e["data-testid"],J=void 0===X?"user-mgt-user-profile":X,ee=(0,C.$)().t,te=(0,A.I0)(),ne=(0,A.v9)((function(e){return e.profile.profileSchemas})),ie=(0,A.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.providedUsername})),oe=(0,A.v9)((function(e){return e.auth.isPrivilegedUser})),ae=(0,A.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.deployment)||void 0===t?void 0:t.tenant})),le=(0,A.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.tenants})),se=(0,A.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.userSchemaURI})),ue=(0,A.v9)((function(e){return e.config.ui.features})),ce=(0,A.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.primaryUserStoreDomainName})),de=(0,i.EV)(null==ue||null===(t=ue.users)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.update),me=(0,A.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.roleAssignments})),fe=(0,i.EV)(null==me||null===(n=me.scopes)||void 0===n?void 0:n.update),pe=fe?d.q$:d.dB,ve=Xt((0,b.useState)(new Map),2),Ee=ve[0],he=ve[1],ge=Xt((0,b.useState)(),2),ye=ge[0],be=ge[1],Ce=Xt((0,b.useState)(!1),2),Ae=Ce[0],Ie=Ce[1],_e=Xt((0,b.useState)(!1),2),Oe=_e[0],Re=_e[1],Me=Xt((0,b.useState)(void 0),2),we=Me[0],Ue=Me[1],Ne=Xt((0,b.useState)(void 0),2),Te=Ne[0],Le=Ne[1],Pe=Xt((0,b.useState)(!1),2),De=Pe[0],Ze=Pe[1],xe=Xt((0,b.useState)(!1),2),He=xe[0],Ve=xe[1],Ye=Xt((0,b.useState)({accountDisable:"false",accountLock:"false",forcePasswordReset:"false",isEmailVerificationEnabled:"false",isMobileVerificationByPrivilegeUserEnabled:"false",isMobileVerificationEnabled:"false"}),2),je=Ye[0],Fe=Ye[1],Ge=Xt((0,y.ZK)(),3),Be=Ge[0],qe=Ge[1],We=Ge[2],Qe=Xt((0,b.useState)(!1),2),Ke=Qe[0],ze=Qe[1],$e=Xt((0,b.useState)(""),2),Xe=$e[0],Je=$e[1],et=Xt((0,b.useState)(""),2),tt=et[0],nt=et[1],rt=Xt((0,b.useState)([]),2),it=rt[0],ot=rt[1],at=Xt((0,b.useState)(!0),2),lt=at[0],st=at[1],ut="true"===(null===(_=x[u.x8.userProfileSchema])||void 0===_?void 0:_.accountLocked)||!0===(null===(O=x[u.x8.userProfileSchema])||void 0===O?void 0:O.accountLocked),ct=null===(R=x[u.x8.userProfileSchema])||void 0===R?void 0:R.lockedReason,dt=null===(M=x[u.x8.userProfileSchema])||void 0===M?void 0:M.accountState,mt="true"===(null===(w=x[u.x8.userProfileSchema])||void 0===w?void 0:w.accountDisabled)||!0===(null===(U=x[u.x8.userProfileSchema])||void 0===U?void 0:U.accountDisabled),ft=null!==(N=null==x||null===(T=x.roles)||void 0===T?void 0:T.some((function(e){return e.display===c.$.adminRoleName})))&&void 0!==N&&N,pt=(0,v.cr)(null==ue?void 0:ue.users,$._F.FEATURE_DICTIONARY.get($.Oq.UserLegacyProfile));(0,b.useEffect)((function(){if(Y&&Array.isArray(Y)&&(null==Y?void 0:Y.length)>0){var e,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(n),!0).forEach((function(t){$t(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},je),n=Kt(Y);try{for(n.s();!(e=n.n()).done;){var r=e.value;if($.Qj.includes(r.name))"true"===r.value&&(t.forcePasswordReset=r.value);else{var i=$.eI[r.name];i&&(t[i]=r.value)}}}catch(o){n.e(o)}finally{n.f()}Fe(t)}}),[Y]),(0,b.useEffect)((function(){nt((0,f.q)(le,ae)),K===$.lu.INTERNAL&&null!==u.x8&&void 0!==u.x8&&u.x8.enableAdminPrivilegeRevokeOption&&ht()}),[]),(0,b.useEffect)((function(){var e=function(){var e,t=(e=Wt().mark((function e(){var t,n,r,i,l,s;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return st(!0),e.prev=1,e.next=4,Promise.all([(0,o.gR)(a.QN.ATTRIBUTE_DIALECT_IDS.get("SCIM2_SCHEMAS_EXT_ENT_USER"),null),(0,o.gR)(a.QN.ATTRIBUTE_DIALECT_IDS.get("SCIM2_SCHEMAS_EXT_SYSTEM"),null)]);case 4:t=e.sent,n=Xt(t,2),r=n[0],i=n[1],l=new Set(i.map((function(e){return e.mappedLocalClaimURI})).filter(Boolean)),s=r.filter((function(e){return e.mappedLocalClaimURI&&l.has(e.mappedLocalClaimURI)})),ot(s),st(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),te((0,h.V_)({description:ee("claims:external.notifications.fetchExternalClaims.genericError.description"),level:E.QU.ERROR,message:ee("claims:external.notifications.fetchExternalClaims.genericError.message")}));case 17:case"end":return e.stop()}}),e,null,[[1,14]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Qt(o,r,i,a,l,"next",e)}function l(e){Qt(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();e()}),[]),(0,b.useEffect)((function(){var e,t=null===p.Cb||void 0===p.Cb?void 0:p.Cb.SCIM2_SCHEMA_DICTIONARY.get("META_VERSION"),n=[],r=Kt(g.ProfileUtils.flattenSchemas(qt(ne)));try{for(r.s();!(e=r.n()).done;){var i=e.value;i.name!==t&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}n.sort((function(e,t){return(0,Se.KZ)(e)-(0,Se.KZ)(t)})),be(n)}),[ne]),(0,b.useEffect)((function(){vt(ye,x)}),[ye,x]);var vt=function(e,t){if(!(0,S.Z)(ye)&&!(0,S.Z)(t)){var n=new Map;K===$.lu.INTERNAL?e.forEach((function(e){var r=e.name.split(".");if(1===r.length)if("emails"===r[0]){var i=r[0];if(g.ProfileUtils.isStringArray(t[i])){var o=t[i].find((function(e){return"string"==typeof e}));n.set(e.name,o)}}else{var a,l,s,c=r[0];if(e.extended&&null!==(a=t[u.x8.userProfileSchema])&&void 0!==a&&a[r[0]]){if($._F.MULTI_VALUED_ATTRIBUTES.includes(r[0])){var d,m=null===(d=t[u.x8.userProfileSchema])||void 0===d?void 0:d[r[0]],f=Array.isArray(m)?m.join(","):"";return void n.set(e.name,f)}return void n.set(e.name,t[u.x8.userProfileSchema][r[0]])}if(e.extended&&null!==(l=t[p.Cb.SCIM2_ENT_USER_SCHEMA])&&void 0!==l&&l[r[0]]){if(e.multiValued){var v,E=null===(v=t[p.Cb.SCIM2_ENT_USER_SCHEMA])||void 0===v?void 0:v[r[0]],h=Array.isArray(E)?E.join(","):"";return void n.set(e.name,h)}return void n.set(e.name,t[p.Cb.SCIM2_ENT_USER_SCHEMA][r[0]])}if(e.extended&&null!=t&&null!==(s=t[se])&&void 0!==s&&s[r[0]]){if(e.multiValued){var y,S=null===(y=t[se])||void 0===y?void 0:y[r[0]],b=Array.isArray(S)?S.join(","):"";return void n.set(e.name,b)}return void n.set(e.name,t[se][r[0]])}n.set(e.name,t[c])}else if("name"===r[0]){var C=r[0],A=r[1];A&&t[C]&&t[C][A]&&n.set(e.name,t[C][A])}else{var I,_,O,R=r[0],M=r[1],w=null==t||null===(I=t[u.x8.userProfileSchema])||void 0===I||null===(I=I[R])||void 0===I?void 0:I[M],U=null==t||null===(_=t[p.Cb.SCIM2_ENT_USER_SCHEMA])||void 0===_||null===(_=_[R])||void 0===_?void 0:_[M],N=null==t||null===(O=t[se])||void 0===O||null===(O=O[R])||void 0===O?void 0:O[M];if(e.extended&&(w||U||N))w?n.set(e.name,w):U&&e.multiValued?n.set(e.name,Array.isArray(U)?U.join(","):""):U?n.set(e.name,U):N&&e.multiValued?n.set(e.name,Array.isArray(N)?N.join(","):""):N&&n.set(e.name,N);else{var T=t[R]&&Array.isArray(t[R])&&t[R].find((function(e){return e.type===M}));if(R.includes("addresses")){var L,P=null==e||null===(L=e.name)||void 0===L?void 0:L.split(".")[1],D=null==R?void 0:R.split("#");if(D.length>1){var Z=D[0],x=D[1],H=t[Z]&&Array.isArray(t[Z])&&t[Z].find((function(e){return e.type===x}));n.set(e.name,H&&H[P]?H[P]:"")}else n.set(e.name,T?T.formatted:"")}else n.set(e.name,T?T.value:"")}}})):e.forEach((function(e){var r=e.name.split(".");if(1===r.length)if("emails"===r[0]){var i=r[0];if(g.ProfileUtils.isStringArray(t[i])){var o=t[i].find((function(e){return"string"==typeof e}));n.set(e.name,o)}}else{var a,l=r[0];if(e.extended&&t[u.x8.userProfileSchema]&&t[u.x8.userProfileSchema][r[0]]){if($._F.MULTI_VALUED_ATTRIBUTES.includes(r[0])){var s,c=null===(s=t[u.x8.userProfileSchema])||void 0===s?void 0:s[r[0]],d=Array.isArray(c)?c.join(","):"";return void n.set(e.name,d)}return void n.set(e.name,t[u.x8.userProfileSchema][r[0]])}if(e.extended&&t[p.Cb.SCIM2_ENT_USER_SCHEMA]&&t[p.Cb.SCIM2_ENT_USER_SCHEMA][r[0]])return void n.set(e.name,t[p.Cb.SCIM2_ENT_USER_SCHEMA][r[0]]);if(e.extended&&null!=t&&null!==(a=t[se])&&void 0!==a&&a[r[0]]){if($._F.MULTI_VALUED_ATTRIBUTES.includes(r[0])){var m,f=null===(m=t[se])||void 0===m?void 0:m[r[0]],v=Array.isArray(f)?f.join(","):"";return void n.set(e.name,v)}return void n.set(e.name,t[se][r[0]])}n.set(e.name,t[l])}else if("name"===r[0]){var E=r[0],h=r[1];h&&t[E]&&t[E][h]&&n.set(e.name,t[E][h])}else{var y=r[0],S=r[1];if(e.extended&&t[u.x8.userProfileSchema])y&&S&&t[u.x8.userProfileSchema][y]&&t[u.x8.userProfileSchema][y][S]&&n.set(e.name,t[u.x8.userProfileSchema][y][S]);else if(e.extended&&t[p.Cb.SCIM2_ENT_USER_SCHEMA]&&t[p.Cb.SCIM2_ENT_USER_SCHEMA][y]){var b=t[p.Cb.SCIM2_ENT_USER_SCHEMA];n.set(e.name,b[y][S])}else{var C=t[y]&&Array.isArray(t[y])&&t[y].find((function(e){return e.type===S}));"addresses"===y?n.set(e.name,C?C.formatted:""):n.set(e.name,C?C.value:"")}}})),he(n)}},Et=function(e,t){var n=null==e?void 0:e.userName;return 0===n.length&&t?e.email:(n.split("/").length>1&&(n=n.split("/")[1]),n)},ht=function(){var e={filter:"displayName eq "+c.$.adminRoleName,schemas:["urn:ietf:params:scim:api:messages:2.0:SearchRequest"],startIndex:0};(0,d.QW)(e).then((function(e){var t;if((null==e||null===(t=e.data)||void 0===t?void 0:t.Resources.length)>0){var n,r=null==e||null===(n=e.data)||void 0===n||null===(n=n.Resources[0])||void 0===n?void 0:n.id;Je(r)}})).catch((function(e){e.response&&e.response.data&&e.response.data.description?te((0,h.V_)({description:e.response.data.description,level:E.QU.ERROR,message:ee("users:notifications.getAdminRole.error.message")})):te((0,h.V_)({description:ee("users:notifications.getAdminRole.genericError.description"),level:E.QU.ERROR,message:ee("users:notifications.getAdminRole.genericError.message")}))}))},gt=function(e){var t,n,r,i,o;(Le({name:null==e||null===(t=e.target)||void 0===t?void 0:t.id,value:null==e||null===(n=e.target)||void 0===n?void 0:n.checked}),null!=e&&null!==(r=e.target)&&void 0!==r&&r.checked)?Ze(!0):yt(null==e||null===(i=e.target)||void 0===i?void 0:i.id,null==e||null===(o=e.target)||void 0===o?void 0:o.checked)},yt=function(e,t){var n={Operations:[{op:"replace",value:$t({},u.x8.userProfileSchema,$t({},e,t))}],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]};if("internal"===K){var r=$._F.SCIM2_ATTRIBUTES_DICTIONARY.get("ACCOUNT_LOCKED"),i=$._F.SCIM2_ATTRIBUTES_DICTIONARY.get("ACCOUNT_DISABLED");n={Operations:[{op:"replace",value:$t({},null!=r&&r.startsWith(p.Cb.SCIM2_SYSTEM_USER_SCHEMA)&&null!=i&&i.startsWith(p.Cb.SCIM2_SYSTEM_USER_SCHEMA)?p.Cb.SCIM2_SYSTEM_USER_SCHEMA:se,$t({},e,t))}],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]}}(0,D.gS)(x.id,n).then((function(){Z({description:e===p.Cb.SCIM2_SCHEMA_DICTIONARY.get("ACCOUNT_LOCKED")?ee(t?"user:profile.notifications.lockUserAccount.success.description":"user:profile.notifications.unlockUserAccount.success.description"):ee(t?"user:profile.notifications.disableUserAccount.success.description":"user:profile.notifications.enableUserAccount.success.description"),level:E.QU.SUCCESS,message:e===p.Cb.SCIM2_SCHEMA_DICTIONARY.get("ACCOUNT_LOCKED")?ee(t?"user:profile.notifications.lockUserAccount.success.message":"user:profile.notifications.unlockUserAccount.success.message",{name:Et(x,!0)}):ee(t?"user:profile.notifications.disableUserAccount.success.message":"user:profile.notifications.enableUserAccount.success.message",{name:Et(x,!0)})}),Ze(!1),H(x.id),Le(void 0)})).catch((function(t){t.response&&t.response.data&&t.response.data.description?Z({description:t.response.data.description,level:E.QU.ERROR,message:e===$._F.SCIM2_ATTRIBUTES_DICTIONARY.get("ACCOUNT_LOCKED")?ee("user:profile.notifications.lockUserAccount.error.message"):ee("user:profile.notifications.disableUserAccount.error.message")}):Z({description:(null==Te?void 0:Te.name)===$._F.SCIM2_ATTRIBUTES_DICTIONARY.get("ACCOUNT_LOCKED")?ee("user:profile.notifications.lockUserAccount.genericError.description"):ee("user:profile.notifications.disableUserAccount.genericError.description"),level:E.QU.ERROR,message:(null==Te?void 0:Te.name)===$._F.SCIM2_ATTRIBUTES_DICTIONARY.get("ACCOUNT_LOCKED")?ee("user:profile.notifications.lockUserAccount.genericError.message"):ee("user:profile.notifications.disableUserAccount.genericError.message")})}))},St=dt===$.m3.PENDING_AP,bt=St||ct===$.Cn.PENDING_ASK_PASSWORD,Ct=function(){if(ut&&ct){if(ct===$.Cn.PENDING_ADMIN_FORCED_USER_PASSWORD_RESET){if(wt())return $.p8.ADMIN_FORCED_PASSOWRD_RESET_VIA_SMS_OTP;if(_t())return $.p8.ADMIN_FORCED_PASSWORD_RESET_VIA_EMAIL_LINK;if(Ot())return $.p8.ADMIN_FORCED_PASSWORD_RESET_VIA_OTP}if(ct===$.Cn.PENDING_ASK_PASSWORD)return Rt()?$.p8.ASK_PASSWORD_VIA_EMAIL_OTP:Mt()?$.p8.ASK_PASSWORD_VIA_SMS_OTP:$.p8.ASK_PASSWORD;if(ct===$.Cn.PENDING_EMAIL_VERIFICATION)return Nt()?$.p8.EMAIL_VERIFICATION_OTP:$.p8.EMAIL_VERIFICATION;if(ct===$.Cn.PENDING_SELF_REGISTRATION)return $.p8.SELF_SIGN_UP}return!ut&&dt&&dt===$.m3.PENDING_AP?Rt()?$.p8.ASK_PASSWORD_VIA_EMAIL_OTP:Mt()?$.p8.ASK_PASSWORD_VIA_SMS_OTP:$.p8.ASK_PASSWORD:null},At=function(){var e=Ct();return e?b.createElement(y.Qj,{onClick:function(){return It(e)},"aria-disabled":Ke,disabled:Ke,"data-testid":"".concat(J,"-resend-link")},ee("user:resendCode.resend")):null},It=function(e){ze(!0);var t=(0,v.WX)(null==x?void 0:x.userName),n=(0,v.tF)(null==x?void 0:x.userName,ce),r={properties:[{key:"RecoveryScenario",value:e}],user:{realm:n,username:t}};(0,D.Ts)(r).then((function(){Z({description:ee("user:profile.notifications.resendCode.success.description",{recoveryOption:$.YD[e]}),level:E.QU.SUCCESS,message:ee("user:profile.notifications.resendCode.success.message")})})).catch((function(t){var n,r;te((0,h.V_)({description:(null==t||null===(n=t.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.description)||(null==t||null===(r=t.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.detail)||ee("user:profile.notifications.resendCode.genericError.description",{recoveryOption:$.YD[e]}),level:E.QU.ERROR,message:ee("user:profile.notifications.resendCode.genericError.message")}))})).finally((function(){ze(!1)}))},_t=function(){var e=null==Y?void 0:Y.find((function(e){return e.name===m.vH.ADMIN_FORCE_PASSWORD_RESET_EMAIL_LINK}));return"true"===(null==e?void 0:e.value)},Ot=function(){var e=null==Y?void 0:Y.find((function(e){return e.name===m.vH.ADMIN_FORCE_PASSWORD_RESET_EMAIL_OTP}));return"true"===(null==e?void 0:e.value)},Rt=function(){var e=null==Y?void 0:Y.find((function(e){return e.name===m.vH.ASK_PASSWORD_EMAIL_OTP}));return"true"===(null==e?void 0:e.value)},Mt=function(){var e=null==Y?void 0:Y.find((function(e){return e.name===m.vH.ASK_PASSWORD_SMS_OTP}));return"true"===(null==e?void 0:e.value)},wt=function(){var e=null==Y?void 0:Y.find((function(e){return e.name===m.vH.ADMIN_FORCE_PASSWORD_RESET_SMS_OTP}));return"true"===(null==e?void 0:e.value)},Nt=function(){var e=null==Y?void 0:Y.find((function(e){return e.name===m.vH.EMAIL_VERIFICATION_OTP}));return"true"===(null==e?void 0:e.value)};return F||lt||(0,S.Z)(Ee)?b.createElement(y.pO,{dimmer:!0}):b.createElement(b.Fragment,null,(ut||mt)&&b.createElement(r.Z,{severity:"warning",className:"user-profile-alert"},ee(function(){var e;if(mt)return ee("user:profile.accountDisabled");if(ct){var t;if(ct===$.Cn.PENDING_ASK_PASSWORD)switch(Ct()){case $.p8.ASK_PASSWORD_VIA_SMS_OTP:return ee("user:profile.accountState.pendingAskPasswordSMSOTP");case $.p8.ASK_PASSWORD_VIA_EMAIL_OTP:return ee("user:profile.accountState.pendingAskPasswordEmailOTP");case $.p8.ASK_PASSWORD:default:return null!==(e=$.Dk[ct])&&void 0!==e?e:$.Dk.DEFAULT}return null!==(t=$.Dk[ct])&&void 0!==t?t:$.Dk.DEFAULT}return""}()),b.createElement(At,null)),!ut&&St&&b.createElement(r.Z,{severity:"warning",className:"user-profile-alert"},function(){switch(Ct()){case $.p8.ASK_PASSWORD_VIA_SMS_OTP:return ee("user:profile.accountState.pendingAskPasswordSMSOTP");case $.p8.ASK_PASSWORD_VIA_EMAIL_OTP:return ee("user:profile.accountState.pendingAskPasswordEmailOTP");case $.p8.ASK_PASSWORD:default:return ee("user:profile.accountState.pendingAskPassword")}}(),b.createElement(At,null)),b.createElement(y.pJ,{padded:"very"},V&&!B&&(!(0,S.Z)(q)||null!==q)&&!(null!==(L=x[u.k9.scim.systemSchema])&&void 0!==L&&L.userSourceId)&&z&&W,pt?b.createElement(ke,{profileData:x,flattenedProfileData:Ee,profileSchema:ye,isReadOnly:V,onUpdate:H,isUpdating:Ke,adminUserType:K,setIsUpdating:function(e){return ze(e)},onUserUpdate:H,accountConfigSettings:je,isUserManagedByParentOrg:z,"data-componentid":J}):b.createElement("div",{className:"form-container with-max-width"},b.createElement(Ut,{profileData:x,duplicateClaims:it,isReadOnlyMode:V,accountConfigSettings:je,isUserManagedByParentOrg:z,onUserUpdated:H,"data-componentid":J}))),b.createElement(I.Z,{hidden:!0}),function(){var e,t,n;if(!de)return null;var r=Et(x,!1),o=null==ie?void 0:ie.includes(r);return b.createElement(b.Fragment,null,!(!V||k||z||null!==(e=x[u.k9.scim.systemSchema])&&void 0!==e&&e.userSourceId)||ft&&o?null:b.createElement(i.di,{when:null==ue||null===(t=ue.users)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.delete},b.createElement(re,{user:x,isLocked:ut,isDisabled:mt,isReadOnly:!de,isUserManagedByParentOrg:z,"data-componentid":"user-mgt-edit-user-impersonate-action"}),b.createElement(I.Z,{hidden:!0}),b.createElement(y.v9,{sectionHeader:ee("user:editUser.dangerZoneGroup.header")},V||B||z||x.userName===P?null:b.createElement(i.di,{when:null==ue||null===(n=ue.users)||void 0===n||null===(n=n.scopes)||void 0===n?void 0:n.update},bt?b.createElement(y.cN,{"data-testid":"".concat(J,"-set-password"),actionTitle:ee("user:editUser.dangerZoneGroup.passwordSetZone.actionTitle"),header:ee("user:editUser.dangerZoneGroup.passwordSetZone.header"),subheader:ee("user:editUser.dangerZoneGroup.passwordSetZone.subheader"),onActionClick:function(){Ve(!0)}}):b.createElement(y.cN,{"data-testid":"".concat(J,"-change-password"),actionTitle:ee("user:editUser.dangerZoneGroup.passwordResetZone.actionTitle"),header:ee("user:editUser.dangerZoneGroup.passwordResetZone.header"),subheader:ee("user:editUser.dangerZoneGroup.passwordResetZone.subheader"),onActionClick:function(){Ve(!0)},isButtonDisabled:ut&&ct!==$.Cn.PENDING_ADMIN_FORCED_USER_PASSWORD_RESET,buttonDisableHint:ee("user:editUser.dangerZoneGroup.passwordResetZone.buttonHint")})),!k&&"true"===(null==je?void 0:je.accountDisable)&&b.createElement(y.cN,{"data-testid":"".concat(J,"-account-disable-button"),actionTitle:ee("user:editUser.dangerZoneGroup.disableUserZone.actionTitle"),header:ee("user:editUser.dangerZoneGroup.disableUserZone.header"),subheader:ee("user:editUser.dangerZoneGroup.disableUserZone.subheader"),onActionClick:void 0,toggle:{checked:mt,id:"accountDisabled",onChange:gt}}),!k&&!z&&b.createElement(y.cN,{"data-testid":"".concat(J,"-danger-zone-toggle"),actionTitle:ee("user:editUser.dangerZoneGroup.lockUserZone.actionTitle"),header:ee("user:editUser.dangerZoneGroup.lockUserZone.header"),subheader:ee("user:editUser.dangerZoneGroup.lockUserZone.subheader"),onActionClick:void 0,toggle:{checked:ut,disableHint:ee("user:editUser.dangerZoneGroup.lockUserZone.disabledHint"),disabled:mt,id:"accountLocked",onChange:gt}}),(null===u.x8||void 0===u.x8?void 0:u.x8.enableAdminPrivilegeRevokeOption)&&!oe&&K===$.lu.INTERNAL&&tt!==$._F.GUEST_ADMIN_ASSOCIATION_TYPE&&b.createElement(y.cN,{"data-testid":"".concat(J,"-revoke-admin-privilege-danger-zone"),actionTitle:ee("user:editUser.dangerZoneGroup.deleteAdminPriviledgeZone.actionTitle"),header:ee("user:editUser.dangerZoneGroup.deleteAdminPriviledgeZone.header"),subheader:ee("user:editUser.dangerZoneGroup.deleteAdminPriviledgeZone.subheader"),onActionClick:function(){Re(!0),Ue(x)}}),b.createElement(y.cN,{"data-testid":"".concat(J,"-danger-zone"),actionTitle:ee("user:editUser.dangerZoneGroup.deleteUserZone.actionTitle"),header:ee("user:editUser.dangerZoneGroup.deleteUserZone.header"),subheader:u.xg.userEditSection.isGuestUser?ee("extensions:manage.guest.editUser.dangerZoneGroup.deleteUserZone.subheader"):ee("user:editUser.dangerZoneGroup.deleteUserZone.subheader"),onActionClick:function(){Ie(!0),Ue(x)},isButtonDisabled:K===$.lu.INTERNAL&&B,buttonDisableHint:ee("user:editUser.dangerZoneGroup.deleteUserZone.buttonDisableHint")}))))}(),we&&b.createElement(y.cV,{"data-testid":"".concat(J,"-confirmation-modal"),onClose:function(){return Ie(!1)},type:"negative",open:Ae,assertionHint:ee("user:deleteUser.confirmationModal.assertionHint"),assertionType:"checkbox",primaryAction:ee("common:confirm"),secondaryAction:ee("common:cancel"),onSecondaryActionClick:function(){Ie(!1),qe(null)},onPrimaryActionClick:function(){return function(e){u.x8.deleteUser(e).then((function(){Z({description:ee("users:notifications.deleteUser.success.description"),level:E.QU.SUCCESS,message:ee("users:notifications.deleteUser.success.message")}),K===$.lu.EXTERNAL?s.m.push(l.$.getPaths().get("ADMINISTRATORS")):s.m.push(l.$.getPaths().get("USERS"))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?qe({description:e.response.data.description,level:E.QU.ERROR,message:ee("users:notifications.deleteUser.error.message")}):qe({description:ee("users:notifications.deleteUser.genericError.description"),level:E.QU.ERROR,message:ee("users:notifications.deleteUser.genericError.message")})}))}(we)},closeOnDimmerClick:!1},b.createElement(y.cV.Header,{"data-testid":"".concat(J,"-confirmation-modal-header")},ee("user:deleteUser.confirmationModal.header")),b.createElement(y.cV.Message,{"data-testid":"".concat(J,"-confirmation-modal-message"),attached:!0,negative:!0},u.xg.userEditSection.isGuestUser?ee("extensions:manage.guest.deleteUser.confirmationModal.message"):ee("user:deleteUser.confirmationModal.message")),b.createElement(y.cV.Content,null,b.createElement("div",{className:"modal-alert-wrapper"}," ",Be&&We),u.xg.userEditSection.isGuestUser?ee("extensions:manage.guest.deleteUser.confirmationModal.content"):ee("user:deleteUser.confirmationModal.content"))),we&&b.createElement(y.cV,{"data-testid":"".concat(J,"-admin-privilege-revoke-confirmation-modal"),onClose:function(){return Re(!1)},type:"negative",open:Oe,assertionHint:ee("user:revokeAdmin.confirmationModal.assertionHint"),assertionType:"checkbox",primaryAction:ee("common:confirm"),secondaryAction:ee("common:cancel"),onSecondaryActionClick:function(){Re(!1),qe(null)},onPrimaryActionClick:function(){return function(e){var t=fe?{Operations:[{op:"remove",path:"value eq ".concat(e.id),value:{}}],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]}:{Operations:[{op:"remove",path:"users[display eq ".concat(e.userName,"]"),value:{}}],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]};pe(Xe,t).then((function(){te((0,h.V_)({description:ee("users:notifications.revokeAdmin.success.description"),level:E.QU.SUCCESS,message:ee("users:notifications.revokeAdmin.success.message")})),s.m.push(l.$.getPaths().get("ADMINISTRATORS"))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?te((0,h.V_)({description:e.response.data.description,level:E.QU.ERROR,message:ee("users:notifications.revokeAdmin.error.message")})):te((0,h.V_)({description:ee("users:notifications.revokeAdmin.genericError.description"),level:E.QU.ERROR,message:ee("users:notifications.revokeAdmin.genericError.message")}))}))}(we)},closeOnDimmerClick:!1},b.createElement(y.cV.Header,{"data-testid":"".concat(J,"-admin-privilege-revoke-confirmation-modal-header")},ee("user:revokeAdmin.confirmationModal.header")),b.createElement(y.cV.Content,null,b.createElement("div",{className:"modal-alert-wrapper"}," ",Be&&We),ee("user:revokeAdmin.confirmationModal.content"))),Te&&b.createElement(y.cV,{"data-testid":"".concat(J,"-confirmation-modal"),onClose:function(){Ze(!1),Le(void 0)},type:"warning",open:De,assertion:Et(x,!1),assertionHint:Te.name===p.Cb.SCIM2_SCHEMA_DICTIONARY.get("ACCOUNT_LOCKED")?ee("user:lockUser.confirmationModal.assertionHint"):ee("user:disableUser.confirmationModal.assertionHint"),assertionType:"checkbox",primaryAction:ee("common:confirm"),secondaryAction:ee("common:cancel"),onSecondaryActionClick:function(){Le(void 0),Ze(!1)},onPrimaryActionClick:function(){return yt(Te.name,Te.value)},closeOnDimmerClick:!1},b.createElement(y.cV.Header,{"data-testid":"".concat(J,"-confirmation-modal-header")},Te.name===p.Cb.SCIM2_SCHEMA_DICTIONARY.get("ACCOUNT_LOCKED")?ee("user:lockUser.confirmationModal.header"):ee("user:disableUser.confirmationModal.header")),b.createElement(y.cV.Message,{"data-testid":"".concat(J,"-disable-confirmation-modal-message"),attached:!0,warning:!0},Te.name===p.Cb.SCIM2_SCHEMA_DICTIONARY.get("ACCOUNT_LOCKED")?ee("user:lockUser.confirmationModal.message"):ee("user:disableUser.confirmationModal.message")),b.createElement(y.cV.Content,null,Te.name===p.Cb.SCIM2_SCHEMA_DICTIONARY.get("ACCOUNT_LOCKED")?ee("user:lockUser.confirmationModal.content"):ee("user:disableUser.confirmationModal.content"))),b.createElement(j,{handleForcePasswordResetTrigger:null,connectorProperties:Y,handleCloseChangePasswordModal:function(){return Ve(!1)},openChangePasswordModal:He,onAlertFired:Z,user:x,handleUserUpdate:H,isResetPassword:!bt}))}},31463:(e,t,n)=>{n.d(t,{e:()=>f});var r=n(15997),i=n(22230),o=n(7231),a=n(78132),l=n(44194),s=n(10479),u=n(47245),c=n(62508);n(84702);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var f=function(e){var t=e.user,n=(0,s.$)().t,m=d((0,l.useState)([]),2),f=m[0],p=m[1],v=(0,u.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.isGroupAndRoleSeparationEnabled}));(0,l.useEffect)((function(){var e,n,r;(null===(n=r=v&&(null==t||null===(e=t.roles)||void 0===e?void 0:e.length)>0?t.roles:E(null==t?void 0:t.groups))||void 0===n?void 0:n.length)>0&&p(r)}),[t]);var E=function(e){var t=[];return null==e||e.forEach((function(e){var n,r=d(null==e||null===(n=e.display)||void 0===n?void 0:n.split(o.Nd),2),i=r[0],a=r[1];i&&a&&[o.Fn,o.eT].includes(i)&&t.push({$ref:e.$ref,display:a,orgId:void 0,orgName:void 0,value:e.value})})),t};return l.createElement(a.pJ,{padded:"very",className:"list-user-roles-section"},l.createElement(a.X6,{as:"h4"},n("user:updateUser.roles.editRoles.heading")),l.createElement(a.X6,{subHeading:!0,ellipsis:!0,as:"h6"},n("user:updateUser.roles.editRoles.subHeading")),l.createElement(a.v0,{type:"info",content:n("user:updateUser.roles.editRoles.infoMessage")}),l.createElement(c.Z,{hidden:!0}),l.createElement(i.W,{totalRoleList:f,emptyRolesListPlaceholder:l.createElement(a.$J,{subtitle:[n("user:updateUser.roles.editRoles.placeholders.emptyPlaceholder.subtitles")],title:n("user:updateUser.roles.editRoles.placeholders.emptyPlaceholder.title"),image:(0,r.jF)().emptyList,imageSize:"tiny"})}))};f.defaultProps={"data-componentid":"edit-user-roles"}},13731:(e,t,n)=>{n.d(t,{Y:()=>_});var r=n(55007),i=n(15997),o=n(40838),a=n(51021),l=n(86105),s=n(6833),u=n(82406),c=n(78132),d=n(84025),m=n.n(d),f=n(44194),p=n(10479),v=n(47245),E=n(89141),h=n(73432),g=n(26154),y=n(37077),S=n(92e3);function b(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){if(e){if("string"==typeof e)return I(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var _=function(e){var t,n=e.defaultActiveIndexes,d=e.isLoading,A=e.user,I=e.showSessionTerminationButton,_=e["data-testid"],O=new l._X,R=(0,p.$)().t,M=(0,v.I0)(),w=(0,v.v9)((function(e){return e.config.ui.features})),U=C((0,f.useState)(void 0),2),N=U[0],T=U[1],L=C((0,f.useState)(void 0),2),P=L[0],D=L[1],Z=C((0,f.useState)(!1),2),x=Z[0],H=Z[1],V=C((0,f.useState)(n),2),k=V[0],Y=V[1],j=C((0,f.useState)(!1),2),F=j[0],G=j[1],B=C((0,f.useState)(!1),2),q=B[0],W=B[1],Q=(0,v.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.username})).split("@");Q.pop();var K=Q.join("@");(0,f.useEffect)((function(){A&&A.id&&J(A.id)}),[A]);var z,$,X,J=function(e){H(!0),(0,S.c7)(e).then((function(e){T(e.data)})).catch((function(e){e.response&&e.response.data&&(e.response.data.description||e.response.data.detail)?M((0,u.V_)({description:e.response.data.description||e.response.data.detail,level:s.QU.ERROR,message:R("users:userSessions.notifications.getUserSessions.error.message")})):M((0,u.V_)({description:R("users:userSessions.notifications.getUserSessions.genericError.description"),level:s.QU.ERROR,message:R("users:userSessions.notifications.getUserSessions.genericError.message")}))})).finally((function(){H(!1)}))},ee=function(e){for(var t=0,n=Object.values({desktop:{icon:"computer",values:["desktop"]},mobile:{icon:"mobile alternate",values:["mobile"]},tablet:{icon:"tablet alternate",values:["tablet"]}});t<n.length;t++){var r=n[t];if(r.values.includes(e))return r.icon}return"computer"},te=function(e){for(var t=0,n=Object.values({android:{icon:"android",values:["Android"]},ios:{icon:"apple",values:["iOS"]},linux:{icon:"linux",values:["Linux"]},mac:{icon:"apple",values:["Mac OS"]},windows:{icon:"windows",values:["Windows [Phone/Mobile]"]}});t<n.length;t++){var r=n[t];if(r.values.includes(e))return r.icon}},ne=function(e){for(var t=0,n=Object.values({chrome:{icon:"chrome",values:["Chrome","Chrome Headless","Chrome WebView","Chromium"]},edge:{icon:"edge",values:["Edge"]},firefox:{icon:"firefox",values:["Firefox"]},opera:{icon:"opera",values:["Opera Coast","Opera Mini","Opera Mobi","Opera Tablet","Opera"]},safari:{icon:"safari",values:["Mobile Safari","Safari"]}});t<n.length;t++){var r=n[t];if(r.values.includes(e))return r.icon}},re=function(e,t){var n=t.index,r=b(k);if(r.includes(n)){var i=r.indexOf(n);r.splice(i,1)}else r.push(n);Y(r)};return d||x?f.createElement(c.pO,null):N&&N.sessions&&Array.isArray(N.sessions)&&N.sessions.length>0?f.createElement(E.Z,{"data-testid":_},f.createElement(E.Z.Row,null,f.createElement(E.Z.Column,{mobile:16,tablet:16,computer:16},I&&f.createElement(r.di,{when:null==w||null===(t=w.users)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.update},f.createElement(c.O3,{floated:"right","data-testid":"".concat(_,"-terminate-all-button"),onClick:function(){return W(!0)}},R("users:userSessions.components.sessionDetails.actions.terminateAllSessions"))))),f.createElement(E.Z.Row,null,f.createElement(E.Z.Column,{mobile:16,tablet:16,computer:16},f.createElement(c.el,{fluid:!0,"data-testid":"".concat(_,"-accordion")},N.sessions.map((function(e,t){return O.uaString=e.userAgent,f.createElement(f.Fragment,{key:e.id},f.createElement(c.el.Title,{id:e.id,"data-testid":"".concat(_,"-").concat(e.id,"-title"),active:k.includes(t),index:t,onClick:re,content:f.createElement(f.Fragment,null,f.createElement(c.dn,{icon:f.createElement(g.Z,{name:ee(O.device.type),size:"big",color:"grey"}),transparent:!0,spaced:"right",floated:"left","data-testid":"".concat(_,"-").concat(e.id,"-title-icon")}),f.createElement(h.Z.Content,null,f.createElement(h.Z.Header,null,O.browser.name," on ",O.os.name),f.createElement(h.Z.Description,null,f.createElement(c.xv,{size:11},R("users:userSessions.components.sessionDetails.labels.lastAccessed",{date:m()(parseInt(e.lastAccessTime,10)).fromNow()}))))),hideChevron:!1}),f.createElement(c.el.Content,{active:k.includes(t),"data-testid":"".concat(_,"-").concat(e.id,"-content")},function(e){var t;return O.uaString=e.userAgent,f.createElement(E.Z.Row,null,f.createElement(E.Z.Column,null,f.createElement(h.Z.Content,null,f.createElement(E.Z,{padded:!0},f.createElement(E.Z.Row,{columns:2},f.createElement(E.Z.Column,{width:5},R("users:userSessions.components.sessionDetails.labels.os")),f.createElement(E.Z.Column,{width:11},f.createElement(h.Z.Description,null,f.createElement(g.Z,{name:te(O.os.name),color:"grey"}),O.os.name," ",O.os.version))),f.createElement(E.Z.Row,{columns:2},f.createElement(E.Z.Column,{width:5},R("users:userSessions.components.sessionDetails.labels.browser")),f.createElement(E.Z.Column,{width:11},f.createElement(h.Z.Description,null,f.createElement(g.Z,{name:ne(O.browser.name),color:"grey"}),O.browser.name," ",O.browser.version))),f.createElement(E.Z.Row,{columns:2},f.createElement(E.Z.Column,{width:5},R("users:userSessions.components.sessionDetails.labels.ip")),f.createElement(E.Z.Column,{width:11},f.createElement(h.Z.Description,{"data-hj-suppress":""},e.ip))),O.device.vendor?f.createElement(E.Z.Row,{columns:2},f.createElement(E.Z.Column,{width:5},R("users:userSessions.components.sessionDetails.labels.deviceModel")),f.createElement(E.Z.Column,{width:11},f.createElement(h.Z.Description,null,O.device.vendor," ",O.device.model))):null,f.createElement(E.Z.Row,{columns:2},f.createElement(E.Z.Column,{width:5},R("users:userSessions.components.sessionDetails.labels.loginTime")),f.createElement(E.Z.Column,{width:11},f.createElement(h.Z.Description,null,m()(parseInt(e.loginTime,10)).format("lll")))),f.createElement(E.Z.Row,{columns:2},f.createElement(E.Z.Column,{width:5},R("users:userSessions.components.sessionDetails.labels.lastAccessed",{date:""})),f.createElement(E.Z.Column,{width:11},f.createElement(h.Z.Description,null,m()(parseInt(e.lastAccessTime,10)).fromNow()))),e.applications&&e.applications.length>0?f.createElement(E.Z.Row,{columns:2},f.createElement(E.Z.Column,{width:5},R("users:userSessions.components.sessionDetails.labels.activeApplication")),f.createElement(E.Z.Column,{mobile:16,computer:11},e.applications.map((function(e,t){return f.createElement(h.Z.Description,{className:"pb-2",key:t},f.createElement(y.Z,{className:"micro spaced-right",circular:!0,color:"green",size:"mini"}),e.appName)})))):null,f.createElement(E.Z.Row,{columns:1},f.createElement(E.Z.Column,{width:16},I&&f.createElement(r.di,{when:null==w||null===(t=w.users)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.update},f.createElement(c.v9,{sectionHeader:R("common:dangerZone")},f.createElement(c.cN,{actionTitle:R("users:userSessions.dangerZones.terminate.actionTitle"),header:R("users:userSessions.dangerZones.terminate.header"),subheader:R("users:userSessions.dangerZones.terminate.subheader"),onActionClick:function(){D(e),G(!0)},"data-testid":"".concat(_,"-terminate-button")})))))))))}(e)))}))))),(F||q)&&f.createElement(c.cV,{onClose:function(){F?G(!1):W(!1)},type:"warning",open:F||q,assertion:(z=A.userName,$=z.split("/"),X=z,$.length>1&&!a.wO.userstoreDomain.appendToUsername&&(X=$[1]),X.split("@").length>1?X.split("@")[0].concat("@").concat(X.split("@")[1]):X.split("@")[0]),assertionHint:R(F?"users:confirmations.terminateSession.assertionHint":"users:confirmations.terminateAllSessions.assertionHint"),assertionType:"checkbox",primaryAction:R("common:confirm"),secondaryAction:R("common:cancel"),onSecondaryActionClick:function(){F?G(!1):W(!1)},onPrimaryActionClick:function(){if(F)return e=P.id,(0,S.PI)(A.id,e).then((function(){M((0,u.V_)({description:R("users:userSessions.notifications.terminateUserSession.success.description"),level:s.QU.SUCCESS,message:R("users:userSessions.notifications.terminateUserSession.success.message")}))})).catch((function(e){e.response&&e.response.data&&(e.response.data.description||e.response.data.detail)?M((0,u.V_)({description:e.response.data.description||e.response.data.detail,level:s.QU.ERROR,message:R("users:userSessions.notifications.terminateUserSession.error.message")})):M((0,u.V_)({description:R("users:userSessions.notifications.terminateUserSession.genericError.description"),level:s.QU.ERROR,message:R("users:userSessions.notifications.terminateUserSession.genericError.message")}))})).finally((function(){J(A.id)})),void G(!1);var e;(0,S.rc)(A.id).then((function(){K===(null==A?void 0:A.userName)&&o.m.push(window.AppUtils.getConfig().routes.logout),M((0,u.V_)({description:R("users:userSessions.notifications.terminateAllUserSessions.success.description"),level:s.QU.SUCCESS,message:R("users:userSessions.notifications.terminateAllUserSessions.success.message")}))})).catch((function(e){J(A.id),e.response&&e.response.data&&(e.response.data.description||e.response.data.detail)?M((0,u.V_)({description:e.response.data.description||e.response.data.detail,level:s.QU.ERROR,message:R("users:userSessions.notifications.terminateAllUserSessions.error.message")})):M((0,u.V_)({description:R("users:userSessions.notifications.terminateAllUserSessions.genericError.description"),level:s.QU.ERROR,message:R("users:userSessions.notifications.terminateAllUserSessions.genericError.message")}))})).finally((function(){K!==(null==A?void 0:A.userName)&&J(A.id)})),W(!1)},"data-testid":F?"session-terminate-confirmation-modal":"all-sessions-terminate-confirmation-modal",closeOnDimmerClick:!1},f.createElement(c.cV.Header,{"data-testid":F?"session-terminate-confirmation-modal-header":"all-sessions-terminate-confirmation-modal-header"},R(F?"users:confirmations.terminateSession.header":"users:confirmations.terminateAllSessions.header")),f.createElement(c.cV.Message,{attached:!0,warning:!0,"data-testid":F?"session-terminate-confirmation-modal-message":"all-sessions-terminate-confirmation-modal-message"},R(F?"users:confirmations.terminateSession.message":"users:confirmations.terminateAllSessions.message")),f.createElement(c.cV.Content,{"data-testid":F?"session-terminate-confirmation-modal-content":"all-sessions-terminate-confirmation-modal-content"},R(F?"users:confirmations.terminateSession.content":"users:confirmations.terminateAllSessions.content")))):f.createElement(c.$J,{image:(0,i.jF)().emptyList,imageSize:"tiny",title:R("users:userSessions.placeholders.emptyListPlaceholder.title"),subtitle:[R("users:userSessions.placeholders.emptyListPlaceholder.subtitles")]})};_.defaultProps={"data-testid":"user-sessions",defaultActiveIndexes:[-1],showSessionTerminationButton:!0}},6643:(e,t,n)=>{n.d(t,{CU:()=>r.CU,Dy:()=>r.Dy,F2:()=>i.F2,I_:()=>r.I_,KZ:()=>r.KZ,P_:()=>i.P_,QH:()=>r.QH,_g:()=>r._g,al:()=>r.al,t$:()=>r.t$});var r=n(22669),i=n(51318)},49581:(e,t,n)=>{n.d(t,{q:()=>s});var r=n(51021),i=n(50699),o=n(44194),a=n(29494),l=n(58613),s=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=(0,l.Z)(),u=s.userStoresList,c=s.isLoading,d=(0,o.useMemo)((function(){return e===r.wO.primaryUserstoreName?r.wO.primaryUserstoreId:!c&&u?null===(t=u.find((function(t){return t.name.toLowerCase()===e.toLowerCase()})))||void 0===t?void 0:t.id:void 0;var t}),[c,u]),m=(0,a.Z)(d,n&&!(0,i.Z)(d)),f=m.data,p=m.isLoading,v=m.error;return{data:(0,o.useMemo)((function(){if(!p&&f){var e=f.properties.find((function(e){var n;return(null==e||null===(n=e.name)||void 0===n?void 0:n.toLowerCase())===(null==t?void 0:t.toLowerCase())}));return null==e?void 0:e.value}}),[p,f]),error:v,isLoading:c||p}}},29494:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(96124),i=n(76271),o=n(6833),a=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={headers:{Accept:"application/json","Content-Type":"application/json"},method:o.f2.GET,url:"".concat(i.h.getState().config.endpoints.userStores,"/").concat(e)},a=(0,r.Z)(t?n:null);return{data:a.data,error:a.error,isLoading:a.isLoading,isValidating:a.isValidating,mutate:a.mutate,response:a.response}}},68834:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(92336),i=n(31549),o=n(87449),a=n(14517);const l=(0,n(44194).forwardRef)(((e,t)=>{var{className:n}=e,l=(0,r.__rest)(e,["className"]);return(0,i.jsx)(o.Z,Object.assign({ref:t,className:(0,a.Z)("oxygen-table","OxygenTable-root",n)},l))}))},52560:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(92336),i=n(31549),o=n(17652),a=n(14517);const l=(0,n(44194).forwardRef)(((e,t)=>{var{className:n}=e,l=(0,r.__rest)(e,["className"]);return(0,i.jsx)(o.Z,Object.assign({ref:t,className:(0,a.Z)("oxygen-table-body","OxygenTableBody-root",n)},l))}))},25970:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(92336),i=n(31549),o=n(38480),a=n(14517);const l=(0,n(44194).forwardRef)(((e,t)=>{var{className:n}=e,l=(0,r.__rest)(e,["className"]);return(0,i.jsx)(o.Z,Object.assign({ref:t,className:(0,a.Z)("oxygen-table-cell","OxygenTableCell-root",n)},l))}))},70883:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(92336),i=n(31549),o=n(49706),a=n(53080),l=n(14517),s=n(44194);const u=(0,o.ZP)(a.Z)((()=>({"td, th":{border:0}}))),c=(0,s.forwardRef)(((e,t)=>{var{className:n,hideBorder:o}=e,s=(0,r.__rest)(e,["className","hideBorder"]);return o?(0,i.jsx)(u,Object.assign({ref:t,className:(0,l.Z)("oxygen-table-row","OxygenTableRow-root",n)},s)):(0,i.jsx)(a.Z,Object.assign({ref:t,className:(0,l.Z)("oxygen-table-row","OxygenTableRow-root",n)},s))}))},88194:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(81611),i=n.n(r),o=n(83948),a=n.n(o)()(i());a.push([e.id,".user-profile-form .form-field-container{margin-bottom:1.5rem}.user-profile-form .multi-value-table .multi-value-table-data-row:last-child td,.user-profile-form .multi-value-table .multi-value-table-data-row:last-child th{border:none}.user-profile-form .multi-value-table .multi-value-table-data-row .table-c1{display:flex;flex-wrap:nowrap;align-items:center;font-size:1rem;padding:.2em 0}.user-profile-form .multi-value-table .multi-value-table-data-row .table-c1 .c1-value{margin-bottom:0;flex-shrink:0;padding-right:12px}.user-profile-form .multi-value-table .multi-value-table-data-row .table-c1 .verified-icon,.user-profile-form .multi-value-table .multi-value-table-data-row .table-c1 .primary-icon{align-items:center;padding:0 4px}.user-profile-form .multi-value-table .multi-value-table-data-row .table-c2{display:flex;flex-wrap:nowrap;align-items:center;justify-content:flex-end;gap:4px;padding:.2em 0}.user-profile-form .multi-value-table .multi-value-table-data-row .table-c2 .text-btn{padding:0px;white-space:nowrap}.user-profile-form .verification-pending-icon{position:absolute;right:0;top:0;padding:8px;flex-direction:row}.user-profile-alert .button.link-button{padding:0;font-size:inherit;margin-left:.2em;font-weight:500}",""]);const l=a},85036:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(81611),i=n.n(r),o=n(83948),a=n.n(o)()(i());a.push([e.id,".list-user-roles-section .ui.table thead th{background:rgba(0,0,0,0)}",""]);const l=a},30200:(e,t,n)=>{n.d(t,{Z:()=>f});var r=n(13950),i=n(3331),o=n(88369),a=n(89521),l=n(83843),s=n(13733),u=n(89914),c=n(59050),d=n(8225),m=n(99982);const f=function(e,t,n){var f=(0,s.Z)(e),p=f||(0,u.Z)(e)||(0,m.Z)(e);if(t=(0,a.Z)(t,4),null==n){var v=e&&e.constructor;n=p?f?new v:[]:(0,d.Z)(e)&&(0,c.Z)(v)?(0,i.Z)((0,l.Z)(e)):{}}return(p?r.Z:o.Z)(e,(function(e,r,i){return t(n,e,r,i)})),n}},84702:(e,t,n)=>{var r=n(51835),i=n.n(r),o=n(27975),a=n.n(o),l=n(55900),s=n.n(l),u=n(21555),c=n.n(u),d=n(3621),m=n.n(d),f=n(5062),p=n.n(f),v=n(85036),E={};E.styleTagTransform=p(),E.setAttributes=c(),E.insert=s().bind(null,"head"),E.domAPI=a(),E.insertStyleElement=m();i()(v.Z,E),v.Z&&v.Z.locals&&v.Z.locals}}]);