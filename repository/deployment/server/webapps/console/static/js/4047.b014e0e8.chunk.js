"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[4047],{44047:(e,t,n)=>{n.r(t),n.d(t,{default:()=>no});var r=n(89740),o=n(55294),i=n(38818),a=n(44194),c=n(10479),l=n(41410),s=n(87908),u=n(51151),f=n(66899),p=n(42227),d=n(80342),y=n(73405),m=n(72506),v=n(24676),g=n(99245),h=n(874),b=n(6833),E=n(82406),O=n(66240),w=n(6251),S=n(47513),_=n(50699),P=n(28676),I=n(5798),T=n(75053),x=n(47245),A=n(78768),C=n(92688),N=n(33901),R=n(34502),L=n(80115),D=n(33608),U=n(66466),j=n(35516),F=n(68319),Z=n(96124),k=n(76271),M=n(46033);const G=function(){var e=(0,a.useContext)(M.Z);if(void 0===e)throw new Error("useAIGeneratedAskPasswordFlow must be used within a AIGeneratedFlowProvider.");return e};function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const H=function(){var e=V((0,a.useState)(!0),2),t=e[0],n=e[1],r=G(),o=r.setFlowGenerationCompleted,i=r.operationId,c={headers:{Accept:"application/json","Content-Type":"application/json"},method:b.f2.GET,url:"".concat(k.h.getState().config.endpoints.askPasswordFlowAI,"/status/").concat(i)},l=(0,Z.Z)(c,{shouldRetryOnError:!1}),s=l.data,u=l.error,f=l.isValidating,p=l.mutate;return(0,a.useEffect)((function(){var e=setInterval((function(){f||null!=s&&s.completed||p()}),1e3);return null!=s&&s.completed?(n(!1),clearInterval(e),o(!0)):n(!0),function(){return clearInterval(e)}}),[s,f]),{data:s,error:u,isLoading:t,isValidating:f,mutate:p}};var K={completed:100,fetchingSamples:50,generatingFlow:75,optimizingQuery:0};function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return B(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Y=function(){var e=(0,c.$)().t,t=(0,x.I0)(),n=function(){var e=(0,c.$)().t;return{completed:e("ai:aiFlow.states.3"),fetchingSamples:e("ai:aiFlow.states.1"),generatingFlow:e("ai:aiFlow.states.2"),optimizingQuery:e("ai:aiFlow.states.0")}}(),r=G(),o=r.setIsFlowGenerating,i=r.setFlowGenerationCompleted,l=H(),s=l.data,u=l.error,f=function(){var e=(0,c.$)().t,t=(0,x.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.productName}));return[e("ai:aiFlow.screens.loading.facts.0",{productName:t}),e("ai:aiFlow.screens.loading.facts.1",{productName:t}),e("ai:aiFlow.screens.loading.facts.2",{productName:t})]}(),p=X((0,a.useState)(0),2),d=p[0],y=p[1],m=X((0,a.useState)(0),2),v=m[0],g=m[1],h=X((0,a.useState)(!0),2),O=h[0],w=h[1],S=K;(0,a.useEffect)((function(){var e=_(),t=setInterval((function(){y((function(n){return n>=e?(clearInterval(t),e):n+1}))}),100);return function(){return clearInterval(t)}}),[s]),(0,a.useEffect)((function(){var e=setInterval((function(){g((v+1)%f.length)}),8e3);return function(){return clearInterval(e)}}),[v]),(0,a.useEffect)((function(){u&&t((0,E.V_)({description:e("ai:aiFlow.notifications.generateStatusError.description"),level:b.QU.ERROR,message:e("ai:aiFlow.notifications.generateStatusError.message")}))}),[u]);var _=function(){if(!s)return 0;var e=0;return Object.entries(s).forEach((function(t){var n=X(t,2),r=n[0];n[1]&&S[r]>e&&(e=S[r])})),e};return a.createElement(N.Z,{open:O,fullWidth:!0,maxWidth:"xs"},a.createElement(R.Z,{sx:{pb:0,pr:2}},a.createElement(L.Z,{edge:"end",size:"small",sx:{float:"right"},onClick:function(){o(!1),i(!1),w(!1)}},a.createElement(C.Z,null))),a.createElement(D.Z,{sx:{alignItems:"center",display:"flex",flexDirection:"column",pb:3,px:2}},a.createElement("img",{src:F.Z,alt:"AI Bot",style:{height:"auto",marginBottom:"1rem",width:"200px"}}),a.createElement(U.Z,{variant:"body1",mb:2,textAlign:"center"},function(){if(!s)return e("ai:aiFlow.states.0");var t="ai:aiFlow.states.0";return Object.entries(s).forEach((function(e){var r=X(e,2),o=r[0];r[1]&&n[o]&&(t=n[o])})),e(t)}()),a.createElement(j.Z,{variant:"buffer",value:d,valueBuffer:d+(1+10*Math.random()),sx:{height:"5px",margin:"0 auto",width:"100%"}})))};var $=n(27285),Q=["type","data-componentid"];function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(null,arguments)}const q=function(e){var t=e.type,n=e["data-componentid"],r=void 0===n?"static-node-factory":n,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Q);return a.createElement($.Z,z({type:t,"data-componentid":r},o))};var J=n(96094),ee=["resourceId","resources"];function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},te.apply(null,arguments)}const ne=function(e){var t=e.resourceId,n=e.resources,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,ee);return a.createElement(J.Z,te({resourceId:t,resources:n},r))};const re=function(e,t){var n={headers:{Accept:"application/json","Content-Type":"application/json"},method:b.f2.GET,url:"".concat(k.h.getState().config.endpoints.askPasswordFlowAI,"/result/").concat(e)},r=(0,Z.Z)(t?n:null,{shouldRetryOnError:!1}),o=r.data,i=r.error,c=r.isLoading,l=r.isValidating,s=r.mutate;return(0,a.useEffect)((function(){t&&s()}),[t]),{data:o,error:i,isLoading:c,isValidating:l,mutate:s}};function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ce(r.key),r)}}function ae(e,t,n){return t&&ie(e.prototype,t),n&&ie(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ce(e){var t=function(e,t){if("object"!=oe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oe(t)?t:t+""}var le,se,ue,fe=ae((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));le=fe,ue="INVITED_USER_REGISTRATION",(se=ce(se="ASK_PASSWORD_FLOW_TYPE"))in le?Object.defineProperty(le,se,{value:ue,enumerable:!0,configurable:!0,writable:!0}):le[se]=ue;const pe=fe,de=JSON.parse('{"id":"END","type":"END","size":{"width":56,"height":56},"position":{"x":1120,"y":420},"config":{"isAutoLoginEnabled":"false","isFlowCompletionNotificationEnabled":"false"},"data":{"components":[{"category":"DISPLAY","type":"TYPOGRAPHY","id":"typography_u2oz","variant":"H3","config":{"text":"Password Set Successfully"}},{"category":"DISPLAY","type":"RICH_TEXT","config":{"text":"<p class=\\"rich-text-paragraph rich-text-align-center\\"><span class=\\"rich-text-pre-wrap\\">You have successfully set a password for your account.</span></p>"},"id":"display_hgvm"}],"action":{"type":"EXECUTOR","executor":{"name":"UserProvisioningExecutor"},"next":"END"}}}');function ye(e){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(e)}function me(e){return function(e){if(Array.isArray(e))return ve(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ve(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ve(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function be(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ye(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ye(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ye(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ee=function(e){return e.some((function(e){return!(!e.action||"End"!==e.action.next)||!(!e.components||!Array.isArray(e.components))&&Ee(e.components)}))},Oe=function(e){return e.map((function(e){var t=he({},e);return e.action&&"End"===e.action.next&&(t=he(he({},t),{},{action:he(he({},e.action),{},{next:p.Dm.End})})),e.components&&Array.isArray(e.components)&&(t=he(he({},t),{},{components:Oe(e.components)})),t}))};const we=function(e){if(!e||!e.steps||!Array.isArray(e.steps))return e;var t=function(e){return!!(e&&e.steps&&Array.isArray(e.steps))&&e.steps.some((function(e){return!(!e.data||!e.data.components)&&Ee(e.data.components)}))}(e),n=e.steps.some((function(e){return e.type===p.Dm.End}));if(!t||n)return e;var r,o=(r=e.steps)&&0!==r.length?{x:Math.max.apply(Math,me(r.map((function(e){var t,n;return((null===(t=e.position)||void 0===t?void 0:t.x)||0)+((null===(n=e.size)||void 0===n?void 0:n.width)||350)}))))+100,y:r.reduce((function(e,t){var n;return e+((null===(n=t.position)||void 0===n?void 0:n.y)||200)}),0)/r.length}:{x:1120,y:420},i=he(he({},de),{},{position:o}),a=e.steps.map((function(e){if(e.data&&e.data.components){var t=Oe(e.data.components);return he(he({},e),{},{data:he(he({},e.data),{},{components:t})})}return e}));return a.push(i),he(he({},e),{},{steps:a})};const Se=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={headers:{Accept:"application/json","Content-Type":"application/json"},method:b.f2.GET,url:"".concat(k.h.getState().config.endpoints.askPasswordFlow,"?flowType=").concat(pe.ASK_PASSWORD_FLOW_TYPE)},n=(0,Z.Z)(e?t:null),r=n.data,o=n.error,i=n.isLoading,c=n.isValidating,l=n.mutate;return{data:(0,a.useMemo)((function(){if(!r)return r;try{return we(r)}catch(e){return r}}),[r]),error:o,isLoading:i,isValidating:c,mutate:l}};var _e=n(53989);const Pe=JSON.parse('[{"resourceType":"STEP","category":"WORKFLOW","type":"EXECUTION","version":"0.1.0","deprecated":false,"display":{"label":"Passkey View","image":"assets/images/icons/fingerprint.svg","showOnResourcePanel":true},"data":{"action":{"type":"EXECUTOR","executor":{"name":"FIDO2Executor"},"next":""}}}]'),Ie=JSON.parse('[{"resourceType":"TEMPLATE","category":"STARTER","type":"GENERATE_WITH_AI","version":"0.1.0","deprecated":false,"display":{"label":"Generate with AI","description":"Describe your invited user registration flow and generate with AI.","image":"https://www.svgrepo.com/show/521818/robot.svg","showOnResourcePanel":false},"config":{}},{"resourceType":"TEMPLATE","category":"STARTER","type":"BLANK","version":"0.1.0","deprecated":false,"display":{"label":"Blank","description":"Start a new flow from scratch with confirmation code validation","image":"assets/images/icons/refresh-ccw.svg","showOnResourcePanel":true},"config":{"data":{"__generationMeta__":{"replacers":[{"key":"FORM_STEP_ID","type":"ID"}]},"steps":[{"id":"{{ID}}","type":"EXECUTION","size":{"width":150,"height":22},"position":{"x":100,"y":200},"data":{"action":{"type":"EXECUTOR","executor":{"name":"ConfirmationCodeValidationExecutor"},"next":"{{FORM_STEP_ID}}"}}},{"id":"{{FORM_STEP_ID}}","type":"VIEW","size":{"width":350,"height":291},"position":{"x":400,"y":200},"data":{"components":[{"id":"{{ID}}","category":"DISPLAY","type":"TYPOGRAPHY","variant":"H3","config":{"text":"Heading"}},{"id":"{{ID}}","category":"BLOCK","type":"FORM","config":{},"components":[{"id":"{{ID}}","category":"ACTION","type":"BUTTON","variant":"PRIMARY","config":{"type":"submit","text":"Continue"},"action":{"type":"NEXT","next":"END"}}]}]}},{"id":"END","type":"END","size":{"width":56,"height":56},"position":{"x":1120,"y":420},"config":{"isAutoLoginEnabled":"false","isFlowCompletionNotificationEnabled":"false"},"data":{"components":[{"category":"DISPLAY","type":"TYPOGRAPHY","id":"typography_u2oz","variant":"H3","config":{"text":"Password Set Successfully"}},{"category":"DISPLAY","type":"RICH_TEXT","config":{"text":"<p class=\\"rich-text-paragraph rich-text-align-center\\"><span class=\\"rich-text-pre-wrap\\">You have successfully set a password for your account.</span></p>"},"id":"display_hgvm"}],"action":{"type":"EXECUTOR","executor":{"name":"UserProvisioningExecutor"},"next":"END"}}}]}}},{"resourceType":"TEMPLATE","category":"STARTER","type":"BASIC","version":"0.1.0","deprecated":false,"display":{"label":"Invited User Registration.","description":"Registration flow where the invited user validates a confirmation code and sets a password","image":"assets/images/icons/password.svg","showOnResourcePanel":true},"config":{"data":{"__generationMeta__":{"replacers":[{"key":"PASSWORD_RESET_STEP_ID","type":"ID"}]},"flowType":"INVITED_USER_REGISTRATION","steps":[{"id":"{{ID}}","type":"EXECUTION","size":{"width":150,"height":22},"position":{"x":200,"y":200},"data":{"action":{"type":"EXECUTOR","executor":{"name":"ConfirmationCodeValidationExecutor"},"next":"{{PASSWORD_RESET_STEP_ID}}"}}},{"id":"{{PASSWORD_RESET_STEP_ID}}","type":"VIEW","size":{"width":350,"height":453},"position":{"x":500,"y":319},"data":{"components":[{"id":"{{ID}}","category":"DISPLAY","type":"TYPOGRAPHY","variant":"H3","config":{"text":"Set Password"}},{"id":"{{ID}}","category":"BLOCK","type":"FORM","config":{},"components":[{"id":"{{ID}}","category":"FIELD","type":"INPUT","variant":"PASSWORD","config":{"identifier":"password","type":"password","hint":"","label":"Password","required":false,"placeholder":"Enter your password"}},{"id":"{{ID}}","category":"ACTION","type":"BUTTON","variant":"PRIMARY","config":{"type":"submit","text":"Continue"},"action":{"type":"EXECUTOR","executor":{"name":"PasswordProvisioningExecutor"},"next":"END"}}]}]}},{"id":"END","type":"END","size":{"width":56,"height":56},"position":{"x":1120,"y":420},"config":{"isAutoLoginEnabled":"false","isFlowCompletionNotificationEnabled":"false"},"data":{"components":[{"category":"DISPLAY","type":"TYPOGRAPHY","id":"typography_u2oz","variant":"H3","config":{"text":"Password Set Successfully"}},{"category":"DISPLAY","type":"RICH_TEXT","config":{"text":"<p class=\\"rich-text-paragraph rich-text-align-center\\"><span class=\\"rich-text-pre-wrap\\">You have successfully set a password for your account.</span></p>"},"id":"display_hgvm"}],"action":{"type":"EXECUTOR","executor":{"name":"UserProvisioningExecutor"},"next":"END"}}}]}}},{"resourceType":"TEMPLATE","category":"STARTER","type":"SECURE","version":"0.1.0","deprecated":false,"display":{"label":"Invited User Registration with Passkey","description":"Registration flow where the invited user validates a confirmation code and completes Passkey onboarding","image":"assets/images/icons/fingerprint.svg","showOnResourcePanel":true},"config":{"data":{"__generationMeta__":{"replacers":[{"key":"FIDO2_STEP_ID","type":"ID"}]},"flowType":"INVITED_USER_REGISTRATION","steps":[{"id":"{{ID}}","type":"EXECUTION","size":{"width":200,"height":60},"position":{"x":150,"y":200},"data":{"action":{"type":"EXECUTOR","executor":{"name":"ConfirmationCodeValidationExecutor"},"next":"{{FIDO2_STEP_ID}}"}}},{"id":"{{FIDO2_STEP_ID}}","type":"EXECUTION","size":{"width":200,"height":60},"position":{"x":450,"y":200},"data":{"action":{"type":"EXECUTOR","executor":{"name":"FIDO2Executor"},"next":"END"}}},{"id":"END","type":"END","size":{"width":350,"height":310},"position":{"x":790,"y":130},"config":{"isAutoLoginEnabled":"false","isFlowCompletionNotificationEnabled":"false"},"data":{"components":[{"category":"DISPLAY","type":"TYPOGRAPHY","id":"typography_u2oz","variant":"H3","config":{"text":"Passkey Created Successfully"}},{"category":"DISPLAY","type":"RICH_TEXT","config":{"text":"<p class=\\"rich-text-paragraph rich-text-align-center\\"><span class=\\"rich-text-pre-wrap\\">You have successfully created a passkey for your account.</span></p>"},"id":"display_hgvm"}],"action":{"type":"EXECUTOR","executor":{"name":"UserProvisioningExecutor"}}}}]}}}]'),Te=JSON.parse('[{"resourceType":"WIDGET","category":"FLOW","type":"EMAIL_OTP","version":"0.1.0","deprecated":false,"display":{"label":"Continue with Email OTP","description":"Registration experience with Email OTP","image":"assets/images/icons/email-down.svg","showOnResourcePanel":true},"config":{"data":{"__generationMeta__":{"replacers":[{"key":"EMAIL_OTP_VERIFICATION_STEP_ID","type":"ID"}]},"steps":[{"__generationMeta__":{"strategy":"MERGE_WITH_DROP_POINT"},"type":"VIEW","data":{"components":[{"id":"{{ID}}","category":"ACTION","type":"BUTTON","variant":"PRIMARY","config":{"type":"button","text":"Continue with Email OTP"},"action":{"next":"{{EMAIL_OTP_VERIFICATION_STEP_ID}}","type":"NEXT"}}]}},{"id":"{{EMAIL_OTP_VERIFICATION_STEP_ID}}","type":"VIEW","size":{"width":350,"height":343},"position":{"x":690,"y":20},"data":{"components":[{"id":"{{ID}}","category":"DISPLAY","type":"TYPOGRAPHY","variant":"H3","config":{"text":"Verify OTP"}},{"id":"{{ID}}","category":"BLOCK","type":"FORM","config":{},"components":[{"id":"{{ID}}","category":"FIELD","type":"INPUT","variant":"OTP","config":{"type":"text","hint":"","identifier":"otp","label":"Enter the OTP code","placeholder":""}},{"id":"{{ID}}","category":"ACTION","type":"BUTTON","variant":"PRIMARY","config":{"type":"submit","text":"Verify"},"action":{"type":"EXECUTOR","executor":{"name":"EmailOTPExecutor"},"next":"END"}},{"id":"{{ID}}","category":"ACTION","type":"RESEND","config":{"type":"submit","text":"Resend OTP"}}]}]}}]}}},{"resourceType":"WIDGET","category":"FLOW","type":"SMS_OTP","version":"0.1.0","deprecated":false,"display":{"label":"Continue with SMS OTP","description":"Registration experience with SMS OTP","image":"assets/images/icons/mobile-message.svg","showOnResourcePanel":true},"config":{"data":{"__generationMeta__":{"replacers":[{"key":"SMS_OTP_VERIFICATION_STEP_ID","type":"ID"}]},"steps":[{"__generationMeta__":{"strategy":"MERGE_WITH_DROP_POINT"},"type":"VIEW","data":{"components":[{"id":"{{ID}}","category":"ACTION","type":"BUTTON","variant":"PRIMARY","config":{"type":"button","text":"Continue with SMS OTP"},"action":{"next":"{{SMS_OTP_VERIFICATION_STEP_ID}}","type":"NEXT"}}]}},{"id":"{{SMS_OTP_VERIFICATION_STEP_ID}}","type":"VIEW","size":{"width":350,"height":343},"position":{"x":690,"y":20},"data":{"components":[{"id":"{{ID}}","category":"DISPLAY","type":"TYPOGRAPHY","variant":"H3","config":{"text":"Verify OTP"}},{"id":"{{ID}}","category":"BLOCK","type":"FORM","config":{},"components":[{"id":"{{ID}}","category":"FIELD","type":"INPUT","variant":"OTP","config":{"type":"text","hint":"","identifier":"otp","label":"Enter the OTP code","placeholder":""}},{"id":"{{ID}}","category":"ACTION","type":"BUTTON","variant":"PRIMARY","config":{"type":"submit","text":"Verify"},"action":{"type":"EXECUTOR","executor":{"name":"SMSOTPExecutor"},"next":"END"}},{"id":"{{ID}}","category":"ACTION","type":"RESEND","config":{"type":"submit","text":"Resend OTP"}}]}]}}]}}},{"resourceType":"WIDGET","category":"FLOW","type":"MAGIC_LINK","version":"0.1.0","deprecated":false,"display":{"label":"Continue with Magic Link","description":"Registration experience with Magic Link","image":"assets/images/icons/link.svg","showOnResourcePanel":true},"config":{"data":{"__generationMeta__":{"defaultPropertySelectorId":"{{MAGIC_LINK_EXECUTION_STEP_ID}}","replacers":[{"key":"MAGIC_LINK_EXECUTION_STEP_ID","type":"ID"}]},"steps":[{"__generationMeta__":{"strategy":"MERGE_WITH_DROP_POINT"},"type":"VIEW","data":{"components":[{"id":"{{ID}}","category":"ACTION","type":"BUTTON","variant":"SOCIAL","config":{"type":"button","text":"Continue with Magic Link","image":"assets/images/icons/link.svg"},"action":{"type":"NEXT","next":"{{MAGIC_LINK_EXECUTION_STEP_ID}}"}}]}},{"id":"{{MAGIC_LINK_EXECUTION_STEP_ID}}","type":"EXECUTION","size":{"width":350,"height":291},"position":{"x":690,"y":500},"data":{"action":{"type":"EXECUTOR","executor":{"name":"MagicLinkExecutor"},"next":"END"},"components":[{"id":"{{ID}}","category":"DISPLAY","type":"RICH_TEXT","config":{"text":"<h3 class=\\"rich-text-heading-h3 rich-text-align-center\\"><span class=\\"rich-text-pre-wrap\\">Check Your Email</span></h3><h5 class=\\"rich-text-heading-h5 rich-text-align-center\\"><br><span class=\\"rich-text-pre-wrap\\">An email containing further instructions has been sent to your email address. Please check your inbox to continue.</span></h5>"}}]}}]}}}]');function xe(e){return xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xe(e)}function Ae(e){return function(e){if(Array.isArray(e))return Ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ce(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ce(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){Le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Le(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=xe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const De=function(){var e=(0,_e.Z)().data;return{data:Re(Re({},e),{},{steps:[].concat(Ae(null==e?void 0:e.steps),Ae(Pe)),templates:[].concat(Ae(null==e?void 0:e.templates),Ae(Ie)),widgets:[].concat(Ae(null==e?void 0:e.widgets),Ae(Te))}),error:null,isLoading:!1,isValidating:!1,mutate:function(){return null}}};function Ue(e){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ue(e)}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ke(r.key),r)}}function Fe(e,t,n){return t&&je(e.prototype,t),n&&je(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ze(e,t,n){return(t=ke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ke(e){var t=function(e,t){if("object"!=Ue(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ue(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ue(t)?t:t+""}var Me=Fe((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));Ze(Me,"PASSWORD_PROVISIONING_EXECUTOR","PasswordProvisioningExecutor"),Ze(Me,"EMAIL_OTP_EXECUTOR","EmailOTPExecutor"),Ze(Me,"USER_RESOLVE_EXECUTOR","UserResolveExecutor"),Ze(Me,"GOOGLE_SIGNUP_EXECUTOR","GoogleSignupExecutor"),Ze(Me,"CONFIRMATION_CODE_VALIDATION_EXECUTOR","ConfirmationCodeValidationExecutor");const Ge=Me;var Ve=n(2292),We=n(43939),He=Ve.AsgardeoSPAClient.getInstance().httpRequest.bind(Ve.AsgardeoSPAClient.getInstance());const Ke=function(e,t){var n={data:{flow_type:pe.ASK_PASSWORD_FLOW_TYPE,user_query:e},headers:{Accept:"application/json","Content-Type":"application/json","Trace-Id":t},method:b.f2.POST,url:"".concat(k.h.getState().config.endpoints.askPasswordFlowAI,"/generate")};return He(n).then((function(e){if(200!==e.status&&202!==e.status)throw new Error("Failed to generate login flow: ".concat(e.statusText));return e.data})).catch((function(e){var t,n,r=(null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)||"Unknown error occurred";throw new We.u(r,e.stack,null===(n=e.response)||void 0===n?void 0:n.status,e.request,e.response,e.config)}))};function Xe(e){return Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xe(e)}function Be(){Be=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),c=new C(r||[]);return o(a,"_invoke",{value:I(e,n,c)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",v={};function g(){}function h(){}function b(){}var E={};s(E,a,(function(){return this}));var O=Object.getPrototypeOf,w=O&&O(O(N([])));w&&w!==n&&r.call(w,a)&&(E=w);var S=b.prototype=g.prototype=Object.create(E);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(o,i,a,c){var l=f(e[o],e,i);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Xe(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(u).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,c)}))}c(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function I(t,n,r){var o=p;return function(i,a){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var l=T(c,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=y;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?m:d,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=m,r.method="throw",r.arg=s.arg)}}}function T(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Xe(t)+" is not iterable")}return h.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:h,configurable:!0}),h.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},_(P.prototype),s(P.prototype,c,(function(){return this})),t.AsyncIterator=P,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new P(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(S),s(S,l,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(l&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Ye(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}const $e=function(){var e=(0,x.I0)(),t=(0,c.$)().t,n=G(),r=n.setIsFlowGenerating,o=n.setOperationId,i=function(){var n,i=(n=Be().mark((function n(i,a){return Be().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Ke(i,a).then((function(e){o(e.operation_id),r(!0)})).catch((function(n){422!==(null==n?void 0:n.code)?429!==(null==n?void 0:n.code)?e((0,E.V_)({description:t("ai:aiFlow.notifications.generateError.description"),level:b.QU.ERROR,message:n.message||t("ai:aiFlow.notifications.generateError.message")})):e((0,E.V_)({description:t("ai:aiFlow.notifications.generateLimitError.description"),level:b.QU.ERROR,message:t("ai:aiFlow.notifications.generateLimitError.message")})):e((0,E.V_)({description:t("ai:aiFlow.notifications.generateInputError.description"),level:b.QU.ERROR,message:t("ai:aiFlow.notifications.generateInputError.message")}))})));case 1:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(e){Ye(i,r,o,a,c,"next",e)}function c(e){Ye(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(e,t){return i.apply(this,arguments)}}();return i};function Qe(e){return Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qe(e)}var ze=["data-componentid"];function qe(){return qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qe.apply(null,arguments)}function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){tt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Qe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Qe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nt(e){return function(e){if(Array.isArray(e))return ct(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||at(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rt(){rt=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),c=new C(r||[]);return o(a,"_invoke",{value:I(e,n,c)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",v={};function g(){}function h(){}function b(){}var E={};s(E,a,(function(){return this}));var O=Object.getPrototypeOf,w=O&&O(O(N([])));w&&w!==n&&r.call(w,a)&&(E=w);var S=b.prototype=g.prototype=Object.create(E);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(o,i,a,c){var l=f(e[o],e,i);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Qe(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(u).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,c)}))}c(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function I(t,n,r){var o=p;return function(i,a){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var l=T(c,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=y;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?m:d,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=m,r.method="throw",r.arg=s.arg)}}}function T(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Qe(t)+" is not iterable")}return h.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:h,configurable:!0}),h.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},_(P.prototype),s(P.prototype,c,(function(){return this})),t.AsyncIterator=P,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new P(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(S),s(S,l,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(l&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function ot(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function it(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||at(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(e,t){if(e){if("string"==typeof e)return ct(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ct(e,t):void 0}}function ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const lt=function(e){var t=e["data-componentid"],n=void 0===t?"ask-password-flow-builder-core":t,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,ze),i=(0,O.Bn)(),l=(0,a.useRef)(!1),C=(0,a.useRef)(!1),N=it((0,a.useState)(!1),2),R=N[0],L=N[1],D=(0,c.$)().t,U=(0,x.I0)(),j=(0,o.Z)(),F=j.setFlowCompletionConfigs,Z=j.refetchFlow,k=j.setRefetchFlow,M=G(),V=M.flowGenerationCompleted,W=M.isFlowGenerating,H=M.operationId,K=M.setUserPrompt,X=M.setIsFlowGenerating,B=M.setFlowGenerationCompleted,$=M.userPrompt,Q=M.setAIGeneratedFlow,z=M.aiGeneratedFlow,J=re(H,V),ee=J.data,te=J.error,oe=$e(),ie=Se(),ae=ie.data,ce=ie.mutate,le=ie.error,se=ie.isLoading,ue=ie.isValidating,fe=De().data,pe=fe.steps,de=fe.templates,ye=p.wQ.Start.toLowerCase(),me=p.Dm.End;(0,a.useEffect)((function(){Z&&(ce(),k(!1))}),[Z]),(0,a.useEffect)((function(){if(te)return X(!1),B(!1),void U((0,E.V_)({description:D("ai:aiFlow.notifications.generateResultError.description"),level:b.QU.ERROR,message:D("ai:aiFlow.notifications.generateResultError.message")}));if("FAILED"!==(null==ee?void 0:ee.status))"COMPLETED"===(null==ee?void 0:ee.status)&&ee.data&&ge(ee.data);else{X(!1),B(!1);var e="error"in ee.data?ee.data.error:D("ai:aiFlow.notifications.generateResultFailed.message");U((0,E.V_)({description:e,level:b.QU.ERROR,message:D("ai:aiFlow.notifications.generateResultFailed.message")}))}}),[ee,V]),(0,a.useEffect)((function(){le&&U((0,E.V_)({description:"An error occurred while fetching the password recovery flow.",level:b.QU.ERROR,message:"Couldn't retrieve  the password recovery flow."}))}),[le]);var ve=function(){var e,t=(e=rt().mark((function e(){var t;return rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,A.Z)(),e.next=3,oe($,t);case 3:L(!1);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ot(i,r,o,a,c,"next",e)}function c(e){ot(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),ge=function(e){if(null==e||!e.steps)return[[],[]];Q({category:"STARTER",config:{data:e},deprecated:!1,display:{description:"Start a new flow from scratch",image:"",label:"Blank",showOnResourcePanel:!1},resourceType:"TEMPLATE",type:"AI",version:"0.1.0"}),L(!1),X(!1),U((0,E.V_)({description:D("ai:aiFlow.notifications.generateSuccess.description"),level:b.QU.SUCCESS,message:D("ai:aiFlow.notifications.generateSuccess.message")}))},he=function(e){var t,n=!0;return e.type===p.Dm.Execution&&(null===(t=e.data)||void 0===t||null===(t=t.action)||void 0===t||null===(t=t.executor)||void 0===t?void 0:t.name)===Ge.CONFIRMATION_CODE_VALIDATION_EXECUTOR&&(n=!1),n},be=function(e){var t={data:{displayOnly:!0},deletable:!1,id:ye,position:{x:-300,y:330},type:p.wQ.Start};return(0,v.Z)(fe,(0,y.Z)([t].concat(nt(e.map((function(e){var t;return{data:(null===(t=e.data)||void 0===t?void 0:t.components)&&et(et({},e.data),{},{components:(0,m.Z)(fe,e.data.components)})||e.data,deletable:e.type!==p.Dm.End&&he(e),id:e.id,position:e.position,type:e.type}}))))))},Ee=function(e,t){return e.slice()},Oe=function(e){var t=[],n=e.map((function(e){return e.id})),r=e.find((function(e){return e.type===p.Dm.End})),o=(null==r?void 0:r.id)||me;if(e.length>0){var i=e[0];i.id===ye&&(i=e[1]),i&&t.push({animated:!1,id:"".concat(ye,"-").concat(i.id),markerEnd:{type:w.QZ.Arrow},source:ye,sourceHandle:"".concat(ye).concat(u.Z.FLOW_BUILDER_NEXT_HANDLE_SUFFIX),target:i.id,type:"base-edge"})}var a=!1,c=function(e,t){var r,i,c=[];return null!==(r=t.action)&&void 0!==r&&r.next?n.includes(t.action.next)?(c.push({animated:!1,id:t.id,markerEnd:{type:w.QZ.Arrow},source:e.id,sourceHandle:"".concat(t.id).concat(u.Z.FLOW_BUILDER_NEXT_HANDLE_SUFFIX),target:t.action.next,type:"base-edge"}),t.action.next===o&&(a=!0)):t.action.next===p.Dm.End&&(c.push({animated:!1,id:t.id,markerEnd:{type:w.QZ.Arrow},source:e.id,sourceHandle:"".concat(t.id).concat(u.Z.FLOW_BUILDER_NEXT_HANDLE_SUFFIX),target:o,type:"base-edge"}),a=!0):(null===(i=t.action)||void 0===i||null===(i=i.executor)||void 0===i?void 0:i.name)===Ge.PASSWORD_PROVISIONING_EXECUTOR&&(c.push({animated:!1,id:t.id,markerEnd:{type:w.QZ.Arrow},source:e.id,sourceHandle:"".concat(t.id).concat(u.Z.FLOW_BUILDER_NEXT_HANDLE_SUFFIX),target:o,type:"base-edge"}),a=!0),c};if(e.forEach((function(e){var r,i;e.type!==p.Dm.End&&(null!==(r=e.data)&&void 0!==r&&r.components&&e.data.components.forEach((function(n){if(n.type===f.P7.Form){var r,o=null===(r=n.components)||void 0===r?void 0:r.filter((function(e){return e.type===f.iN.Button}));null==o||o.forEach((function(n){t=[].concat(nt(t),nt(c(e,n)))}))}n.type===f.iN.Button&&(t=[].concat(nt(t),nt(c(e,n))))})),null!==(i=e.data)&&void 0!==i&&i.action&&(n.includes(e.data.action.next)?(t.push({animated:!1,id:"".concat(e.id,"-to-").concat(e.data.action.next),markerEnd:{type:w.QZ.Arrow},source:e.id,sourceHandle:"".concat(e.id).concat(u.Z.FLOW_BUILDER_NEXT_HANDLE_SUFFIX),target:e.data.action.next,type:"base-edge"}),e.data.action.next===o&&(a=!0)):e.data.action.next===p.Dm.End&&(t.push({animated:!1,id:"".concat(e.id,"-to-").concat(o),markerEnd:{type:w.QZ.Arrow},source:e.id,sourceHandle:"".concat(e.id).concat(u.Z.FLOW_BUILDER_NEXT_HANDLE_SUFFIX),target:o,type:"base-edge"}),a=!0)))})),!a&&e.length>0){var l=e.filter((function(e){return e.type===p.Dm.View}));if(l.length>0){var s,d=l[l.length-1],y=null;if(null!==(s=d.data)&&void 0!==s&&s.components){var m,v=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=at(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(d.data.components);try{for(v.s();!(m=v.n()).done;){var g=m.value;if(g.type===f.P7.Form){var h,b=null===(h=g.components)||void 0===h?void 0:h.find((function(e){return e.type===f.iN.Button}));if(b){y=b.id;break}}}}catch(O){v.e(O)}finally{v.f()}}var E=y||"".concat(d.id,"-to-").concat(o);t.push(et(et({animated:!1,id:E,markerEnd:{type:w.QZ.Arrow},source:d.id},y?{sourceHandle:"".concat(y).concat(u.Z.FLOW_BUILDER_NEXT_HANDLE_SUFFIX)}:{sourceHandle:"".concat(d.id).concat(u.Z.FLOW_BUILDER_NEXT_HANDLE_SUFFIX)}),{},{target:o,type:"base-edge"}))}}return t},we=(0,a.useMemo)((function(){var e,t,n=(0,S.Z)(de.find((function(e){return e.type===d.E.Basic}))),r=(null==n||null===(e=n.config)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.steps)||[],o=be(r),i=(null==n||null===(t=n.config)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.__generationMeta__)||void 0===t?void 0:t.replacers)||[];return(0,g.Z)(o,i)[0]}),[be]),_e=it((0,O.Rr)([]),3),Pe=_e[0],Ie=_e[1],Te=_e[2],xe=it((0,O.ll)([]),3),Ae=xe[0],Ce=xe[1],Ne=xe[2];(0,a.useEffect)((function(){var e=function(e){var t=e.detail,n=t.nodes,r=t.edges;n&&r&&(Ie(n),Ce(r))};return window.addEventListener("restoreFromHistory",e),function(){window.removeEventListener("restoreFromHistory",e)}}),[Ie,Ce]);var Re=function(e){if(!l.current){l.current=!0,C.current=!1,Ie((function(){return C.current=!0,e}));var t=function(){C.current?(!function(e){e.forEach((function(e){var t;i(e.id),null!==(t=e.data)&&void 0!==t&&t.components&&e.data.components.forEach((function(e){i(e.id),null!=e&&e.components&&e.components.forEach((function(e){i(e.id)}))}))}))}(e),requestAnimationFrame((function(){var t=Oe(e),n=Ee(t);Ce((function(){return n})),l.current=!1}))):requestAnimationFrame(t)};requestAnimationFrame(t)}};(0,a.useLayoutEffect)((function(){if(!se&&!ue)if((0,_.Z)(null==ae?void 0:ae.steps))Re(we);else{var e=be(ae.steps);Re(e)}}),[null==ae?void 0:ae.steps,se,ue]);return se||ue?null:a.createElement(a.Fragment,null,a.createElement(s.Z,qe({aiGeneratedFlow:z,resources:fe,"data-componentid":n,nodeTypes:function(){if(!pe)return{};var e=pe.reduce((function(e,t){return e[t.type]||(e[t.type]=[]),e[t.type].push(t),e}),{}),t=pe.reduce((function(t,n){return t[n.type]=function(t){return a.createElement(ne,qe({resources:e[n.type]},t))},t}),{});return et(et({},Object.values(p.wQ).reduce((function(e,t){return e[t]=function(e){return a.createElement(q,qe({type:t},e))},e}),{})),t)}(),mutateComponents:function(e){var t=(0,S.Z)(e);if(t.filter((function(e){return e.type===f.P7.Form})).length>1){var n=!1;t=t.filter((function(e){return e.type!==f.P7.Form||!n&&(n=!0,!0)}))}return t=t.map((function(e){if(e.type===f.P7.Form){var t,n,r,o;e.components=null==e||null===(t=e.components)||void 0===t?void 0:t.map((function(e){return e.type===f.iN.Button&&e.variant===f.cT.Primary?et(et({},e),{},{config:et(et({},e.config),{},{type:f.qh.Submit})}):e}));var i=null===(n=e.components)||void 0===n?void 0:n.some((function(e){return e.type===f.iN.Input&&e.variant===f.hx.Password})),a=null===(r=e.components)||void 0===r?void 0:r.some((function(e){return e.type===f.iN.Input&&e.variant===f.hx.OTP})),c=null===(o=e.components)||void 0===o?void 0:o.filter((function(e){var t;return e.type===f.iN.Button&&(null===(t=e.config)||void 0===t?void 0:t.type)===f.qh.Submit}));return 1===(null==c?void 0:c.length)&&(e.components=e.components.map((function(e){var t;if(i){if(e.type===f.iN.Button)return et(et({},e),{},{action:et(et({},null!==(t=null==e?void 0:e.action)&&void 0!==t?t:{}),{},{executor:{name:Ge.PASSWORD_PROVISIONING_EXECUTOR},type:"EXECUTOR"})})}else if(a){var n;if(e.type===f.iN.Button)return et(et({},e),{},{action:et(et({},null!==(n=null==e?void 0:e.action)&&void 0!==n?n:{}),{},{executor:{name:Ge.EMAIL_OTP_EXECUTOR},type:"EXECUTOR"})})}return e}))),e}return e}))},onTemplateLoad:function(e){var t,n;if("GENERATE_WITH_AI"===(null==e?void 0:e.type))return L(!0),[[],[],null,null];if(null==e||null===(t=e.config)||void 0===t||null===(t=t.data)||void 0===t||!t.steps)return[[],[],null,null];var r=null==e||null===(n=e.config)||void 0===n||null===(n=n.data)||void 0===n||null===(n=n.__generationMeta__)||void 0===n?void 0:n.replacers;e.config.data.steps.forEach((function(e){e.type===p.Dm.End&&null!=e&&e.config&&F(e.config)}));var o=it((0,g.Z)(be(e.config.data.steps),r),1)[0],i=Ee(Oe(o));if(e.type===d.E.BasicFederated){var a=o.find((function(e){return e.type===p.Dm.Execution}));if(a)return[o,i,a,a.id]}return[o,i,null,null]},onWidgetLoad:function(e,t,n,r){var o,i,a=e.config.data;if(!a||!a.steps)return[n,r,null,null];var c=(0,S.Z)(n),l=(0,S.Z)(r),s=function(e,t,n){if("components"===n&&Array.isArray(e)&&Array.isArray(t))return(0,T.Z)(e,t,P.Z)};a.steps.filter((function(e){e.__generationMeta__?"MERGE_WITH_DROP_POINT"===e.__generationMeta__.strategy&&(c=c.map((function(n){return n.id===t.id?(0,I.Z)(n,e,s):n}))):c=[].concat(nt(c),[e])}));var u=a.__generationMeta__.replacers,f=a.__generationMeta__.defaultPropertySelectorId,p=null,d=null;(c=(0,v.Z)(fe,(0,y.Z)(c.map((function(e){var t;return{data:(null===(t=e.data)||void 0===t?void 0:t.components)&&et(et({},e.data),{},{components:(0,m.Z)(fe,e.data.components)})||e.data,deletable:!0,id:e.id,position:e.position,type:e.type}}))))).forEach((function(e){var t;if(e.id===f)return p=e.id,void(d=e);(0,_.Z)(null==e||null===(t=e.data)||void 0===t?void 0:t.components)||e.data.components.forEach((function(t){return t.id===f?(p=e.id,void(d=t)):(0,_.Z)(null==t?void 0:t.components)||t.id!==f?void 0:(p=e.id,void(d=t))}))}));var h=it((0,g.Z)((0,y.Z)(c),u),2),b=h[0],E=h[1];return l=[].concat(nt(l),nt(function(e,t){var n=new Set(t.map((function(e){return e.id}))),r=[],o=function(t,o,i){if(null!=i&&i.next){var a=o,c=i.next;if(!n.has(c))return void console.warn("Expected target node '".concat(c,"' not found in currentNodes."));var l=e.find((function(e){return e.source===t&&e.sourceHandle==="".concat(a,"_NEXT")}));l&&l.target===c||r.push({animated:!1,id:"".concat(a,"_MISSING_EDGE"),markerEnd:{type:w.QZ.Arrow},source:t,sourceHandle:"".concat(a,"_NEXT"),target:c,type:"base-edge"})}};return t.forEach((function(e){var t,n,r;e.data&&(null!==(t=e.data)&&void 0!==t&&t.components&&(null===(r=e.data)||void 0===r?void 0:r.components).forEach((function(t){o(e.id,t.id,t.action),null!=t&&t.components&&t.components.forEach((function(t){return o(null==e?void 0:e.id,t.id,t.action)}))})),null!==(n=e.data)&&void 0!==n&&n.action&&o(e.id,e.id,e.data.action))})),r}(l,b))),E.has(null===(o=d)||void 0===o||null===(o=o.id)||void 0===o?void 0:o.replace(/[{}]/g,""))&&(d.id=E.get(d.id.replace(/[{}]/g,""))),E.has(null===(i=p)||void 0===i?void 0:i.replace(/[{}]/g,""))&&(p=E.get(p.replace(/[{}]/g,""))),[b,l,d,p]},onStepLoad:function(e){var t,n,r,o,i;if(e.type===p.Dm.View&&(0,_.Z)(null==e||null===(n=e.data)||void 0===n?void 0:n.components))return et(et({},e),{},{data:et(et({},e.data),{},{components:(i=(0,S.Z)(de.find((function(e){return e.type===d.E.Blank}))),(null==i||null===(r=i.config)||void 0===r||null===(r=r.data)||void 0===r||null===(r=r.steps)||void 0===r?void 0:r.length)>0&&(i.config.data.steps[0].id=ye),(0,m.Z)(fe,null===(o=(0,y.Z)(i))||void 0===o||null===(o=o.config)||void 0===o||null===(o=o.data)||void 0===o||null===(o=o.steps[0])||void 0===o||null===(o=o.data)||void 0===o?void 0:o.components))})});var a=(0,y.Z)(e);return null!=a&&null!==(t=a.data)&&void 0!==t&&t.components&&(a.data.components=(0,m.Z)(fe,a.data.components)),(0,v.Z)(fe,[a])[0]},onResourceAdd:function(e){e.type!==d.E.GeneratedWithAI||L(!0)},nodes:Pe,edges:Ae,setNodes:Ie,setEdges:Ce,onNodesChange:Te,onEdgesChange:Ne},r)),R&&a.createElement(h.Z,{onUserPromptSubmit:ve,setUserPrompt:K,open:R,handleModalClose:function(){return L(!1)},samplePrompts:["Ask the user to supply an email address and choose a strong password to begin the sign-up.","Prompt for a unique username and password, ensuring the password meets basic complexity rules.","In the first step provide option to Sign up with Password or Sign up with Email","Gather basic personal details (e.g., first name, last name) plus an email and password up front.","Offer the option to Sign up with password or Sign up with Google. If the password option is selected, ask for first name, last name, password. Then verify the email of the user."],userPrompt:$,showHistory:!0,promptHistoryPreferenceKey:"askPasswordFlowAIPrompts"}),W&&a.createElement(Y,null))};var st=["data-componentid"];function ut(){return ut=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ut.apply(null,arguments)}const ft=function(e){var t=e["data-componentid"],n=void 0===t?"ask-password-flow-builder":t,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,st);return a.createElement(l.Z,null,a.createElement(lt,ut({"data-componentid":n},r)))};var pt=(0,a.createContext)({invitedUserRegistrationConfig:null,isInvitedUserRegistrationConfigUpdated:!1,isNewAskPasswordPortalEnabled:!1,isPublishing:!1,onPublish:function(){return Promise.resolve(!1)},selectedAttributes:{},setInvitedUserRegistrationConfig:function(){},setIsInvitedUserRegistrationConfigUpdated:function(){},setSelectedAttributes:function(){},supportedAttributes:[]});pt.displayName="AskPasswordFlowBuilderContext";const dt=pt;const yt=function(){var e=(0,a.useContext)(dt);if(void 0===e)throw new Error("useAskPasswordFlowBuilder must be used within a AskPasswordFlowBuilderProvider");return e};var mt=n(55253),vt=n(82745),gt=n(73269),ht=n(29246),bt=n(8718);function Et(e){return Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Et(e)}function Ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_t(r.key),r)}}function wt(e,t,n){return t&&Ot(e.prototype,t),n&&Ot(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function St(e,t,n){return(t=_t(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _t(e){var t=function(e,t){if("object"!=Et(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Et(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Et(t)?t:t+""}var Pt=wt((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));St(Pt,"FLOW_BUILDER_STATUS_CONFIG_KEY","SelfRegistration.EnableDynamicPortal"),St(Pt,"FLOW_CONFIG_INVALID_STATUS_ERROR","An invalid status code was received while configuring the password recovery flow."),St(Pt,"FLOW_CONFIG_UPDATE_ERROR","An error occurred while configuring the password recovery flow."),St(Pt,"FEDERATION_CONFIG_SKIPPED_EXECUTORS",[p._t.PasskeyEnrollment,p._t.ConfirmationCode,p._t.MagicLinkExecutor]);const It=Pt;var Tt=Ve.AsgardeoSPAClient.getInstance().httpRequest.bind(Ve.AsgardeoSPAClient.getInstance());const xt=function(e){var t={data:e,method:b.f2.PUT,url:k.h.getState().config.endpoints.askPasswordFlow};return Tt(t).then((function(e){if(200!==e.status)throw new We.u(It.FLOW_CONFIG_INVALID_STATUS_ERROR,null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){throw new We.u(It.FLOW_CONFIG_UPDATE_ERROR,e.stack,e.code,e.request,e.response,e.config)}))};var At=n(4717),Ct=n(47149);const Nt=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={operation:"UPDATE",properties:[{name:It.FLOW_BUILDER_STATUS_CONFIG_KEY,value:e?"true":"false"}]};return(0,At.u9)(t,Ct.v.USER_ONBOARDING_CONNECTOR_ID,Ct.v.SELF_SIGN_UP_CONNECTOR_ID)};var Rt=n(70104);function Lt(e){return function(e){if(Array.isArray(e))return Dt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Dt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Ut=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=(0,o.Z)().metadata,n=(0,a.useMemo)((function(){return null!=t&&t.attributeProfile?{headers:{Accept:"application/json","Content-Type":"application/json"},method:b.f2.GET,params:{"exclude-hidden-claims":!0,"exclude-identity-claims":!0,filter:null,limit:null,offset:null,profile:null==t?void 0:t.attributeProfile,sort:null},url:k.h.getState().config.endpoints.localClaims}:null}),[null==t?void 0:t.attributeProfile]),r=(0,Z.Z)(e?n:null),i=r.data,c=r.error,l=r.isLoading,s=r.isValidating,u=r.mutate;return{data:(0,a.useMemo)((function(){var e=i;return e?e.some((function(e){return e.claimURI===Rt.QN.USER_NAME_CLAIM_URI}))?e:[{claimURI:Rt.QN.USER_NAME_CLAIM_URI,displayName:"Username"}].concat(Lt(e)):[]}),[i]),error:c,isLoading:l,isValidating:s,mutate:u}};var jt=n(73757);const Ft=function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=(0,jt.Z)(Ct.v.USER_ONBOARDING_CONNECTOR_ID,Ct.v.SELF_SIGN_UP_CONNECTOR_ID,t),r=n.data,o=n.error,i=n.isLoading,a=n.isValidating,c=n.mutate;return{data:"true"===(null==r||null===(e=r.properties)||void 0===e||null===(e=e.find((function(e){return e.name===It.FLOW_BUILDER_STATUS_CONFIG_KEY})))||void 0===e?void 0:e.value),error:o,isLoading:i,isValidating:a,mutate:c}};var Zt=n(900),kt=n(8976),Mt=n(18432),Gt=n(98855),Vt=n(33852),Wt=n(88837),Ht=n(82861),Kt=n(3825),Xt=n(80750),Bt=n(72445),Yt=n(77139),$t=n(19189),Qt=n(22557),zt=n.n(Qt),qt=n(4438),Jt=n(62666);const en=JSON.parse('[{"types":[{"action":{"type":"EXECUTOR","executor":{"name":"PasswordProvisioningExecutor"}},"display":{"label":"Provision Password","image":"assets/images/icons/stamp.svg","defaultVariant":"PRIMARY"}}]}]');function tn(e){return function(e){if(Array.isArray(e))return nn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return nn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const rn=function(){var e=(0,Jt.Z)().data;return{data:[].concat(tn(e),tn(en)),error:null,isLoading:!1,isValidating:!1,mutate:function(){return null}}};var on=n(51835),an=n.n(on),cn=n(27975),ln=n.n(cn),sn=n(55900),un=n.n(sn),fn=n(21555),pn=n.n(fn),dn=n(3621),yn=n.n(dn),mn=n(5062),vn=n.n(mn),gn=n(53029),hn={};hn.styleTagTransform=vn(),hn.setAttributes=pn(),hn.insert=un().bind(null,"head"),hn.domAPI=ln(),hn.insertStyleElement=yn();an()(gn.Z,hn);gn.Z&&gn.Z.locals&&gn.Z.locals;function bn(e){return bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bn(e)}function En(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?En(Object(n),!0).forEach((function(t){wn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=bn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Sn=function(e){var t=e["data-componentid"],n=void 0===t?"button-extended-properties":t,r=e.resource,i=e.onChange,c=rn().data,l=(0,o.Z)(),s=l.lastInteractedResource,u=l.setLastInteractedResource,f=(0,$t.Z)().selectedNotification,p=(0,a.useMemo)((function(){var e="".concat(null==r?void 0:r.id,"_action");return null!=f&&f.hasResourceFieldNotification(e)?null==f?void 0:f.getResourceFieldNotification(e):""}),[r,f]);return a.createElement(Bt.Z,{className:"button-extended-properties",gap:2,"data-componentid":n},a.createElement("div",null,a.createElement(Yt.Z,{className:"button-extended-properties-heading"},"Type"),null==c?void 0:c.map((function(e,t){var n,o;return a.createElement(Gt.Z,{key:t},a.createElement(Yt.Z,{className:"button-extended-properties-sub-heading",variant:"body1"},null==e||null===(n=e.display)||void 0===n?void 0:n.label),a.createElement(Xt.Z,{container:!0,spacing:1},null===(o=e.types)||void 0===o?void 0:o.map((function(e,t){var n,o;return a.createElement(Xt.Z,{key:t,xs:6,onClick:function(){var t,n;i("action",On(On({},e.action),null!=r&&null!==(t=r.action)&&void 0!==t&&t.next?{next:null==r||null===(n=r.action)||void 0===n?void 0:n.next}:{}),r),u(On(On({},s),{},{action:e.action}))}},a.createElement(Vt.Z,{className:zt()("extended-property action-type",{error:!!p,selected:(0,P.Z)((0,qt.Z)(null==s?void 0:s.action,"next"),e.action)}),variant:"outlined"},a.createElement(Wt.Z,null,a.createElement(Gt.Z,{display:"flex",flexDirection:"row",gap:1,alignItems:"center"},a.createElement(Mt.Z,{className:"action-type-icon",src:null==e||null===(n=e.display)||void 0===n?void 0:n.image,variant:"rounded"}),a.createElement(Yt.Z,{variant:"body2",className:"action-type-name"},null==e||null===(o=e.display)||void 0===o?void 0:o.label)))))}))))})),p&&a.createElement(Kt.Z,{error:!0},p)),a.createElement(Ht.Z,null))};function _n(){return _n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_n.apply(null,arguments)}const Pn=function(e){var t=e["data-componentid"],n=void 0===t?"field-extended-properties":t,r=e.resource,o=e.onChange,i=yt().supportedAttributes,c=(0,$t.Z)().selectedNotification,l=(0,a.useMemo)((function(){return(null==i?void 0:i.find((function(e){return(null==e?void 0:e.claimURI)===r.config.identifier})))||null}),[r.config.identifier,i]),s=(0,a.useMemo)((function(){var e="".concat(null==r?void 0:r.id,"_identifier");return null!=c&&c.hasResourceFieldNotification(e)?null==c?void 0:c.getResourceFieldNotification(e):""}),[r,c]);return r.variant===f.hx.Password?null:a.createElement(Bt.Z,{"data-componentid":n},a.createElement(Zt.Z,{disablePortal:!0,key:r.id,options:i||[],getOptionLabel:function(e){return null==e?void 0:e.displayName},sx:{width:"100%"},renderInput:function(e){return a.createElement(kt.Z,_n({},e,{label:"Attribute",placeholder:"Select an attribute",error:!!s}))},value:l,onChange:function(e,t){o("config.identifier",null===t?"":null==t?void 0:t.claimURI,r)}}),s&&a.createElement(Kt.Z,{error:!0},s))};var In=n(31551),Tn=n(50281),xn=n(34450),An=n(28121),Cn=n(921),Nn=n(40137),Rn={};Rn.styleTagTransform=vn(),Rn.setAttributes=pn(),Rn.insert=un().bind(null,"head"),Rn.domAPI=ln(),Rn.insertStyleElement=yn();an()(Nn.Z,Rn);Nn.Z&&Nn.Z.locals&&Nn.Z.locals;const Ln=function(e){var t=e["data-componentid"],n=void 0===t?"rules-properties-component":t,r=(0,Tn.Z)("preIssueAccessToken").data;return a.createElement(Bt.Z,{gap:2,"data-componentid":n},a.createElement(Yt.Z,{variant:"body2"},"Define a rule to how conditionally proceed to next steps in the flow"),r&&a.createElement(xn.Z,{initialData:An.mO,conditionExpressionsMetaData:An.hm,isMultipleRules:!0,ruleExecutionMetaData:An.po}),a.createElement(Gt.Z,{sx:{mt:3}},a.createElement(In.Z,{size:"small",variant:"contained",color:"primary",onClick:function(){var e=(0,Cn.u)();console.log(e)}},"Print Data")))};var Dn=n(88458),Un=n(95239),jn=["resource","propertyKey","propertyValue","onChange"];function Fn(){return Fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fn.apply(null,arguments)}const Zn=function(e){var t=e.resource,n=e.propertyKey,r=e.propertyValue,o=e.onChange,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,jn);return a.createElement(Un.Z,Fn({resource:t,propertyKey:n,propertyValue:r,onChange:o},i))};var kn=n(79606),Mn=["resource","propertyKey","propertyValue","onChange"];function Gn(){return Gn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gn.apply(null,arguments)}const Vn=function(e){var t=e.resource,n=e.propertyKey,r=e.propertyValue,o=e.onChange,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Mn);return t.type===p.Dm.Rule?a.createElement(Ln,null):a.createElement(kn.Z,Gn({resource:t,propertyKey:n,propertyValue:r,onChange:o},i))};var Wn=n(8053),Hn=["resource","propertyKey","propertyValue","onChange"];function Kn(){return Kn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kn.apply(null,arguments)}const Xn=function(e){var t=e.resource,n=e.propertyKey,r=e.propertyValue,o=e.onChange,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Hn);return t.type,a.createElement(Wn.Z,Kn({resource:t,propertyKey:n,propertyValue:r,onChange:o},i))};var Bn=["data-componentid","resource","propertyKey","propertyValue","onChange"];function Yn(){return Yn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yn.apply(null,arguments)}const $n=function(e){var t=e["data-componentid"],n=void 0===t?"resource-property-factory":t,r=e.resource,o=e.propertyKey,i=e.propertyValue,c=e.onChange,l=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Bn);switch(r.resourceType){case Dn.P.Element:return a.createElement(Zn,Yn({resource:r,propertyKey:o,propertyValue:i,"data-componentid":n,onChange:c},l));case Dn.P.Step:return a.createElement(Vn,Yn({resource:r,propertyKey:o,propertyValue:i,"data-componentid":n,onChange:c},l));case Dn.P.Widget:return a.createElement(Xn,Yn({resource:r,propertyKey:o,propertyValue:i,"data-componentid":n,onChange:c},l));default:return null}};var Qn=n(87172),zn=n(20305),qn=n(54982),Jn=n(58703),er=n(55007),tr=n(60486),nr=n(40838),rr=n(77742),or=n(59673);function ir(e){return ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ir(e)}function ar(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ar(Object(n),!0).forEach((function(t){lr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ar(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ir(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ir(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ir(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const sr=function(e){var t,n,r=e["data-componentid"],l=void 0===r?"flow-completion-properties-component":r,s=(0,c.$)().t,u=(0,o.Z)(),f=u.flowCompletionConfigs,p=u.setFlowCompletionConfigs,d=u.metadata,y=(0,rr.Z)(i.Z.INVITED_USER_REGISTRATION).data,m=(0,x.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.approvalWorkflows})),v=(0,er.EV)(null==m||null===(t=m.scopes)||void 0===t?void 0:t.read),g=(0,_.Z)(f)?null==y?void 0:y.flowCompletionConfigs:f;return a.createElement(Bt.Z,{gap:2,"data-componentid":l},a.createElement(Yt.Z,null,a.createElement(or.c,{i18nKey:"flows:askPassword.steps.end.description"},"The ",a.createElement("strong",null,"End Screen")," defines what happens once the invited user registration flow is completed. It allows you to control the user's final experience by selecting one of the following outcomes:")),(null==d?void 0:d.workflowEnabled)&&a.createElement(Qn.Z,{severity:"warning"},a.createElement(Yt.Z,{variant:"h6"},s("flows:core.workflowAlert.title")),a.createElement(Yt.Z,null,a.createElement(or.c,{i18nKey:"flows:core.workflowAlert.description"},"A workflow is engaged for this flow. The following settings will not take effect until the workflow is disabled."),v&&a.createElement(Yt.Z,{sx:{marginTop:1}},a.createElement(or.c,{i18nKey:"flows:core.workflowAlert.navigation"},"Click",a.createElement(Jn.Z,{sx:{cursor:"pointer"},onClick:function(){nr.m.push(tr.$.getPaths().get("APPROVAL_WORKFLOWS"))}},"here"),"to have a look at the currently engaged workflows.")))),a.createElement(Gt.Z,{sx:{display:"flex",flexDirection:"column",gap:1}},(null==d||null===(n=d.supportedFlowCompletionConfigs)||void 0===n?void 0:n.includes("isFlowCompletionNotificationEnabled"))&&a.createElement(Gt.Z,null,a.createElement(qn.Z,{label:s("flows:askPassword.steps.end.flowCompletionNotification.label"),control:a.createElement(zn.Z,{checked:"true"===(null==g?void 0:g.isFlowCompletionNotificationEnabled),disabled:null==d?void 0:d.workflowEnabled,onChange:function(e){p(cr(cr({},g),{},{isFlowCompletionNotificationEnabled:e.target.checked?"true":"false"}))}})}),a.createElement(Kt.Z,null,s("flows:askPassword.steps.end.flowCompletionNotification.hint")))))};var ur=n(78914),fr=n(12155),pr=n(79409),dr=n(55931),yr=n(94274),mr=n(8076),vr=n(17901),gr=n(30229),hr=n(16590);function br(e){return br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},br(e)}function Er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Er(Object(n),!0).forEach((function(t){wr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Er(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=br(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=br(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==br(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Pr=function(e){var t=e.connector,n=e.readOnly,r=e["data-componentid"],o=void 0===r?"ask-password-edit-form":r,i=(0,c.$)().t,l=yt(),s=l.setIsInvitedUserRegistrationConfigUpdated,u=l.setInvitedUserRegistrationConfig,f=Sr((0,a.useState)(void 0),2),p=f[0],d=f[1],y=Sr((0,a.useState)(!1),2),m=y[0],v=y[1],g=Sr((0,a.useState)(!1),2),h=g[0],b=g[1],E=Sr((0,a.useState)(!1),2),O=E[0],w=E[1],S=Sr((0,a.useState)(!1),2),P=S[0],I=S[1],T=Sr((0,a.useState)(gr.y.EMAIL_LINK),2),A=T[0],C=T[1],N=Sr((0,a.useState)(""),2),R=N[0],L=N[1],D=Sr((0,a.useState)(""),2),U=D[0],j=D[1],F=Sr((0,a.useState)(!1),2),Z=F[0],k=F[1],M=Sr((0,a.useState)(void 0),2),G=M[0],V=M[1],W=Sr((0,a.useState)(!1),2),H=W[0],K=W[1],X=(0,x.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.showSmsOtpAskPasswordFeatureStatusChip})),B=[{label:"extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.emailAskPasswordOptions.emailLink.label",value:gr.y.EMAIL_LINK},{label:"extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.emailAskPasswordOptions.emailOtp.label",value:gr.y.EMAIL_OTP},{label:"extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.emailAskPasswordOptions.smsOtp.label",value:gr.y.SMS_OTP}];(0,a.useEffect)((function(){A!==gr.y.EMAIL_LINK?K(!0):K(!1)}),[A]),(0,a.useEffect)((function(){var e,t,n,r,o,i;p&&(b(null!==(e=p.otpUseUppercase)&&void 0!==e&&e),w(null!==(t=p.otpUseLowercase)&&void 0!==t&&t),I(null!==(n=p.otpUseNumeric)&&void 0!==n&&n),L(null!==(r=p.expiryTime)&&void 0!==r?r:""),j(null!==(o=p.otpLength)&&void 0!==o?o:""),k(null!==(i=p.enableAccountLockOnCreation)&&void 0!==i&&i),p.enableSmsOtp?C(gr.y.SMS_OTP):p.enableEmailOtp?C(gr.y.EMAIL_OTP):C(gr.y.EMAIL_LINK))}),[p]);return(0,a.useEffect)((function(){var e;V((e={enableAccountLockOnCreation:Z,enableInviteUserToSetPassword:m,expiryTime:R,otpLength:U,otpUseLowercase:O,otpUseNumeric:P,otpUseUppercase:h},{"EmailVerification.AskPassword.AccountActivation":!1,"EmailVerification.AskPassword.EmailOTP":A===gr.y.EMAIL_OTP,"EmailVerification.AskPassword.ExpiryTime":void 0!==e.expiryTime?e.expiryTime:null==p?void 0:p.expiryTime,"EmailVerification.AskPassword.SMSOTP":A===gr.y.SMS_OTP,"EmailVerification.Enable":void 0!==e.enableInviteUserToSetPassword?e.enableInviteUserToSetPassword:null==p?void 0:p.enableInviteUserToSetPassword,"EmailVerification.LockOnCreation":void 0!==e.enableAccountLockOnCreation?e.enableAccountLockOnCreation:null==p?void 0:p.enableAccountLockOnCreation,"EmailVerification.OTP.OTPLength":void 0!==e.otpLength?e.otpLength:null==p?void 0:p.otpLength,"EmailVerification.OTP.UseLowercaseCharactersInOTP":void 0!==e.otpUseLowercase?e.otpUseLowercase:null==p?void 0:p.otpUseLowercase,"EmailVerification.OTP.UseNumbersInOTP":void 0!==e.otpUseNumeric?e.otpUseNumeric:null==p?void 0:p.otpUseNumeric,"EmailVerification.OTP.UseUppercaseCharactersInOTP":void 0!==e.otpUseUppercase?e.otpUseUppercase:null==p?void 0:p.otpUseUppercase}))}),[h,O,P,R,U,Z,A]),(0,a.useEffect)((function(){u(G),s(!0)}),[G]),(0,a.useEffect)((function(){var e,n,r,o,i,a,c,l,s;if(!(0,_.Z)(null==t?void 0:t.properties)){var u=null;t.properties.map((function(e){if(gt.fV.allowedConnectorFields.includes(null==e?void 0:e.name))switch(e.name){case gt.vH.ASK_PASSWORD_ENABLE:u=Or(Or({},u),{},{enableInviteUserToSetPassword:hr.CommonUtils.parseBoolean(e.value)});break;case gt.vH.ASK_PASSWORD_LOCK_ON_CREATION:u=Or(Or({},u),{},{enableAccountLockOnCreation:hr.CommonUtils.parseBoolean(e.value)});break;case gt.vH.ASK_PASSWORD_OTP_EXPIRY_TIME:u=Or(Or({},u),{},{expiryTime:e.value});break;case gt.vH.ASK_PASSWORD_EMAIL_OTP:u=Or(Or({},u),{},{enableEmailOtp:hr.CommonUtils.parseBoolean(e.value)});break;case gt.vH.ASK_PASSWORD_SMS_OTP:u=Or(Or({},u),{},{enableSmsOtp:hr.CommonUtils.parseBoolean(e.value)});break;case gt.vH.ASK_PASSWORD_OTP_USE_LOWERCASE:u=Or(Or({},u),{},{otpUseLowercase:hr.CommonUtils.parseBoolean(e.value)});break;case gt.vH.ASK_PASSWORD_OTP_USE_NUMERIC:u=Or(Or({},u),{},{otpUseNumeric:hr.CommonUtils.parseBoolean(e.value)});break;case gt.vH.ASK_PASSWORD_OTP_USE_UPPERCASE:u=Or(Or({},u),{},{otpUseUppercase:hr.CommonUtils.parseBoolean(e.value)});break;case gt.vH.ASK_PASSWORD_OTP_LENGTH:u=Or(Or({},u),{},{otpLength:e.value})}})),d(u),v(null===(e=u)||void 0===e?void 0:e.enableInviteUserToSetPassword),b(null===(n=u)||void 0===n?void 0:n.otpUseUppercase),w(null===(r=u)||void 0===r?void 0:r.otpUseLowercase),I(null===(o=u)||void 0===o?void 0:o.otpUseNumeric),L(null===(i=u)||void 0===i?void 0:i.expiryTime),j(null===(a=u)||void 0===a?void 0:a.otpLength),k(null===(c=u)||void 0===c?void 0:c.enableAccountLockOnCreation),null!==(l=u)&&void 0!==l&&l.enableSmsOtp?C(gr.y.SMS_OTP):null!==(s=u)&&void 0!==s&&s.enableEmailOtp?C(gr.y.EMAIL_OTP):C(gr.y.EMAIL_LINK)}}),[t]),p?a.createElement(Bt.Z,{gap:1,"data-componentid":o},a.createElement(Bt.Z,{gap:2},a.createElement(Yt.Z,null,a.createElement(Qn.Z,{severity:"info"},i("flows:core.executions.confirmationCode.configurationHint"))),a.createElement(Bt.Z,{gap:1},a.createElement(Yt.Z,{variant:"body1"},i("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.emailAskPasswordOptions.header")),a.createElement(Bt.Z,{direction:"column",spacing:1,sx:{pl:3}},a.createElement(Gt.Z,null,a.createElement(mr.Z,{"aria-label":"ask-password-option",name:"askPasswordOption",value:A,onChange:function(e){n||C(e.target.value)},row:!1},B.map((function(e){return a.createElement(qn.Z,{key:e.value,value:e.value,control:a.createElement(yr.Z,{disabled:n,"data-componentid":"".concat(o,"-ask-password-option-").concat(e.value)}),label:i(e.label)})}))))),a.createElement("br",null),a.createElement(Bt.Z,{direction:"column",spacing:2},a.createElement(Yt.Z,{variant:"body1",sx:{minWidth:100}},i("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.expiryTime.label")),a.createElement(Bt.Z,{direction:"row",spacing:.5},a.createElement(kt.Z,{component:"text",type:"number","aria-label":"expiryTime",name:"expiryTime",value:R,onChange:function(e){return L(e.target.value)},placeholder:i("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.expiryTime.placeholder")+" (-1: indefinite, 0: immediate)",required:!1,inputProps:{max:gt.X$.ASK_PASSWORD_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MAX_VALUE,maxLength:gt.X$.ASK_PASSWORD_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MAX_LENGTH,min:-1},disabled:n,"data-componentid":"".concat(o,"-link-expiry-time")}),a.createElement(Yt.Z,{variant:"body2",color:"text.secondary",sx:{alignSelf:"center"}},"mins")),a.createElement(Kt.Z,null,i("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.expiryTime.hint"))),a.createElement(qn.Z,{control:a.createElement(zn.Z,{"aria-label":"enableAccountLockOnCreation",name:"enableAccountLockOnCreation",checked:Z,onChange:function(e){return k(e.target.checked)},required:!1,disabled:n,"data-componentid":"".concat(o,"-account-lock-on-creation")}),label:i("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.enableAccountLockOnCreation.label")}),a.createElement(Kt.Z,null,i("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.enableAccountLockOnCreation.hint")),a.createElement("br",null),a.createElement(ur.Z,{expanded:H,onChange:function(){return K((function(e){return!e}))}},a.createElement(pr.Z,{expandIcon:a.createElement(vr.v4,null),"aria-controls":"otp-config-content",id:"otp-config-header"},a.createElement(Yt.Z,{variant:"h6"},i("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.otpConfigHeading"),X&&a.createElement(dr.Z,{className:"oxygen-menu-item-chip oxygen-chip-beta",sx:{ml:1}}))),a.createElement(fr.Z,null,a.createElement(qn.Z,{control:a.createElement(zn.Z,{"aria-label":"otpUseUppercase",name:"otpUseUppercase",checked:h,onChange:function(e){return b(e.target.checked)},required:!1,readOnly:n,disabled:h&&!O&&!P||A===gr.y.EMAIL_LINK,"data-componentid":"".concat(o,"-sms-otp-uppercase")}),label:i("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.askPasswordOtpUseUppercase.label")}),a.createElement(Kt.Z,null,i("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.askPasswordOtpUseUppercase.hint")),a.createElement(qn.Z,{control:a.createElement(zn.Z,{"aria-label":"otpUseLowercase",name:"otpUseLowercase",checked:O,onChange:function(e){return w(e.target.checked)},required:!1,readOnly:n,disabled:!h&&O&&!P||A===gr.y.EMAIL_LINK,"data-componentid":"".concat(o,"-sms-otp-lowercase")}),label:i("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.askPasswordOtpUseLowercase.label")}),a.createElement(Kt.Z,null,i("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.askPasswordOtpUseLowercase.hint")),a.createElement(qn.Z,{control:a.createElement(zn.Z,{"aria-label":"otpUseNumeric",name:"otpUseNumeric",checked:P,onChange:function(e){return I(e.target.checked)},required:!1,readOnly:n,disabled:!h&&!O&&P||A===gr.y.EMAIL_LINK,"data-componentid":"".concat(o,"-sms-otp-numeric")}),label:i("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.askPasswordOtpUseNumeric.label")}),a.createElement(Kt.Z,null,i("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.askPasswordOtpUseNumeric.hint")),a.createElement("br",null),a.createElement(Bt.Z,{direction:"column",spacing:2},a.createElement(Yt.Z,{variant:"body1",sx:{minWidth:100}},i("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.askPasswordOtpLength.label")),a.createElement(Bt.Z,{direction:"row",spacing:.5},a.createElement(kt.Z,{component:"text",type:"number","aria-label":"otpLength",name:"otpLength",value:U,onChange:function(e){return j(e.target.value)},placeholder:"OTP Length",required:!1,inputProps:{max:gt.X$.ASK_PASSWORD_FORM_FIELD_CONSTRAINTS.OTP_CODE_LENGTH_MAX_VALUE,maxLength:gt.X$.ASK_PASSWORD_FORM_FIELD_CONSTRAINTS.OTP_CODE_LENGTH_MAX_LENGTH,min:gt.X$.ASK_PASSWORD_FORM_FIELD_CONSTRAINTS.OTP_CODE_LENGTH_MIN_VALUE,minLength:gt.X$.ASK_PASSWORD_FORM_FIELD_CONSTRAINTS.OTP_CODE_LENGTH_MIN_LENGTH},disabled:A===gr.y.EMAIL_LINK||n,"data-componentid":"".concat(o,"-otp-length")}),a.createElement(Yt.Z,{variant:"body2",color:"text.secondary",sx:{alignSelf:"center"}},"characters")),a.createElement(Kt.Z,null,i("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.askPasswordOtpLength.hint")))))))):null},Ir=n(95890),Tr={};Tr.styleTagTransform=vn(),Tr.setAttributes=pn(),Tr.insert=un().bind(null,"head"),Tr.domAPI=ln(),Tr.insertStyleElement=yn();an()(Ir.Z,Tr);Ir.Z&&Ir.Z.locals&&Ir.Z.locals;const xr=function(e){var t,n=e["data-componentid"],r=void 0===n?"confirmation-code-properties-component":n,o=yt(),i=o.connector,l=o.setConnector,s=(0,x.I0)(),u=(0,c.$)().t,f=(0,x.v9)((function(e){return e.config.ui.features})),p=(0,er.EV)(null===(t=f.governanceConnectors.scopes)||void 0===t?void 0:t.update);(0,a.useEffect)((function(){i||d()}),[i,l]);var d=function(){(0,At.PP)(gt.vH.USER_ONBOARDING_CONNECTOR_ID,gt.vH.ASK_PASSWORD_CONNECTOR_ID).then((function(e){null!=e&&e.categoryId||(e.categoryId=gt.vH.USER_ONBOARDING_CONNECTOR_ID),l(e)})).catch((function(){l(void 0)}))},y=function(){var e={properties:[gt.vH.ASK_PASSWORD_ENABLE,gt.vH.ASK_PASSWORD_LOCK_ON_CREATION,gt.vH.ASK_PASSWORD_ACCOUNT_ACTIVATION,gt.vH.ASK_PASSWORD_OTP_EXPIRY_TIME,gt.vH.ASK_PASSWORD_EMAIL_OTP,gt.vH.ASK_PASSWORD_SMS_OTP,gt.vH.ASK_PASSWORD_OTP_USE_LOWERCASE,gt.vH.ASK_PASSWORD_OTP_USE_NUMERIC,gt.vH.ASK_PASSWORD_OTP_USE_UPPERCASE,gt.vH.ASK_PASSWORD_OTP_LENGTH]};(0,At.Mo)(gt.vH.USER_ONBOARDING_CONNECTOR_ID,gt.vH.ASK_PASSWORD_CONNECTOR_ID,e).then((function(){s((0,E.V_)({description:u("governanceConnectors:notifications.revertConnector.success.description"),level:b.QU.SUCCESS,message:u("governanceConnectors:notifications.revertConnector.success.message")}))})).catch((function(){s((0,E.V_)({description:u("governanceConnectors:notifications.revertConnector.error.description"),level:b.QU.ERROR,message:u("governanceConnectors:notifications.revertConnector.error.message")}))})).finally((function(){d()}))};return a.createElement(Bt.Z,{gap:1,"data-componentid":r,className:"confirmation-code-properties"},a.createElement(Gt.Z,{className:"configuration-section"},a.createElement(Pr,{connector:i,readOnly:!p,isConnectorEnabled:!0,isSubmitting:!1,"data-componentid":"confirmation-code-properties"})),a.createElement(Gt.Z,{className:"configuration-revert-section"},a.createElement(In.Z,{variant:"outlined",onClick:function(){return y()},color:"error",className:"revert-button"},a.createElement(Yt.Z,{variant:"body1",color:"error",className:"revert-button-text"},u("governanceConnectors:dangerZone.heading")))))};var Ar=n(34856),Cr=n(41595),Nr={};Nr.styleTagTransform=vn(),Nr.setAttributes=pn(),Nr.insert=un().bind(null,"head"),Nr.domAPI=ln(),Nr.insertStyleElement=yn();an()(Cr.Z,Nr);Cr.Z&&Cr.Z.locals&&Cr.Z.locals;function Rr(){return Rr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rr.apply(null,arguments)}const Lr=function(e){var t,n,r=e.resource,i=e["data-componentid"],c=void 0===i?"federation-properties-component":i,l=e.onChange,s=(0,o.Z)().metadata,u=(0,$t.Z)().selectedNotification,f=(0,a.useMemo)((function(){var e="".concat(null==r?void 0:r.id,"_data.action.executor.meta.idpName");return null!=u&&u.hasResourceFieldNotification(e)?null==u?void 0:u.getResourceFieldNotification(e):""}),[r,u]),p=(0,a.useMemo)((function(){var e=s.executorConnections.find((function(e){var t;return e.executorName===(null==r||null===(t=r.data)||void 0===t||null===(t=t.action)||void 0===t||null===(t=t.executor)||void 0===t?void 0:t.name)}));return(null==e?void 0:e.connections)||[]}),[s,null==r||null===(t=r.data)||void 0===t||null===(t=t.action)||void 0===t||null===(t=t.executor)||void 0===t?void 0:t.name]),d=(0,a.useMemo)((function(){var e,t;return null!=r&&null!==(e=r.data)&&void 0!==e&&null!==(e=e.action)&&void 0!==e&&null!==(e=e.executor)&&void 0!==e&&null!==(e=e.meta)&&void 0!==e&&e.idpName&&"{{IDP_NAME}}"!==(null==r||null===(t=r.data)||void 0===t||null===(t=t.action)||void 0===t||null===(t=t.executor)||void 0===t||null===(t=t.meta)||void 0===t?void 0:t.idpName)&&p.find((function(e){var t;return e===(null==r||null===(t=r.data)||void 0===t||null===(t=t.action)||void 0===t||null===(t=t.executor)||void 0===t||null===(t=t.meta)||void 0===t?void 0:t.idpName)}))||null}),[p,null==r||null===(n=r.data)||void 0===n||null===(n=n.action)||void 0===n||null===(n=n.executor)||void 0===n||null===(n=n.meta)||void 0===n?void 0:n.idpName]);return a.createElement(Bt.Z,{gap:2,"data-componentid":c,className:"flow-builder-execution-federation-properties"},a.createElement(Yt.Z,{variant:"body2"},"Select a connection from the following list to link it with the invited registration flow."),a.createElement(Zt.Z,{disablePortal:!0,key:r.id,options:p||[],getOptionLabel:function(e){return e},sx:{width:"100%"},renderInput:function(e){return a.createElement(kt.Z,Rr({},e,{label:"Connection",placeholder:"Select a connection",error:!!f}))},placeholder:"Select a connection",value:d,onChange:function(e,t){l("action.executor.meta.idpName",null===t?"":t,r)}}),f&&a.createElement(Ar.Z,{error:!0},f),!(null!=p&&p.length)&&a.createElement(Qn.Z,{severity:"warning","data-componentid":"".concat(c,"-no-connections-warning")},"No connections available. Please create a",a.createElement("a",{style:{cursor:"pointer"},onClick:function(){nr.m.push(tr.$.getPaths().get("CONNECTION_TEMPLATES"))}}," connection "),"to link with the invited registration flow."))};function Dr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ur(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ur(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ur(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function jr(){return jr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jr.apply(null,arguments)}const Fr=function(e){var t,n=e.properties,r=e.resource,o=e.onChange,i=e.onVariantChange,c=(0,a.useMemo)((function(){var e;return null==r||null===(e=r.variants)||void 0===e?void 0:e.find((function(e){return e.variant===r.variant}))}),[r.variants,r.variant]),l=function(){return a.createElement($n,{InputProps:{readOnly:!0},key:"".concat(r.id,"-$id"),resource:r,propertyKey:"id",propertyValue:r.id,"data-componentid":"".concat(r.id,"-id"),onChange:function(e,t,n){o("id",t,n)}})},s=function(){var e,t=!(0,_.Z)(null==r?void 0:r.variants);return a.createElement(a.Fragment,null,t&&a.createElement(Zt.Z,{disablePortal:!0,options:null==r?void 0:r.variants,sx:{width:300},getOptionLabel:function(e){return e.variant},renderInput:function(e){return a.createElement(kt.Z,jr({},e,{label:"Variant"}))},value:c,onChange:function(e,t){i(null==t?void 0:t.variant)}}),n&&(null===(e=Object.entries(n))||void 0===e?void 0:e.map((function(e){var t=Dr(e,2),n=t[0],i=t[1];return a.createElement($n,{key:"".concat(r.id,"-").concat(n),resource:r,propertyKey:n,propertyValue:i,"data-componentid":"".concat(r.id,"-").concat(n),onChange:o})}))))};switch(r.category){case p.qb.Interface:if(r.type===p.Dm.End)return a.createElement(a.Fragment,null,l(),a.createElement(sr,{resource:r,"data-componentid":"flow-completion-properties",onChange:o}));break;case f.hW.Field:return a.createElement(a.Fragment,null,l(),a.createElement(Pn,{resource:r,"data-componentid":"field-extended-properties",onChange:o}),s());case f.hW.Action:return a.createElement(a.Fragment,null,l(),r.type===f.iN.Button&&a.createElement(Sn,{resource:r,"data-componentid":"button-extended-properties",onChange:o,onVariantChange:i}),s());case p.qb.Decision:if(r.type===p.Dm.Rule)return a.createElement(a.Fragment,null,l(),a.createElement(Ln,null));break;case p.qb.Workflow:return r.type===p.Dm.Execution&&(null==r||null===(t=r.data)||void 0===t||null===(t=t.action)||void 0===t||null===(t=t.executor)||void 0===t?void 0:t.name)===p._t.ConfirmationCode?a.createElement(a.Fragment,null,l(),a.createElement(xr,{resource:r,"data-componentid":"confirmation-code-properties",onChange:o}),s()):a.createElement(a.Fragment,null,l(),!It.FEDERATION_CONFIG_SKIPPED_EXECUTORS.includes(null==r||null===(u=r.data)||void 0===u||null===(u=u.action)||void 0===u||null===(u=u.executor)||void 0===u?void 0:u.name)&&a.createElement(Lr,{resource:r,"data-componentid":"federation-properties",onChange:o}),s());var u;default:return a.createElement(a.Fragment,null,l(),s())}};var Zr=n(21386);const kr=function(e){var t=e.resource,n=e.stepId;return a.createElement(Zr.Z,{resource:t,stepId:n})};var Mr=n(3650);function Gr(e){return Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gr(e)}function Vr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vr(Object(n),!0).forEach((function(t){Hr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Gr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Gr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Gr(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kr=["display","version","variants","deprecated","meta","resourceType"],Xr=function(e,t,n){if(n[t]){if(null!=e&&e.action)return Wr(Wr({},e),{},{action:Wr(Wr({},e.action),{},{next:n[t]})});if((null==e?void 0:e.category)===f.hW.Action)return Wr(Wr({},e),{},{action:{next:n[t],type:Mr.M.Next}})}else if(null!=e&&e.action&&e.action.next)return Wr(Wr({},e),{},{action:Wr(Wr({},e.action),{},{next:void 0})});return e};const Br=function(e){var t=(0,S.Z)(e),n=t.nodes,r=t.edges,o={steps:[]},i={};r.forEach((function(e){var t;i[null===(t=e.sourceHandle)||void 0===t||null===(t=t.replace(u.Z.FLOW_BUILDER_NEXT_HANDLE_SUFFIX,""))||void 0===t?void 0:t.replace(u.Z.FLOW_BUILDER_PREVIOUS_HANDLE_SUFFIX,"")]=e.target})),n.filter((function(e){return!0!==e.data.displayOnly})).forEach((function(e){var t,n=e.data,r=e.id,a=e.position,c=e.measured,l=e.type,s=function(e){return null==e?void 0:e.map((function(e){return e.components&&(e.components=s(e.components)),Xr((0,qt.Z)(e,Kr),e.id,i)}))},u={id:r,type:l,size:c||{height:400,width:350},position:a,data:n};n.components&&(u.data=Wr(Wr({},u.data),{},{components:s(n.components)})),null!=u&&null!==(t=u.data)&&void 0!==t&&t.action&&(u.data=Xr(u.data,u.id,i)),o.steps.push(u)}));var a=o.steps.find((function(e){return e.type===p.Dm.End}));return a&&(o.steps=o.steps.filter((function(e){return e.type!==p.Dm.End})),o.steps.push(a)),o};function Yr(e){return Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yr(e)}function $r(){$r=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),c=new C(r||[]);return o(a,"_invoke",{value:I(e,n,c)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",d="suspendedYield",y="executing",m="completed",v={};function g(){}function h(){}function b(){}var E={};s(E,a,(function(){return this}));var O=Object.getPrototypeOf,w=O&&O(O(N([])));w&&w!==n&&r.call(w,a)&&(E=w);var S=b.prototype=g.prototype=Object.create(E);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(o,i,a,c){var l=f(e[o],e,i);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Yr(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(u).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,c)}))}c(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function I(t,n,r){var o=p;return function(i,a){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var l=T(c,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=y;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?m:d,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=m,r.method="throw",r.arg=s.arg)}}}function T(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Yr(t)+" is not iterable")}return h.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:h,configurable:!0}),h.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},_(P.prototype),s(P.prototype,c,(function(){return this})),t.AsyncIterator=P,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new P(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(S),s(S,l,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(l&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Qr(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function zr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Jr=function(e){var t=e.children,n=(0,x.I0)(),r=(0,c.$)().t,l=(0,O._K)().toObject,s=Ut().data,u=(0,o.Z)().flowCompletionConfigs,f=Ft(),p=f.data,d=f.mutate,y=zr((0,a.useState)({}),2),m=y[0],v=y[1],g=zr((0,a.useState)(!1),2),h=g[0],w=g[1],S=zr((0,a.useState)(null),2),P=S[0],I=S[1],T=zr((0,a.useState)(!1),2),A=T[0],C=T[1],N=zr((0,a.useState)(void 0),2),R=N[0],L=N[1],D=function(e){var t={operation:"UPDATE",properties:[]};for(var o in e)t.properties.push({name:gt.e9.decodeConnectorPropertyName(o),value:e[o]});ht.K.connectorToggleName[null==R?void 0:R.name]&&ht.K.autoEnableConnectorToggleProperty&&"account-recovery"!==(null==R?void 0:R.name)&&t.properties.push({name:gt.e9.decodeConnectorPropertyName(ht.K.connectorToggleName[null==R?void 0:R.name]),value:"true"}),(0,gt.u9)(t,null==R?void 0:R.categoryId,null==R?void 0:R.id).then((function(){n((0,E.V_)({description:r("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.notification.success.description"),level:b.QU.SUCCESS,message:r("governanceConnectors:notifications.updateConnector.success.message")}))})).catch((function(e){!function(e){e.response&&e.response.data&&e.response.data.detail?n((0,E.V_)({description:r("governanceConnectors:notifications.updateConnector.error.description",{description:e.response.data.description}),level:b.QU.ERROR,message:r("governanceConnectors:notifications.updateConnector.error.message")})):n((0,E.V_)({description:r("governanceConnectors:notifications.updateConnector.genericError.description"),level:b.QU.ERROR,message:r("governanceConnectors:notifications.updateConnector.genericError.message")}))}(e)})).finally((function(){(0,gt.PP)(gt.vH.USER_ONBOARDING_CONNECTOR_ID,gt.vH.ASK_PASSWORD_CONNECTOR_ID).then((function(e){null!=e&&e.categoryId||(e.categoryId=gt.vH.USER_ONBOARDING_CONNECTOR_ID),L(e)})).catch((function(){L(void 0)})),C(!1)}))},U=function(){var e,t=(e=$r().mark((function e(){var t,o;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w(!0),A&&P&&D(P),t=l(),p){e.next=13;break}return e.prev=4,e.next=7,Nt(!0);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),n((0,E.V_)({description:"Failed to enable the new password recovery flow experience.",level:b.QU.ERROR,message:"Flow Update Failure"}));case 12:d();case 13:if((0,_.Z)(u)){e.next=22;break}return e.prev=14,e.next=17,(0,mt.Z)({flowCompletionConfigs:u,flowType:i.Z.INVITED_USER_REGISTRATION});case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(14),n((0,E.V_)({description:r("flows:core.notifications.updateFlowConfig.genericError.description"),level:b.QU.ERROR,message:r("flows:core.notifications.updateFlowConfig.genericError.message")}));case 22:return e.prev=22,(o=Br(t)).flowType=pe.ASK_PASSWORD_FLOW_TYPE,e.next=27,xt(o);case 27:return n((0,E.V_)({description:"Invited user registration flow updated successfully.",level:b.QU.SUCCESS,message:"Flow Updated Successfully"})),e.abrupt("return",!0);case 31:return e.prev=31,e.t2=e.catch(22),n((0,E.V_)({description:"Failed to update the invited user registration flow.",level:b.QU.ERROR,message:"Flow Update Failure"})),e.abrupt("return",!1);case 35:return e.prev=35,w(!1),e.finish(35);case 38:case"end":return e.stop()}}),e,null,[[4,9],[14,19],[22,31,35,38]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Qr(i,r,o,a,c,"next",e)}function c(e){Qr(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();return a.createElement(dt.Provider,{value:{connector:R,invitedUserRegistrationConfig:P,isInvitedUserRegistrationConfigUpdated:A,isNewAskPasswordPortalEnabled:p,isPublishing:h,onPublish:U,selectedAttributes:m,setConnector:L,setInvitedUserRegistrationConfig:I,setIsInvitedUserRegistrationConfigUpdated:C,setSelectedAttributes:v,supportedAttributes:s}},t)};const eo=function(e){var t=e.children,n=(0,a.useMemo)((function(){return[bt.N$.SIGN_UP,bt.N$.COMMON,bt.N$.EMAIL_LINK_EXPIRY,bt.N$.SMS_OTP,bt.N$.EMAIL_OTP]}),[]);return a.createElement(vt.Z,{ElementFactory:kr,ResourceProperties:Fr,flowType:i.Z.INVITED_USER_REGISTRATION,screenTypes:n,validationConfig:{isPasswordExecutorValidationEnabled:!0}},a.createElement(Jr,null,t))};var to=function(e){var t=e["data-componentid"],n=e.children,l=(0,c.$)().t,s=yt(),u=s.isPublishing,f=s.onPublish,p=(0,o.Z)().setRefetchFlow;return a.createElement(r.Z,{"data-componentid":t,flowType:i.Z.INVITED_USER_REGISTRATION,flowTypeDisplayName:l("flows:askPassword.flowDisplayName"),isPublishing:u,onPublish:f,onRevert:function(){return p(!0)}},n)};const no=function(e){var t=e["data-componentid"],n=void 0===t?"ask-password-flow-builder-page":t;return a.createElement(eo,null,a.createElement(to,{"data-componentid":n},a.createElement(ft,null)))}},73757:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(96124),o=n(76271),i=n(6833);const a=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a={headers:{Accept:"application/json","Content-Type":"application/json"},method:i.f2.GET,url:"".concat(o.h.getState().config.endpoints.governanceConnectorCategories,"/").concat(e,"/connectors/").concat(t)},c=(0,r.Z)(n?a:null);return{data:c.data,error:c.error,isLoading:c.isLoading,isValidating:c.isValidating,mutate:c.mutate}}},8718:(e,t,n)=>{n.d(t,{E7:()=>r.E7,N$:()=>r.N$,Oj:()=>r.Oj,gf:()=>r.gf,gy:()=>r.gy,m3:()=>r.m3});var r=n(60826)},53029:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(81611),o=n.n(r),i=n(83948),a=n.n(i)()(o());a.push([e.id,".button-extended-properties{margin-bottom:var(--oxygen-spacing-1)}.button-extended-properties .extended-property.action-type{cursor:pointer}.button-extended-properties .extended-property.action-type.oxygen-card{padding:0}.button-extended-properties .extended-property.action-type.oxygen-card .oxygen-card-content:last-child{padding:var(--oxygen-spacing-1)}.button-extended-properties .extended-property.action-type.oxygen-card .oxygen-card-content:last-child:last-child{padding-bottom:var(--oxygen-spacing-1)}.button-extended-properties .extended-property.action-type .action-type-name{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;line-clamp:2;-webkit-line-clamp:2;-webkit-box-orient:vertical}.button-extended-properties .extended-property.action-type .action-type-icon{background-color:var(--oxygen-palette-grey-300);width:32px;height:32px}.button-extended-properties .extended-property.action-type .action-type-icon img{height:16px;width:16px}.button-extended-properties .extended-property.action-type.selected{border:1px solid var(--oxygen-palette-primary-main)}.button-extended-properties .extended-property.action-type.error{border:1px solid var(--oxygen-palette-error-main)}.button-extended-properties .button-extended-properties-heading{font-weight:500}.button-extended-properties .button-extended-properties-sub-heading{margin-top:var(--oxygen-spacing-2);margin-bottom:var(--oxygen-spacing-1)}.button-extended-properties .MuiFormHelperText-root{margin-top:var(--oxygen-spacing-1)}",""]);const c=a},40137:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(81611),o=n.n(r),i=n(83948),a=n.n(i)()(o());a.push([e.id,".add-button{margin-top:10px}",""]);const c=a},95890:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(81611),o=n.n(r),i=n(83948),a=n.n(i)()(o());a.push([e.id,".confirmation-code-properties .configuration-section{display:flex;flex-direction:column;gap:8px;height:100%;margin-bottom:16px;margin-top:16px}.confirmation-code-properties .configuration-revert-section{align-items:center;display:flex;justify-content:center;margin-bottom:16px}.confirmation-code-properties .configuration-revert-section .revert-button{border-radius:var(--oxygen-shape-borderRadius);height:40px;margin-top:16px;min-width:40px;width:90%}.confirmation-code-properties .configuration-revert-section .revert-button .revert-button-text{text-align:center;width:100%}",""]);const c=a},41595:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(81611),o=n.n(r),i=n(83948),a=n.n(i)()(o());a.push([e.id,".flow-builder-execution-federation-properties .MuiFormHelperText-root.Mui-error{margin-top:-16px}",""]);const c=a}}]);