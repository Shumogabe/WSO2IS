"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[9162],{39203:(e,t,n)=>{n.d(t,{Ug:()=>c,VL:()=>u,fF:()=>d,hI:()=>s,sS:()=>v,tN:()=>m,yq:()=>p});var r=n(2292),a=n(96124),i=n(76271),o=n(6833),l=r.AsgardeoSPAClient.getInstance().httpRequest.bind(r.AsgardeoSPAClient.getInstance()),s=function(e,t){var n={headers:{"Access-Control-Allow-Origin":i.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.f2.GET,params:{domain:e,excludedAttributes:t},url:i.h.getState().config.endpoints.groups};return l(n).then((function(e){if(200==e.status)return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0,s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],c={headers:{"Content-Type":"application/json"},method:o.f2.GET,params:{count:e,domain:r,excludedAttributes:l,filter:n,startIndex:t},url:i.h.getState().config.endpoints.groups},u=(0,a.Z)(s?c:null),d=u.data,m=u.error;return{data:d,error:m,isLoading:!m&&!d,isValidating:u.isValidating,mutate:u.mutate,response:u.response}},u=function(e,t){var n={headers:{"Access-Control-Allow-Origin":i.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.f2.GET,params:{excludedAttributes:t},url:i.h.getState().config.endpoints.groups+"/"+e};return l(n).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},d=function(e,t){var n={data:t,headers:{"Access-Control-Allow-Origin":i.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.f2.PATCH,url:i.h.getState().config.endpoints.groups+"/"+e};return l(n).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},m=function(e){var t={data:e,headers:{"Access-Control-Allow-Origin":i.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.f2.POST,url:i.h.getState().config.endpoints.groups+"/.search"};return l(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},p=function(e){var t={headers:{"Access-Control-Allow-Origin":i.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.f2.DELETE,url:i.h.getState().config.endpoints.groups+"/"+e};return l(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},v=function(e){var t={data:e,headers:{"Access-Control-Allow-Origin":i.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.f2.POST,url:i.h.getState().config.endpoints.groups};return l(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}},51318:(e,t,n)=>{function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){s=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(s)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{F2:()=>l,P_:()=>u});var i=function(e){return Math.random()*e},o=function(e,t){var n,a=r(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;e=e.replace(i,"")}}catch(o){a.e(o)}finally{a.f()}return e},l=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,m=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,p=arguments.length>10&&void 0!==arguments[10]?arguments[10]:[],v="",f="",h=o("abcdefghijklmnopqrstuvwxyz",p),g=o("ABCDEFGHIJKLMNOPQRSTUVWXYZ",p),E=o("0123456789",p),y=o("!#$%&'()*+,-./:;<=>?@[]^_{|}~",p),I=0;I<i;I++)f+=s(f,h);for(var O=0;O<l;O++)f+=s(f,g);for(var N=0;N<u;N++)f+=s(f,E);for(var b=0;b<d;b++)f+=s(f,y);v=f;var _="";_=t?_+h:_,_=n?_+g:_,_=r?_+E:_,_=a?_+y:_,0===i&&0===l&&0===u&&0===d&&(_=_+h+g+E+y);var L=new Set(v.split("")),S=!1;m>0&&L.size<m&&(v=Array.from(L).join(""),S=!0);for(var C=e-v.length,A=0;A<C;A++)v+=S?c(v,_):s(v,_);return v},s=function(e,t){for(var n=t.charAt(i(t.length));n===e.charAt(e.length-1);)n=t.charAt(i(t.length));return n},c=function(e,t){for(var n=t.charAt(i(t.length));e.includes(n);)n=t.charAt(i(t.length));return n},u=function(e){var t=null==e?void 0:e.filter((function(e){return"password"===e.field}));if(!(void 0===t||t.length<1)){var n=t[0],r=null==n?void 0:n.rules;if(!((null==r?void 0:r.length)<1))return{consecutiveCharacterValidatorEnabled:null!==d(r,"RepeatedCharacterValidator","max.consecutive.character"),field:"password",maxConsecutiveCharacters:d(r,"RepeatedCharacterValidator","max.consecutive.character")?d(r,"RepeatedCharacterValidator","max.consecutive.character"):"0",maxLength:d(r,"LengthValidator","max.length")?d(r,"LengthValidator","max.length"):"30",minLength:d(r,"LengthValidator","min.length")?d(r,"LengthValidator","min.length"):"8",minLowerCaseCharacters:d(r,"LowerCaseValidator","min.length")?d(r,"LowerCaseValidator","min.length"):"0",minNumbers:d(r,"NumeralValidator","min.length")?d(r,"NumeralValidator","min.length"):"0",minSpecialCharacters:d(r,"SpecialCharacterValidator","min.length")?d(r,"SpecialCharacterValidator","min.length"):"0",minUniqueCharacters:d(r,"UniqueCharacterValidator","min.unique.character")?d(r,"UniqueCharacterValidator","min.unique.character"):"0",minUpperCaseCharacters:d(r,"UpperCaseValidator","min.length")?d(r,"UpperCaseValidator","min.length"):"0",type:"rules",uniqueCharacterValidatorEnabled:null!==d(r,"UniqueCharacterValidator","min.unique.character")}}},d=function(e,t,n){var r=null==e?void 0:e.filter((function(e){return e.validator===t}));if((null==r?void 0:r.length)>0){var a=r.flatMap((function(e){var t;return null!==(t=e.properties)&&void 0!==t?t:[]}));if((a=a.filter((function(e){return e.key===n}))).length>0)return a[0].value}return null}},59162:(e,t,n)=>{n.r(t),n.d(t,{ValidationConfigEditPage:()=>_e,default:()=>Le});var r=n(80750),a=n(92938),i=n(55007),o=n(60486),l=n(40838),s=n(51021),c=n(39203),u=n(79282),d=n(73269),m=n(51318),p=n(6833),v=n(82406),f=n(79438),h=n(78132),g=n(44194),E=n(10479),y=n(47245),I=n(62508),O=n(41206),N=n(33839),b=n(87172),_=n(31551),L=n(20305),S=n(55931),C=n(30923),A=n(94635),R=n(65986),w=n(91250),T=n(41534),x=n(15513),P=n(29851),V=n(8976),D=n(17901),F=n(7231),M=n(8058),U=function(e){return e.EQ="eq",e.NE="ne",e}({}),j=function(e){return e.ROLES="roles",e.GROUPS="groups",e}({});function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Z(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Z(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e){return function(e){if(Array.isArray(e))return Y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||X(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return l}}(e,t)||X(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){if(e){if("string"==typeof e)return Y(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Q=function(e){return e.UP="up",e.DOWN="down",e}(Q||{}),K=function(e){var t=e.componentId,n=e.ruleList,r=e.isPasswordExpiryEnabled,a=e.isSkipFallbackEnabled,i=e.defaultPasswordExpiryTime,o=e.rolesList,l=e.groupsList,c=e.isReadOnly,u=e.onSkipFallbackChange,d=e.onDefaultPasswordExpiryTimeChange,m=e.onRuleChange,p=e.onRuleError,v=H((0,g.useState)(n),2),f=v[0],h=v[1],y=H((0,g.useState)({}),2),I=y[0],O=y[1],N=(0,E.$)().t;(0,g.useEffect)((function(){h(n),Z(n)}),[n]);var Z=function(e){var t={},n=!1;e.forEach((function(e){t[null==e?void 0:e.id]={expiryDays:!1,values:!1},0===(null==e?void 0:e.values.length)&&(t[null==e?void 0:e.id].values=!0,n=!0),(null==e?void 0:e.operator)===U.EQ&&((null==e?void 0:e.expiryDays)<M.X.PASSWORD_EXPIRY_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MIN_VALUE||(null==e?void 0:e.expiryDays)>M.X.PASSWORD_EXPIRY_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MAX_VALUE)&&(t[null==e?void 0:e.id].expiryDays=!0,n=!0)})),O(t),p(n)},G=function(e,t,n){var r=q(f);r[e]=k(k({},r[e]),{},W({},t,n)),X(r)},X=function(e){h(e),m(e)},Y=function(e,t){if(!(t===Q.UP&&0===e||t===Q.DOWN&&e===f.length-1)){var n=q(f),r=t===Q.UP?e-1:e+1,a=[n[r],n[e]];n[e]=a[0],n[r]=a[1],n.forEach((function(e,t){return e.priority=t+1})),X(n)}},K=[{label:N("validation:passwordExpiry.rules.attributes.roles"),value:j.ROLES},{label:N("validation:passwordExpiry.rules.attributes.groups"),value:j.GROUPS}],B=[{label:N("validation:passwordExpiry.rules.actions.apply"),value:U.EQ},{label:N("validation:passwordExpiry.rules.actions.skip"),value:U.NE}],z=function(e,t){if(t){var n,r,a=e.audience;return(null==a||null===(n=a.type)||void 0===n?void 0:n.toLowerCase())===F.cv.APPLICATION.toLowerCase()?"application | ".concat(null==a?void 0:a.display):null!==(r=null==a?void 0:a.type)&&void 0!==r?r:""}var i=e.displayName;return null!=i&&i.includes("/")?i.split("/")[0]:null===s.wO||void 0===s.wO?void 0:s.wO.primaryUserstoreName},$=function(e,t){var n;if(t)return null!==(n=e.displayName)&&void 0!==n?n:"";var r=e.displayName;return null!=r&&r.includes("/")?r.split("/")[1]:null!=r?r:""};return g.createElement("div",{"data-componentid":t},g.createElement(C.Z,{container:!0,direction:"row",columnSpacing:1,alignItems:"stretch"},g.createElement(C.Z,null,g.createElement(P.Z,{size:"small",value:a?U.NE:U.EQ,onChange:function(e){var t=e.target.value;u(t===U.NE)},disabled:!r,readOnly:c,"data-componentid":"".concat(t,"-skip-fallback-select"),className:"password-expiry-rule-select"},B.map((function(e){return g.createElement(x.Z,{key:e.value,value:e.value},e.label)})))),a?g.createElement(C.Z,{alignContent:"center"},N("validation:passwordExpiry.rules.messages.defaultRuleSkipMessage")):g.createElement(g.Fragment,null,g.createElement(C.Z,null,g.createElement(V.Z,{type:"number",value:i,"data-componentid":"".concat(t,"-default-expiry-time"),onChange:function(e){var t=parseInt(e.target.value,10);d(t)},disabled:!r,inputProps:{max:M.X.PASSWORD_EXPIRY_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MAX_VALUE,min:M.X.PASSWORD_EXPIRY_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MIN_VALUE,readOnly:c}})),g.createElement(C.Z,{alignContent:"center"},N("validation:passwordExpiry.rules.messages.defaultRuleApplyMessage")))),g.createElement(b.Z,{severity:"info",className:"info-box"},N("validation:passwordExpiry.rules.messages.info")),g.createElement(_.Z,{variant:"text",onClick:function(){if(!((null==f?void 0:f.length)>=M.X.PASSWORD_EXPIRY_FORM_FIELD_CONSTRAINTS.EXPIRY_RULES_MAX_COUNT)){var e=[{attribute:j.ROLES,expiryDays:30,id:"rule".concat(Date.now()),operator:U.EQ,priority:1,values:[]}].concat(q(f.map((function(e){return k(k({},e),{},{priority:(null==e?void 0:e.priority)+1})}))));X(e)}},className:"add-rule-btn",disabled:!r||c,"data-componentid":"".concat(t,"-add-rule")},g.createElement(D.pO,null),N("validation:passwordExpiry.rules.buttons.addRule")),(null==f?void 0:f.length)>0&&g.createElement("div",null,N("validation:passwordExpiry.rules.messages.ifUserHas")),g.createElement(R.Z,null,null==f?void 0:f.map((function(e,n){var a,i;return g.createElement(w.Z,{key:null==e?void 0:e.id},g.createElement(C.Z,{container:!0,spacing:1,alignItems:"stretch",width:1},g.createElement(C.Z,{container:!0,xs:1,direction:"row"},g.createElement(A.Z,{onClick:function(){return Y(n,Q.UP)},disabled:!r||0===n||c,"data-componentid":"".concat(t,"-move-up-").concat(n)},g.createElement(D.g8,{fill:"#000000"})),g.createElement(A.Z,{disabled:!r||n===f.length-1||c,onClick:function(){return Y(n,Q.DOWN)},"data-componentid":"".concat(t,"-move-down-").concat(n)},g.createElement(D.v4,{fill:"#000000"}))),g.createElement(C.Z,{xs:1.5},g.createElement(P.Z,{value:null==e?void 0:e.attribute,onChange:function(e){return G(n,"attribute",e.target.value)},readOnly:c,disabled:!r,"data-componentid":"".concat(t,"-attribute-select-").concat(n),fullWidth:!0},null==K?void 0:K.map((function(e){return g.createElement(x.Z,{key:e.value,value:e.value},e.label)})))),g.createElement(C.Z,{xs:4},g.createElement(P.Z,{labelId:"".concat(t,"-values-select-label-").concat(n),"data-componentid":"".concat(t,"-values-select-").concat(n),multiple:!0,readOnly:c,value:null==e?void 0:e.values,onChange:function(t){return function(e,t,n){var r=t.target.value,a="string"==typeof r?r.split(","):r,i=n?o:l,s=a.filter((function(e){return i.some((function(t){return t.id===e}))})).slice(0,M.X.PASSWORD_EXPIRY_FORM_FIELD_CONSTRAINTS.EXPIRY_RULE_MAX_VALUES_PER_RULE);G(e,"values",s)}(n,t,(null==e?void 0:e.attribute)===j.ROLES)},renderValue:function(t){return function(e,t){if(!e||0===(null==e?void 0:e.length))return null;var n=(null==t?void 0:t.attribute)===j.ROLES,r=n?o:l,a=null==r?void 0:r.find((function(t){return t.id===e[0]}));return a?g.createElement(C.Z,{container:!0,direction:"row",alignItems:"center",gap:1,justifyContent:"flex-start"},g.createElement(S.Z,{label:z(a,n),size:"small"}),g.createElement(T.Z,{primary:$(a,n)}),(null==e?void 0:e.length)>1&&g.createElement(S.Z,{label:"+".concat((null==e?void 0:e.length)-1," ").concat(N("common:more")),size:"small"})):null}(t,e)},disabled:!r,error:null===(a=I[null==e?void 0:e.id])||void 0===a?void 0:a.values,className:"password-expiry-rule-select",size:"small",fullWidth:!0},function(e){var t=(null==e?void 0:e.attribute)===j.ROLES;return(t?o:l).map((function(n){return g.createElement(x.Z,{key:n.id,value:n.id},g.createElement(C.Z,{direction:"row",alignItems:"center",gap:1,container:!0},g.createElement(L.Z,{checked:(null==e?void 0:e.values.indexOf(n.id))>-1}),g.createElement(S.Z,{label:z(n,t)}),g.createElement(T.Z,{primary:$(n,t)})))}))}(e))),g.createElement(C.Z,{xs:1.5},g.createElement(P.Z,{value:null==e?void 0:e.operator,onChange:function(e){return G(n,"operator",e.target.value)},readOnly:c,disabled:!r,"data-componentid":"".concat(t,"-operator-select-").concat(n),fullWidth:!0},B.map((function(e){return g.createElement(x.Z,{key:e.value,value:e.value},e.label)})))),(null==e?void 0:e.operator)===U.EQ&&g.createElement(C.Z,{xs:1},g.createElement(V.Z,{id:"expiryDays","data-componentid":"".concat(t,"-expiry-days-").concat(n),required:!0,value:null==e?void 0:e.expiryDays,type:"number",onChange:function(e){return function(e,t){var n=""===t?0:parseInt(t);G(e,"expiryDays",n)}(n,e.target.value)},inputProps:{className:"password-expiry-rule-input",max:M.X.PASSWORD_EXPIRY_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MAX_VALUE,min:M.X.PASSWORD_EXPIRY_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MIN_VALUE,readOnly:c},error:null===(i=I[null==e?void 0:e.id])||void 0===i?void 0:i.expiryDays,disabled:!r,className:"password-expiry-rule-select"})),g.createElement(C.Z,{xs:(null==e?void 0:e.operator)===U.NE?3.5:2.5,alignContent:"center"},(null==e?void 0:e.operator)===U.EQ?N("validation:passwordExpiry.rules.messages.applyMessage"):N("validation:passwordExpiry.rules.messages.skipMessage")),g.createElement(C.Z,{xs:.5,alignContent:"center"},g.createElement(A.Z,{disabled:c||!r,onClick:function(){return t=null==e?void 0:e.id,n=f.filter((function(e){return(null==e?void 0:e.id)!==t})).map((function(e,t){return k(k({},e),{},{priority:t+1})})),void X(n);var t,n},"data-componentid":"".concat(t,"-delete-rule-").concat(n)},g.createElement(D.XH,null)))))}))))},B=n(44485),z=n(51835),$=n.n(z),J=n(27975),ee=n.n(J),te=n(55900),ne=n.n(te),re=n(21555),ae=n.n(re),ie=n(3621),oe=n.n(ie),le=n(5062),se=n.n(le),ce=n(48311),ue={};ue.styleTagTransform=se(),ue.setAttributes=ae(),ue.insert=ne().bind(null,"head"),ue.domAPI=ee(),ue.insertStyleElement=oe();$()(ce.Z,ue);ce.Z&&ce.Z.locals&&ce.Z.locals;function de(e){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(e)}function me(){me=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),l=new w(r||[]);return a(o,"_invoke",{value:S(e,n,l)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",p="suspendedYield",v="executing",f="completed",h={};function g(){}function E(){}function y(){}var I={};c(I,o,(function(){return this}));var O=Object.getPrototypeOf,N=O&&O(O(T([])));N&&N!==n&&r.call(N,o)&&(I=N);var b=y.prototype=g.prototype=Object.create(I);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function n(a,i,o,l){var s=d(e[a],e,i);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==de(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(u).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,l)}))}l(s.arg)}var i;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return i=i?i.then(a,a):a()}})}function S(t,n,r){var a=m;return function(i,o){if(a===v)throw Error("Generator is already running");if(a===f){if("throw"===i)throw o;return{value:e,done:!0}}for(r.method=i,r.arg=o;;){var l=r.delegate;if(l){var s=C(l,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=v;var c=d(t,n,r);if("normal"===c.type){if(a=r.done?f:p,c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(a=f,r.method="throw",r.arg=c.arg)}}}function C(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var i=d(a,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,h;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(de(t)+" is not iterable")}return E.prototype=y,a(b,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:E,configurable:!0}),E.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},_(L.prototype),c(L.prototype,l,(function(){return this})),t.AsyncIterator=L,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var o=new L(u(e,n,r,a),i);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(b),c(b,s,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],l=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;R(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),h}},t}function pe(e,t,n,r,a,i,o){try{var l=e[i](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){he(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function he(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=de(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=de(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==de(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ge(e){return Ne(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ie(e)||ye()}function Ee(e,t){return Ne(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return l}}(e,t)||Ie(e,t)||ye()}function ye(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ie(e,t){if(e){if("string"==typeof e)return Oe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oe(e,t):void 0}}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ne(e){if(Array.isArray(e))return e}var be="validation-config-form",_e=function(e){var t,n,b,_=e["data-componentid"],L=(0,y.I0)(),S=(0,g.useRef)(null),C=(0,E.$)().t,A=(0,h.fQ)().getLink,R=(0,y.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.isPasswordInputValidationEnabled})),w=(0,y.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t||null===(t=t.loginAndRegistration)||void 0===t?void 0:t.disabledFeatures})),T=(0,y.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.features})),x=(0,y.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.passwordPolicyConfigs)||void 0===t?void 0:t.maxPasswordAllowedLength})),P=null==x||null===(t=x.toString())||void 0===t?void 0:t.length,V=Ee((0,g.useState)(!1),2),D=V[0],F=V[1],M=Ee((0,g.useState)(void 0),2),Z=M[0],G=M[1],k=Ee((0,g.useState)(!0),1)[0],W=Ee((0,g.useState)(!1),2),q=W[0],H=W[1],X=Ee((0,g.useState)(!1),2),Y=X[0],Q=X[1],z=Ee((0,g.useState)(void 0),2),$=z[0],J=z[1],ee=Ee((0,g.useState)(!0),2),te=ee[0],ne=ee[1],re=Ee((0,g.useState)(!1),2),ae=re[0],ie=re[1],oe=Ee((0,g.useState)(!1),2),le=oe[0],se=oe[1],ce=Ee((0,g.useState)(30),2),ue=ce[0],de=ce[1],ve=Ee((0,g.useState)(!1),2),ye=ve[0],Ie=ve[1],Oe=Ee((0,g.useState)([]),2),Ne=Oe[0],_e=Oe[1],Le=Ee((0,g.useState)([]),2),Se=Le[0],Ce=Le[1],Ae=Ee((0,g.useState)(!1),2),Re=Ae[0],we=Ae[1],Te=Ee((0,g.useState)(void 0),2),xe=Te[0],Pe=Te[1],Ve=Ee((0,g.useState)([]),2),De=Ve[0],Fe=Ve[1],Me=!(0,i.EV)(null==T||null===(n=T.governanceConnectors)||void 0===n||null===(n=n.scopes)||void 0===n?void 0:n.update),Ue=(0,i.EV)(null==T||null===(b=T.ruleBasedPasswordExpiry)||void 0===b||null===(b=b.scopes)||void 0===b?void 0:b.read),je=(null==w?void 0:w.includes(B.Ps.FEATURE_DICTIONARY.get("RULE_BASED_PASSWORD_EXPIRY")))||!Ue,Ze=s.KL.usePasswordHistory(),Ge=Ze.data,ke=Ze.error,We=Ze.mutate,qe=s.KL.usePasswordExpiry(),He=qe.data,Xe=qe.error,Ye=qe.mutate,Qe=(0,N.Wf)(R),Ke=Qe.data,Be=Qe.error,ze=Qe.mutate,$e=(0,c.Ug)(null,null,null,null,"members,roles",!je),Je=$e.data,et=$e.error,tt=$e.isLoading,nt=(0,u.Z)(100,null,null,"users,groups,permissions,associatedApplications",!je),rt=nt.data,at=nt.isLoading,it=nt.error;(0,g.useEffect)((function(){R||dt()}),[]),(0,g.useEffect)((function(){var e,t,n,r,a,i,o,l,s,c;et&&L((0,v.V_)({description:null!==(e=null!==(t=null==et||null===(n=et.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.description)&&void 0!==t?t:null==et||null===(r=et.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.detail)&&void 0!==e?e:C("console:manage.features.groups.notifications.fetchGroups.genericError.description"),level:p.QU.ERROR,message:null!==(a=null==et||null===(i=et.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.message)&&void 0!==a?a:C("console:manage.features.groups.notifications.fetchGroups.genericError.message")}));it&&L((0,v.V_)({description:null!==(o=null!==(l=null==it||null===(s=it.response)||void 0===s||null===(s=s.data)||void 0===s?void 0:s.description)&&void 0!==l?l:null==it||null===(c=it.response)||void 0===c||null===(c=c.data)||void 0===c?void 0:c.detail)&&void 0!==o?o:C("roles:notifications.fetchRoles.genericError.description"),level:p.QU.ERROR,message:C("roles:notifications.fetchRoles.genericError.message")}))}),[et,it]),(0,g.useEffect)((function(){var e,t,n,r;if(He&&!je){var a=function(e){var t;return null==He||null===(t=He.properties)||void 0===t?void 0:t.find((function(t){return t.name===e}))};se("true"===(null===(e=a(d.vH.PASSWORD_EXPIRY_ENABLE))||void 0===e?void 0:e.value)),de(parseInt(null===(t=a(d.vH.PASSWORD_EXPIRY_TIME))||void 0===t?void 0:t.value,10)||30),Ie("true"===(null===(n=a(d.vH.PASSWORD_EXPIRY_SKIP_IF_NO_APPLICABLE_RULES))||void 0===n?void 0:n.value));var i=null==He||null===(r=He.properties)||void 0===r?void 0:r.filter((function(e){var t;return null==e||null===(t=e.name)||void 0===t?void 0:t.startsWith(d.vH.PASSWORD_EXPIRY_RULES_PREFIX)})).reduce((function(e,t){var n=ot(t);return null!==n&&e.push(n),e}),[]).sort((function(e,t){return e.priority-t.priority}));Ce(i),_e(i)}}),[He]);var ot=function(e){var t,n=ge(null==e||null===(t=e.value)||void 0===t?void 0:t.split(",")),r=n[0],a=n[1],i=n[2],o=n[3],l=n.slice(4);if(!(r&&a&&i&&o&&0!==l.length))return null;var s=parseInt(r,10),c=parseInt(a,10);return isNaN(s)||isNaN(c)?null:Object.values(j).includes(i)&&Object.values(U).includes(o)?{attribute:i,expiryDays:c,id:null==e?void 0:e.name,operator:o,priority:s,values:l}:null};(0,g.useEffect)((function(){!Ge||!He||R&&!Ke||!R&&!De&&(null==De?void 0:De.length)>0||ct()}),[Ge,Ke,He,De]),(0,g.useEffect)((function(){void 0!==Z&&(J(fe({},Z)),null!=Z&&Z.uniqueCharacterValidatorEnabled&&H(!0),null!=Z&&Z.consecutiveCharacterValidatorEnabled&&Q(!0),ne(!1))}),[Z]),(0,g.useEffect)((function(){var e,t,n;if(Be||ke||Xe)if(null!=Be&&null!==(e=Be.response)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.description){var r,a;if(404===(null==Be||null===(r=Be.response)||void 0===r?void 0:r.status))return;L((0,v.V_)({description:null!==(a=Be.response.data.description)&&void 0!==a?a:C("validation:fetchValidationConfigData.error.description"),level:p.QU.ERROR,message:C("validation:fetchValidationConfigData.error.message")}))}else if(null!=ke&&null!==(t=ke.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.description){var i,o;if(404===(null==ke||null===(i=ke.response)||void 0===i?void 0:i.status))return;L((0,v.V_)({description:null!==(o=Be.response.data.description)&&void 0!==o?o:C("validation:fetchValidationConfigData.error.description"),level:p.QU.ERROR,message:C("validation:fetchValidationConfigData.error.message")}))}else if(null!=Xe&&null!==(n=Xe.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.description){var l;if(404===(null==Xe||null===(l=Xe.response)||void 0===l?void 0:l.status))return;L((0,v.V_)({description:Xe.response.data.description,level:p.QU.ERROR,message:C("validation:fetchValidationConfigData.error.message")}))}else L((0,v.V_)({description:C("validation:fetchValidationConfigData.genericError.description"),level:p.QU.ERROR,message:C("validation:fetchValidationConfigData.genericError.message")}))}),[Be,ke,Xe]);var lt,st,ct=function(){var e,t=null===s.KL||void 0===s.KL?void 0:s.KL.processInitialValues((0,m.P_)(Ke),Ge,ie);(t=s.KL.processPasswordExpiryInitialValues(t,He,se),R)||(t=De.reduce((function(e,t){var n=d.e9.encodeConnectorPropertyName(t.name);return fe(fe({},e),{},he({},n,t.value))}),t),Pe("true"===(null===(e=t)||void 0===e?void 0:e[d.e9.encodeConnectorPropertyName(d.vH.PASSWORD_POLICY_ENABLE)])));G(t)},ut=function(){var e,t=(e=me().mark((function e(){var t,n,r,a,i,o,l,s,c,u;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F(!0),t=!1,!R){e.next=16;break}return e.prev=3,e.next=6,(0,N.Tf)([B.Pv.PASSWORD]);case 6:ze(),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(3),F(!1),t=!0,L((0,v.V_)({description:C("validation:revertValidationConfigData.error.description"),level:p.QU.ERROR,message:C("validation:revertValidationConfigData.error.message")}));case 14:e.next=29;break;case 16:return n={properties:[]},De.forEach((function(e){n.properties.push(e.name)})),e.prev=18,e.next=21,(0,d.Mo)(d.vH.IDENTITY_GOVERNANCE_PASSWORD_POLICIES_ID,d.vH.PASSWORD_POLICY_CONNECTOR_ID,n);case 21:dt(),e.next=29;break;case 24:e.prev=24,e.t1=e.catch(18),F(!1),t=!0,L((0,v.V_)({description:null!==(r=null===e.t1||void 0===e.t1||null===(a=e.t1.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.detail)&&void 0!==r?r:C("validation:revertValidationConfigData.error.description"),level:p.QU.ERROR,message:C("validation:revertValidationConfigData.error.message")}));case 29:return e.prev=29,l={properties:[]},s={properties:[]},null===(i=Ge.properties)||void 0===i||i.forEach((function(e){l.properties.push(e.name)})),null===(o=He.properties)||void 0===o||o.forEach((function(e){s.properties.push(e.name)})),e.next=36,(0,d.Mo)(d.vH.IDENTITY_GOVERNANCE_PASSWORD_POLICIES_ID,d.vH.PASSWORD_HISTORY_CONNECTOR_ID,l);case 36:return e.next=38,(0,d.Mo)(d.vH.IDENTITY_GOVERNANCE_PASSWORD_POLICIES_ID,d.vH.PASSWORD_EXPIRY_CONNECTOR_ID,s);case 38:We(),Ye(),F(!1),t||L((0,v.V_)({description:C("validation:revertValidationConfigData.success.description"),level:p.QU.SUCCESS,message:C("validation:revertValidationConfigData.success.message")})),e.next=48;break;case 44:e.prev=44,e.t2=e.catch(29),F(!1),L((0,v.V_)({description:null!==(c=null===e.t2||void 0===e.t2||null===(u=e.t2.response)||void 0===u||null===(u=u.data)||void 0===u?void 0:u.detail)&&void 0!==c?c:C("validation:revertValidationConfigData.error.description"),level:p.QU.ERROR,message:C("validation:revertValidationConfigData.error.message")}));case 48:case"end":return e.stop()}}),e,null,[[3,9],[18,24],[29,44]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){pe(i,r,a,o,l,"next",e)}function l(e){pe(i,r,a,o,l,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}(),dt=function(){(0,d.PP)(d.vH.IDENTITY_GOVERNANCE_PASSWORD_POLICIES_ID,d.vH.PASSWORD_POLICY_CONNECTOR_ID).then((function(e){Fe(null==e?void 0:e.properties)})).catch((function(e){e.response&&e.response.data&&e.response.data.detail?L((0,v.V_)({description:C("governanceConnectors:notifications.getConnector.error.description",{description:e.response.data.description}),level:p.QU.ERROR,message:C("governanceConnectors:notifications.getConnector.error.message")})):L((0,v.V_)({description:C("governanceConnectors:notifications.getConnector.genericError.description"),level:p.QU.ERROR,message:C("governanceConnectors:notifications.getConnector.genericError.message")}))}))},mt=function(e){if(!Re){var t,n,r=fe(fe({},e),{},{passwordExpiryEnabled:le});je||(r.passwordExpiryRules=(t={},n=new Set,null==Se||Se.forEach((function(e){var r;if(e){var a="".concat(d.vH.PASSWORD_EXPIRY_RULES_PREFIX).concat(null==e?void 0:e.priority);t[a]="".concat(e.priority,",").concat(e.expiryDays,",").concat(e.attribute,",").concat(e.operator,",").concat(null===(r=e.values)||void 0===r?void 0:r.join(",")),n.add(a)}})),null==Ne||Ne.forEach((function(e){n.has(null==e?void 0:e.id)||(t[null==e?void 0:e.id]="")})),t),r.passwordExpirySkipFallback=ye,r.passwordExpiryTime=ue),e.uniqueCharacterValidatorEnabled&&"0"===e.minUniqueCharacters&&(r.minUniqueCharacters="1"),e.consecutiveCharacterValidatorEnabled&&"0"===e.maxConsecutiveCharacters&&(r.maxConsecutiveCharacters="1"),function(e){var t=!1,n="";return k&&(Number(e.minLength)<B.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE?(t=!0,n=C("validation:validationError.minLimitError")):Number(e.maxLength)>x?(t=!0,n=C("validation:validationError.maxLimitError",{maxPasswordValue:x})):Number(e.minLength)>Number(e.maxLength)?(t=!0,n=C("validation:validationError.minMaxMismatch")):e.uniqueCharacterValidatorEnabled&&Number(e.minUniqueCharacters)>Number(e.minLength)?(t=!0,n=C("validation:validationError.uniqueChrMismatch")):e.consecutiveCharacterValidatorEnabled&&Number(e.maxConsecutiveCharacters)>Number(e.minLength)?(t=!0,n=C("validation:validationError.consecutiveChrMismatch")):Number(e.minLowerCaseCharacters)+Number(e.minUpperCaseCharacters)+Number(e.minSpecialCharacters)+Number(e.minNumbers)>Number(e.minLength)&&(t=!0,n=C("validation:validationError.invalidConfig"))),!t||(L((0,v.V_)({description:n,level:p.QU.ERROR,message:C("validation:validationError.wrongCombination")})),!1)}(r)&&(F(!0),s.KL.processPasswordPoliciesSubmitData(r,!R).then((function(){if(R)return(0,N.sM)(r,null,Ke[0])})).then((function(){We(),Ye(),R?ze():dt(),L((0,v.V_)({description:C("validation:notifications.success.description"),level:p.QU.SUCCESS,message:C("validation:notifications.success.message")}))})).catch((function(e){var t,n,r,a,i,o,l;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.description?L((0,v.V_)({description:null!==(n=null!==(r=null==e||null===(a=e.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.description)&&void 0!==r?r:null==e||null===(i=e.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.detail)&&void 0!==n?n:C("validation:notifications.error.description"),level:p.QU.ERROR,message:null!==(o=null==e||null===(l=e.response)||void 0===l||null===(l=l.data)||void 0===l?void 0:l.message)&&void 0!==o?o:C("validation:notifications.error.message")})):L((0,v.V_)({description:C("validation:notifications.genericError.description"),level:p.QU.ERROR,message:C("validation:notifications.genericError.message")}))})).finally((function(){F(!1)})))}};return g.createElement(h.Xg,{pageTitle:C("validation:pageTitle"),title:g.createElement(g.Fragment,null,C("validation:pageTitle")),description:g.createElement(g.Fragment,null,C("validation:description"),g.createElement(h.eb,{link:A("manage.validation.passwordValidation.learnMore")},C("common:learnMore"))),"data-componentid":"".concat(_,"-page-layout"),backButton:{"data-testid":"".concat(_,"-page-back-button"),onClick:function(){l.m.push(o.$.getPaths().get("LOGIN_AND_REGISTRATION"))},text:C("governanceConnectors:goBackLoginAndRegistration")},bottomMargin:!1,contentTopMargin:!0,pageHeaderMaxWidth:!0,className:"password-validation-form"},g.createElement(O.R,{innerRef:S},g.createElement(r.Z,{container:!0,spacing:2,direction:"column"},g.createElement(r.Z,{xs:12},g.createElement(h.pJ,{className:"form-wrapper",padded:"very"},g.createElement("div",{className:"validation-configurations password-validation-configurations"},te||!je&&(at||tt)?g.createElement(h.pO,null):g.createElement(f.l0,{id:be,initialValues:Z,uncontrolledForm:!0,validate:null,onSubmit:function(e){return mt(e)},enableReInitialize:!0},k&&g.createElement("div",{className:"validation-configurations-form"},je?s.KL.passwordExpiryComponent(_,le,se,C,Me):g.createElement(g.Fragment,null,g.createElement(r.Z,{container:!0,spacing:2,direction:"row",alignContent:"stretch"},g.createElement(r.Z,{alignContent:"center"},g.createElement(h.X6,{as:"h4"},C("validation:passwordExpiry.heading"))),g.createElement(r.Z,{alignContent:"center"},g.createElement(a.Z,{checked:le,disabled:Me,"data-componentid":"".concat(_,"-password-expiry-toggle"),onChange:function(){return se(!le)}}))),g.createElement(I.Z,{hidden:!0}),g.createElement(K,{componentId:"".concat(_,"-password-expiry-rules"),isPasswordExpiryEnabled:le,isSkipFallbackEnabled:ye,defaultPasswordExpiryTime:ue,ruleList:null!=Se?Se:[],rolesList:null!==(lt=null==rt?void 0:rt.Resources)&&void 0!==lt?lt:[],groupsList:null!==(st=null==Je?void 0:Je.Resources)&&void 0!==st?st:[],isReadOnly:Me,onDefaultPasswordExpiryTimeChange:function(e){return de(e)},onSkipFallbackChange:function(e){return Ie(e)},onRuleChange:function(e){return Ce(e)},onRuleError:function(e){return we(e)}})),g.createElement(I.Z,{className:"heading-divider"}),s.KL.passwordHistoryCountComponent(_,ae,ie,C,Me)),R?g.createElement("div",{className:"validation-configurations-form"},g.createElement(I.Z,{className:"heading-divider"}),g.createElement(h.X6,{as:"h4"},C("extensions:manage.serverConfigurations.passwordValidation.heading")),g.createElement("div",{className:"criteria"},g.createElement("label",null,"Must be between"),g.createElement(f.gN.Input,{ariaLabel:"minLength",inputType:"number",name:"minLength",validation:function(e,t){var n=parseInt(e),r=B.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE;if(n<r)return C("common:minValidation",{min:r});var a=t.maxLength?parseInt(t.maxLength):x;return n>a?C("common:maxValidation",{max:a}):void 0},min:B.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE,max:$.maxLength?$.maxLength:x,width:2,required:!0,hidden:!1,placeholder:"min",maxLength:P,minLength:B.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_LENGTH,listen:function(e){J(fe(fe({},$),{},{minLength:e}))},readOnly:Me,disabled:!1,"data-testid":"".concat(_,"-min-length")}),g.createElement("label",null,"and"),g.createElement(f.gN.Input,{ariaLabel:"maxLength",inputType:"number",name:"maxLength",validation:function(e,t){var n=parseInt(e),r=t.minLength?parseInt(t.minLength):B.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE;return n<r?C("common:minValidation",{min:r}):n>x?C("common:maxValidation",{max:x}):void 0},min:$.minLength?$.minLength:B.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE,max:x,width:2,required:!0,hidden:!1,placeholder:"max",listen:function(e){J(fe(fe({},$),{},{maxLength:e}))},maxLength:P,labelPosition:"top",minLength:B.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_LENGTH,readOnly:Me,disabled:!1,"data-testid":"".concat(_,"-max-length")}),g.createElement("label",null,"characters")),g.createElement("label",{className:"labelName"},"Must contain at least"),g.createElement("div",{className:"criteria rule mt-3"},g.createElement(f.gN.Input,{ariaLabel:"minNumbers",inputType:"number",name:"minNumbers",validation:function(e,t){var n=parseInt(e),r=B.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE;if(n<r)return C("common:minValidation",{min:r});var a=t.minLength?parseInt(t.minLength):x;return n>a?C("common:maxValidation",{max:a}):void 0},min:B.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE,max:$.minLength?$.minLength:x,width:2,required:!0,hidden:!1,placeholder:"min",listen:function(e){J(fe(fe({},$),{},{minNumbers:e}))},maxLength:P,minLength:B.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_LENGTH,readOnly:Me,disabled:!1,"data-componentid":"".concat(_,"-min-numbers")}),g.createElement("label",null,"numbers (0-9).")),g.createElement("div",{className:"criteria rule"},g.createElement(f.gN.Input,{ariaLabel:"minUpperCaseCharacters",inputType:"number",name:"minUpperCaseCharacters",validation:function(e,t){var n=parseInt(e),r=B.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE;if(n<r)return C("common:minValidation",{min:r});var a=t.minLength?parseInt(t.minLength):x;return n>a?C("common:maxValidation",{max:a}):void 0},min:B.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE,max:$.minLength?$.minLength:x,width:2,required:!0,hidden:!1,placeholder:"min",listen:function(e){J(fe(fe({},$),{},{minUpperCaseCharacters:e}))},maxLength:P,minLength:B.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_LENGTH,readOnly:Me,disabled:!1,"data-testid":"".concat(_,"-min-upper-case-characters")}),g.createElement("label",null,"upper-case characters (A-Z).")),g.createElement("div",{className:"criteria rule"},g.createElement(f.gN.Input,{ariaLabel:"minLowerCaseCharacters",inputType:"number",name:"minLowerCaseCharacters",validation:function(e,t){var n=parseInt(e),r=B.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE;if(n<r)return C("common:minValidation",{min:r});var a=t.minLength?parseInt(t.minLength):x;return n>a?C("common:maxValidation",{max:a}):void 0},min:B.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE,max:$.minLength?$.minLength:x,width:2,required:!0,hidden:!1,placeholder:"min",listen:function(e){J(fe(fe({},$),{},{minLowerCaseCharacters:e}))},maxLength:P,minLength:B.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_LENGTH,readOnly:Me,disabled:!1,"data-testid":"".concat(_,"-min-lower-case-characters")}),g.createElement("label",null,"lower-case characters (a-z).")),g.createElement("div",{className:"criteria rule"},g.createElement(f.gN.Input,{ariaLabel:"minSpecialCharacters",inputType:"number",name:"minSpecialCharacters",validation:function(e,t){var n=parseInt(e),r=B.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE;if(n<r)return C("common:minValidation",{min:r});var a=t.minLength?parseInt(t.minLength):x;return n>a?C("common:maxValidation",{max:a}):void 0},min:B.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE,max:$.minLength?$.minLength:x,width:2,required:!0,hidden:!1,placeholder:"min",listen:function(e){J(fe(fe({},$),{},{minSpecialCharacters:e}))},maxLength:B.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_LENGTH,minLength:B.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_LENGTH,readOnly:Me,disabled:!1,"data-testid":"".concat(_,"-min-special-characters")}),g.createElement("label",null,"special characters (!@#$%^&*).")),g.createElement("div",{className:"criteria"},g.createElement(f.gN.Checkbox,{ariaLabel:"uniqueCharacterValidatorEnabled",name:"uniqueCharacterValidatorEnabled",required:!1,label:"Must contain at least",listen:function(e){H(e)},width:16,"data-testid":"".concat(_,"-unique-chr-enable"),readOnly:Me}),g.createElement(f.gN.Input,{ariaLabel:"minUniqueCharacters",inputType:"number",name:"minUniqueCharacters",validation:function(e,t){var n=parseInt(e);if(n<1)return C("common:minValidation",{min:1});var r=t.minLength?parseInt(t.minLength):x;return n>r?C("common:maxValidation",{max:r}):void 0},min:1,max:$.minLength?$.minLength:x,width:2,required:!0,hidden:!1,placeholder:"min",value:Number(Z.minUniqueCharacters)>0?Z.minUniqueCharacters:1,listen:function(e){J(fe(fe({},$),{},{minUniqueCharacters:e}))},maxLength:B.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_LENGTH,minLength:B.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_LENGTH,readOnly:Me,disabled:!q,"data-testid":"".concat(_,"-min-unique-chr")}),g.createElement("label",null,"unique characters.")),g.createElement("div",{className:"criteria"},g.createElement(f.gN.Checkbox,{ariaLabel:"consecutiveCharacterValidatorEnabled",name:"consecutiveCharacterValidatorEnabled",label:"Must not contain more than",required:!1,disabled:!1,listen:function(e){Q(e)},width:16,"data-testid":"".concat(_,"-consecutive-chr-enable"),readOnly:Me}),g.createElement(f.gN.Input,{ariaLabel:"maxConsecutiveCharacters",inputType:"number",name:"maxConsecutiveCharacters",validation:function(e,t){var n=parseInt(e);if(n<1)return C("common:minValidation",{min:1});var r=t.minLength?parseInt(t.minLength):x;return n>r?C("common:maxValidation",{max:r}):void 0},min:1,max:$.minLength?$.minLength:x,width:2,required:!0,hidden:!1,placeholder:"max",value:Number(Z.maxConsecutiveCharacters)>0?Z.maxConsecutiveCharacters:1,listen:function(e){J(fe(fe({},$),{},{maxConsecutiveCharacters:e}))},maxLength:B.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_LENGTH,minLength:B.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_LENGTH,readOnly:Me,disabled:!Y,"data-testid":"".concat(_,"-max-consecutive-chr")}),g.createElement("label",null,"repeated characters."))):g.createElement("div",{className:"validation-configurations-form"},g.createElement(I.Z,{className:"heading-divider"}),g.createElement(h.X6,{as:"h4"},C("extensions:manage.serverConfigurations.passwordValidation.heading")),g.createElement(f.gN.Checkbox,{className:"toggle mb-4",ariaLabel:"passwordPolicy.enable",name:d.e9.encodeConnectorPropertyName("passwordPolicy.enable"),required:!1,checked:xe,label:d.e9.resolveFieldLabel("Password Policies","passwordPolicy.enable","Validate passwords based on a policy pattern"),width:16,"data-componentid":"".concat(_,"-enable-password-policy"),listen:function(e){return Pe(e)},readOnly:Me}),g.createElement("div",{className:"validation-configurations-form mt-3 mb-3"},g.createElement("div",{className:"criteria"},g.createElement("label",null,"Must be between"),g.createElement(f.gN.Input,{ariaLabel:"Minimum length of the password",inputType:"number",name:d.e9.encodeConnectorPropertyName("passwordPolicy.min.length"),validation:function(e,t){var n=parseInt(e),r=B.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE;if(n<r)return C("common:minValidation",{min:r});var a=t.maxLength?parseInt(t.maxLength):x;return n>a?C("common:maxValidation",{max:a}):void 0},min:B.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE,max:$.maxLength?$.maxLength:x,listen:function(e){J(fe(fe({},$),{},he({},d.e9.encodeConnectorPropertyName("passwordPolicy.min.length"),e)))},width:2,required:!0,hidden:!1,placeholder:"min",maxLength:P,minLength:B.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_LENGTH,readOnly:Me,disabled:!xe,"data-testid":"".concat(_,"-min-length")}),g.createElement("label",null,"and"),g.createElement(f.gN.Input,{ariaLabel:"Maximum length of the password",inputType:"number",name:d.e9.encodeConnectorPropertyName("passwordPolicy.max.length"),validation:function(e,t){var n=parseInt(e),r=t.minLength?parseInt(t.minLength):B.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE;return n<r?C("common:minValidation",{min:r}):n>x?C("common:maxValidation",{max:x}):void 0},min:$.minLength?$.minLength:B.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE,max:x,width:2,required:!0,hidden:!1,placeholder:"max",listen:function(e){J(fe(fe({},$),{},he({},d.e9.encodeConnectorPropertyName("passwordPolicy.max.length"),e)))},maxLength:P,labelPosition:"top",minLength:B.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_LENGTH,readOnly:Me,disabled:!xe,"data-testid":"".concat(_,"-max-length")}),g.createElement("label",null,"characters"))),g.createElement(f.gN.Input,{ariaLabel:"passwordPolicy.pattern",inputType:"text",name:d.e9.encodeConnectorPropertyName("passwordPolicy.pattern"),type:"text",width:12,required:!0,placeholder:C("extensions:manage.serverConfigurations.passwordValidation.passwordValidationRegexPlaceholder"),labelPosition:"top",minLength:3,maxLength:255,readOnly:Me,listen:function(e){J(fe(fe({},$),{},he({},d.e9.encodeConnectorPropertyName("passwordPolicy.pattern"),e)))},"data-componentid":"".concat(_,"-password-pattern-regex"),label:d.e9.resolveFieldLabel("Password Validation","passwordPolicy.pattern",C("extensions:manage.serverConfigurations.passwordValidation.passwordValidationRegexLabel")),disabled:!xe}),g.createElement(h.kW,{className:"mb-4"},d.e9.resolveFieldHint("Password Validation","passwordPolicy.pattern",C("extensions:manage.serverConfigurations.passwordValidation.passwordValidationRegexHint"))),g.createElement(f.gN.Input,{ariaLabel:"passwordPolicy.errorMsg",inputType:"text",name:d.e9.encodeConnectorPropertyName("passwordPolicy.errorMsg"),type:"text",width:12,required:!0,placeholder:C("extensions:manage.serverConfigurations.passwordValidation.passwordValidationErrorPlaceholder"),labelPosition:"top",minLength:3,maxLength:255,readOnly:Me,listen:function(e){J(fe(fe({},$),{},he({},d.e9.encodeConnectorPropertyName("passwordPolicy.errorMsg"),e)))},"data-componentid":"".concat(_,"-password-policy-error-msg"),label:d.e9.resolveFieldLabel("Password Validation","passwordPolicy.errorMsg",C("extensions:manage.serverConfigurations.passwordValidation.passwordValidationErrorLabel")),disabled:!xe}),g.createElement(h.kW,null,d.e9.resolveFieldHint("Password Validation","passwordPolicy.errorMsg",C("extensions:manage.serverConfigurations.passwordValidation.passwordValidationErrorHint")))),g.createElement(f.gN.Button,{form:be,size:"small",buttonType:"primary_btn",ariaLabel:"Validation configuration update button",name:"update-button","data-testid":"".concat(_,"-submit-button"),loading:D,label:C("common:update"),hidden:Me}))))),g.createElement(r.Z,{xs:12},g.createElement(h.v9,{sectionHeader:C("common:dangerZone")},g.createElement(h.cN,{actionTitle:C("governanceConnectors:dangerZone.actionTitle"),header:C("governanceConnectors:dangerZone.heading"),subheader:C("governanceConnectors:dangerZone.subHeading"),onActionClick:function(){return ut()},"data-testid":"".concat(_,"-danger-zone")}))))))};_e.defaultProps={"data-componentid":"validation-config-edit-page"};const Le=_e},29851:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(92336),a=n(31549),i=n(69673),o=n(14517),l=n(44194),s=n(52998);const c=(0,l.forwardRef)(((e,t)=>{var{className:n,InputLabelProps:l={disableAnimation:!0,focused:!1,shrink:!1},label:c,name:u,required:d}=e,m=(0,r.__rest)(e,["className","InputLabelProps","label","name","required"]);const p=Object.assign({disableAnimation:!0,focused:!1,required:d,shrink:!1},l);return(0,a.jsxs)(a.Fragment,{children:[c&&(0,a.jsx)(s.Z,Object.assign({id:u,htmlFor:u},p,{className:(0,o.Z)("oxygen-select-static-label",null==l?void 0:l.className)},{children:c})),(0,a.jsx)(i.Z,Object.assign({ref:t,labelId:u,className:(0,o.Z)("oxygen-select","OxygenSelect-root",n)},m))]})}));var u,d,m;u='/**\n * Copyright (c) 2023, WSO2 LLC. (https://www.wso2.com).\n *\n * WSO2 LLC. licenses this file to you under the Apache License,\n * Version 2.0 (the "License"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n.oxygen-select-static-label {\n  margin-top: -40px;\n  margin-left: -14px;\n}',d=document.getElementsByTagName("head")[0],(m=document.createElement("style")).setAttribute("type","text/css"),m.appendChild(document.createTextNode(u)),d.appendChild(m)},48311:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(81611),a=n.n(r),i=n(83948),o=n.n(i)()(a());o.push([e.id,".password-validation-form .info-box{margin-top:20px;margin-bottom:20px}.password-validation-form .form-container.with-max-width{max-width:none}.password-validation-form .add-rule-btn{margin-bottom:10px}.password-validation-form .heading-divider{margin-top:1.5rem !important;margin-bottom:2rem !important}.MuiPaper-root.MuiMenu-paper{max-height:250px;max-width:350px;overflow:auto}.password-expiry-rule-select{height:100%}.password-expiry-rule-input{padding-top:15px !important;padding-bottom:15px !important}",""]);const l=o}}]);