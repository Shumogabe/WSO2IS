"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[9198],{9198:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Rr});var r=n(94635),o=n(8976),i=n(1187),a=n(17901),l=n(16590),s=n(78132),c=n(44194),u=n(10479),d=n(47245),m=n(39976),f=n(91469),p=n(65471),v=n(21257),h=n(54982),y=n(94274),g=n(8076),b=n(55007),E=n(81389),S=n(76271),A=n(51021),O=n(75120),R=n(10319),w=n(58613),I=n(5939),C=n(11063),L=n(59133),T=n(25134),N=n(15997),x=n(60486),P=n(90302),U=n(40838),_=n(43974),j=n(63264),Z=n(46666),k=n(92e3),D=n(51907),M=n(92283),F=n(6643),z=n(86105),V=n(6833),Q=n(82406),G=n(47625),q=n(26154),$=n(55931),W=n(74411),H=n(73269),X=n(50699),B=n(84025),K=n.n(B),Y=n(12638),J=n(37077),ee=n(51835),te=n.n(ee),ne=n(27975),re=n.n(ne),oe=n(55900),ie=n.n(oe),ae=n(21555),le=n.n(ae),se=n(3621),ce=n.n(se),ue=n(5062),de=n.n(ue),me=n(30169),fe={};fe.styleTagTransform=de(),fe.setAttributes=le(),fe.insert=ie().bind(null,"head"),fe.domAPI=re(),fe.insertStyleElement=ce();te()(me.Z,fe);me.Z&&me.Z.locals&&me.Z.locals;var pe=n(13932),ve=n(78779),he=n(79282),ye=(0,c.createContext)(null);ye.displayName="ConsoleSettingsContext";const ge=ye;const be=function(){var e=(0,c.useContext)(ge);if(void 0===e)throw new Error("useConsoleSettings must be used within a ConsoleSettingsProvider");return e};const Ee=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=be().consoleId,i=(0,he.Z)(t,n,"audience.value eq ".concat(o).concat(r?" and ".concat(r):""),"users,groups,permissions,associatedApplications",!!o||e),a=i.data,l=i.isLoading;return{consoleRoles:a,consoleRolesFetchRequestError:i.error,isConsoleRolesFetchRequestLoading:l,mutateConsoleRolesFetchRequest:i.mutate}};function Se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ae(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ae(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Oe=function(e){var t,n,r=e.triggerClearQuery,o=e.administrators,i=e.defaultListItemLimit,a=e.onUserDelete,l=e.isLoading,m=e.onIsLoading,f=e.readOnlyUserStores,p=e.onColumnSelectionChange,h=e.onListItemClick,y=e.onSearchQueryClear,g=e.selection,E=e.showListItemActions,S=e.onUserEdit,A=e.searchQuery,O=e["data-componentid"],R=(0,u.$)().t,w=(0,H.yA)().data,I=(0,v.z)().isSubOrganization,C=Ee(null,null).consoleRoles,L=Se((0,c.useState)(!1),2),x=L[0],U=L[1],_=Se((0,c.useState)(void 0),2),j=_[0],Z=_[1],k=Se((0,s.ZK)(),3),D=k[0],V=k[1],Q=k[2],G=(0,d.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.users})),B=(0,d.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.providedUsername})),ee=(0,d.v9)((function(e){return e.auth.isPrivilegedUser})),te=(0,d.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.primaryUserStoreDomainName})),ne=(0,b.EV)(null==G||null===(t=G.scopes)||void 0===t?void 0:t.update),re=(0,b.EV)(null==G||null===(n=G.scopes)||void 0===n?void 0:n.delete),oe=function(e){return null!=B&&B.includes((0,z.WX)(null==e?void 0:e.userName))?c.createElement(J.Z,{size:"small"},"Me"):null},ie=function(){return A&&(0,X.Z)(null==o?void 0:o.Resources)?c.createElement(s.$J,{action:c.createElement(s.Qj,{onClick:y},R("users:usersList.search.emptyResultPlaceholder.clearButton")),image:(0,N.jF)().emptySearch,imageSize:"tiny",title:R("users:usersList.search.emptyResultPlaceholder.title"),subtitle:[R("users:usersList.search.emptyResultPlaceholder.subTitle.0",{query:A}),R("users:usersList.search.emptyResultPlaceholder.subTitle.1")]}):(0,X.Z)(null==o?void 0:o.Resources)?c.createElement(s.$J,{"data-componentid":"".concat(O,"-empty-placeholder"),image:(0,N.jF)().newList,imageSize:"tiny",subtitle:["There are no administrator users associated with your organization at the moment."]}):null};return c.createElement(c.Fragment,null,c.createElement(s.wQ,{externalSearch:c.createElement(T.n,{onFilter:function(){return null},filterAttributeOptions:[{key:0,text:R("users:advancedSearch.form.dropdown.filterAttributeOptions.username"),value:"userName"},{key:1,text:R("users:advancedSearch.form.dropdown.filterAttributeOptions.email"),value:"emails"}],filterAttributePlaceholder:R("users:advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:R("users:advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:R("users:advancedSearch.form.inputs.filterValue.placeholder"),placeholder:R("users:advancedSearch.placeholder"),defaultSearchAttribute:"userName",defaultSearchOperator:"co",triggerClearQuery:r}),isLoading:l,loadingStateOptions:{count:null!=i?i:P.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,imageType:"circular"},actions:function(){if(E){var e=[{"data-componentid":"administrators-list-item-edit-button",hidden:function(){return!(0,z.cr)(G,M._F.FEATURE_DICTIONARY.get("USER_READ"))},icon:function(e){var t,n,r=(null==e||null===(t=e.userName)||void 0===t?void 0:t.split("/").length)>1?null==e||null===(n=e.userName)||void 0===n?void 0:n.split("/")[0]:te;return!ne||!(0,z.cr)(G,M._F.FEATURE_DICTIONARY.get("USER_UPDATE"))||null!=f&&f.includes(r.toString())?"eye":"pencil alternate"},onClick:function(e,t){S(t)},popupText:function(e){var t,n,r=(null==e||null===(t=e.userName)||void 0===t?void 0:t.split("/").length)>1?null==e||null===(n=e.userName)||void 0===n?void 0:n.split("/")[0]:te;return!ne||!(0,z.cr)(G,M._F.FEATURE_DICTIONARY.get("USER_UPDATE"))||null!=f&&f.includes(r.toString())?R("common:view"):R("common:edit")},renderer:"semantic-icon"}];return e.push({"data-componentid":"administrators-list-item-delete-button",hidden:function(e){var t,n,r,o=(null==e||null===(t=e.userName)||void 0===t?void 0:t.split("/").length)>1?null==e||null===(n=e.userName)||void 0===n?void 0:n.split("/")[0]:te;return!(0,z.cr)(G,M._F.FEATURE_DICTIONARY.get("USER_DELETE"))||ee||!re||(null==f?void 0:f.includes(o.toString()))||(0,z.WX)(null==e?void 0:e.userName)===(null==w||null===(r=w.realmConfig)||void 0===r?void 0:r.adminUser)&&!I()||(null==B?void 0:B.includes((0,z.WX)(null==e?void 0:e.userName)))},icon:function(){return"trash alternate"},onClick:function(e,t){U(!0),Z(t)},popupText:function(){return R("users:usersList.list.iconPopups.delete")},renderer:"semantic-icon"}),e}}(),columns:[{allowToggleVisibility:!1,dataIndex:"name",id:"name",key:"name",render:function(e){var t,n,r,o=(0,z.WX)(null==e?void 0:e.userName),i=F.QH.resolveUserListSubheader(e),a=void 0!==(null===(t=e.name)||void 0===t?void 0:t.familyName)||void 0!==(null===(n=e.name)||void 0===n?void 0:n.givenName);return c.createElement(Y.Z,{image:!0,as:"h6",className:"header-with-icon","data-componentid":"".concat(O,"-item-heading")},c.createElement(s.Yt,{"data-componentid":"users-list-item-image",name:(null===(r=e.userName.split("/"))||void 0===r?void 0:r.length)>1?e.userName.split("/")[1]:e.userName.split("/")[0],size:"mini",image:e.profileUrl,spaced:"right","data-hj-suppress":""}),function(e){var t,n,r,o,i,a,l="true"===(null===(t=e[W.x.userProfileSchema])||void 0===t?void 0:t.accountLocked)||!0===(null===(n=e[W.x.userProfileSchema])||void 0===n?void 0:n.accountLocked),u="true"===(null===(r=e[W.x.userProfileSchema])||void 0===r?void 0:r.accountDisabled)||!0===(null===(o=e[W.x.userProfileSchema])||void 0===o?void 0:o.accountDisabled),d=null===(i=e[W.x.userProfileSchema])||void 0===i?void 0:i.lockedReason,m=null!==(a=M.Dk[d])&&void 0!==a?a:M.Dk.DEFAULT;return u?c.createElement(s.GI,{trigger:c.createElement(q.Z,{className:"disabled-icon",size:"small"},c.createElement(pe.r,null)),content:R("user:profile.accountDisabled"),inverted:!0}):l?c.createElement(s.GI,{trigger:c.createElement(q.Z,{className:"locked-icon",size:"small"},c.createElement(ve.r,null)),content:R(m),inverted:!0}):null}(e),c.createElement(Y.Z.Content,null,o,oe(e),a&&c.createElement(Y.Z.Subheader,{"data-componentid":"".concat(O,"-item-sub-heading")},i)))},title:"User"},{allowToggleVisibility:!1,dataIndex:"roles",id:"roles",key:"roles",render:function(e){var t=e.roles.filter((function(e){var t;return null==C||null===(t=C.Resources)||void 0===t?void 0:t.some((function(t){return t.id===e.value}))})).slice(0,5),n=e.roles.filter((function(e){var t;return null==C||null===(t=C.Resources)||void 0===t?void 0:t.some((function(t){return t.id===e.value}))})).slice(t.length);return c.createElement("div",{className:"role-tag-list"},t.map((function(e){return c.createElement($.Z,{key:e.value,label:e.display,size:"small",sx:{backgroundColor:(t=e.display,n=t.split("").reduce((function(e,t){return e+t.charCodeAt(0)}),0)%360,r=t[0].toUpperCase(),"hsl(".concat({A:0,B:60,C:120,D:180,E:240,F:300}[r]||n," 70% 80% / 50%)"))}});var t,n,r})),n.length>0&&c.createElement($.Z,{key:"more-chip",label:"+ ".concat(n.length," More"),size:"small",sx:{backgroundColor:"#ccc"}}))},title:"Roles"},{allowToggleVisibility:!1,dataIndex:"meta.lastModified",id:"meta.lastModified",key:"meta.lastModified",render:function(e){var t,n=K()(new Date),r=K()(null==e||null===(t=e.meta)||void 0===t?void 0:t.lastModified);return R("console:common.dateTime.humanizedDateString",{date:K().duration(n.diff(r)).humanize()})},title:"Last Modified"},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:""}],data:null==o?void 0:o.Resources,onColumnSelectionChange:p,onRowClick:function(e,t){S(t),h&&h(e,t)},placeholders:ie(),selectable:g,showHeader:!0,transparent:!l&&null!==ie(),className:"console-administrators-table","data-componentid":O}),j&&c.createElement(s.cV,{primaryActionLoading:l,"data-componentid":"".concat(O,"-confirmation-modal"),onClose:function(){return U(!1)},type:"negative",open:x,assertionHint:R("user:deleteUser.confirmationModal.assertionHint"),assertionType:"checkbox",primaryAction:"Confirm",secondaryAction:"Cancel",onSecondaryActionClick:function(){U(!1),V(null)},onPrimaryActionClick:function(){m(!0),a(j,(function(){U(!1),Z(void 0),m(!1)}))},closeOnDimmerClick:!1},c.createElement(s.cV.Header,{"data-componentid":"".concat(O,"-confirmation-modal-header")},R("user:deleteUser.confirmationModal.header")),c.createElement(s.cV.Message,{"data-componentid":"".concat(O,"-confirmation-modal-message"),attached:!0,negative:!0},R("extensions:manage.guest.deleteUser.confirmationModal.message")),c.createElement(s.cV.Content,{"data-componentid":"".concat(O,"-confirmation-modal-content")},c.createElement("div",{className:"modal-alert-wrapper"}," ",D&&Q),R("extensions:manage.guest.deleteUser.confirmationModal.content"))))};Oe.defaultProps={};const Re=Oe;function we(e){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},we(e)}function Ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Te(r.key),r)}}function Ce(e,t,n){return t&&Ie(e.prototype,t),n&&Ie(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Le(e,t,n){return(t=Te(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e){var t=function(e,t){if("object"!=we(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=we(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==we(t)?t:t+""}var Ne=Ce((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));Le(Ne,"ADD_EXISTING_USER_FORM_ID","add-existing-user-wizard-form"),Le(Ne,"INVITE_PARENT_USER_FORM_ID","invite-parent-user-wizard-form"),Le(Ne,"FEATURE_DICTIONARY",(new Map).set("CONSOLE_SETTINGS_ADD_ADMINISTRATOR","consoleSettings.addAdministrator"));var xe=n(41355),Pe=n(86329),Ue=n(17370),_e=n(82555),je=n(22669),Ze=n(47513);function ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return De(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?De(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Me=function(e,t,n,r,o,i){var a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],l=(0,d.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.username})),s=ke((0,c.useState)(!1),2),u=s[0],m=s[1],f=e+1,p=(0,v.z)().isSubOrganization,h=(0,Pe.WW)(f,t+1,""===n?null:n,r,o,i,a),y=h.data,g=h.error,b=h.isLoading,E=h.mutate,S=(0,Ue.M)(p()),A=S.data,O=S.mutate,R=Ee(null,null).consoleRoles,w=function(e){var t;if(e){var n=(0,Ze.Z)(e),r=[],o=function(e){var t;return(null===(t=e[xe.k.scim.systemSchema])||void 0===t?void 0:t.userAccountType)===_e.sk.OWNER};n.Resources=null==n||null===(t=n.Resources)||void 0===t?void 0:t.map((function(e){if(!(null==(t=e)||null===(n=t.roles)||void 0===n?void 0:n.some((function(e){var t;return null==R||null===(t=R.Resources)||void 0===t?void 0:t.some((function(t){return t.id===e.value}))}))))return null;var t,n;if(o(e)&&je.QH.isAuthenticatedUser(l,null==e?void 0:e.userName))return r[0]=e,null;if(je.QH.isAuthenticatedUser(l,null==e?void 0:e.userName))return r[0]=e,null;if(o(e))return r[1]=e,null;var i=null;if((null==e?void 0:e.emails)instanceof Array){var a=null==e?void 0:e.emails[0];i="string"==typeof a?a:null==a?void 0:a.value}return e.emails=[i],e}));return n.Resources=r.concat(n.Resources).filter((function(e){return null!=e})),function(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=e;(null===(n=i.Resources)||void 0===n?void 0:n.length)===t?(null===(r=i.Resources)||void 0===r||r.splice(-1,o),m(!0)):m(!1);return i}(n,f,1)}};return{adminUserListFetchError:g,administrators:(0,c.useMemo)((function(){return(0,X.Z)(y)||(0,X.Z)(R)?{}:w(y)}),[y,R]),invitedAdministrators:A,isAdministratorsListFetchRequestLoading:b,isNextPageAvailable:u,mutateAdministratorsListFetchRequest:E,mutateInvitedAdministratorsListFetchRequest:O}};var Fe=n(9183);function ze(e){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ze(e)}function Ve(){Ve=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),l=new N(r||[]);return o(a,"_invoke",{value:I(e,n,l)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",v="completed",h={};function y(){}function g(){}function b(){}var E={};c(E,a,(function(){return this}));var S=Object.getPrototypeOf,A=S&&S(S(x([])));A&&A!==n&&r.call(A,a)&&(E=A);var O=b.prototype=y.prototype=Object.create(E);function R(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,i,a,l){var s=d(e[o],e,i);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==ze(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,l)}))}l(s.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function I(t,n,r){var o=m;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var l=r.delegate;if(l){var s=C(l,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===m)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?v:f,c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=v,r.method="throw",r.arg=c.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,h;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function x(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(ze(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=c(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,s,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},R(w.prototype),c(w.prototype,l,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},R(O),c(O,s,"Generator"),c(O,a,(function(){return this})),c(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=x,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return l.type="throw",l.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:x(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),h}},t}function Qe(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function Ge(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Qe(i,r,o,a,l,"next",e)}function l(e){Qe(i,r,o,a,l,"throw",e)}a(void 0)}))}}const qe=function(){var e,t=(0,d.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t||null===(t=t.userRolesV3)||void 0===t?void 0:t.enabled})),n=(0,d.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.roleAssignments})),r=(0,b.EV)(null==n||null===(e=n.scopes)||void 0===e?void 0:e.update),o=t&&r?Fe.q$:Fe.dB,i=function(){var e=Ge(Ve().mark((function e(n,i,a,l){var s,c,u,d;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t&&r?{Operations:[{op:"add",value:[{display:n.userName,value:n.id}]}],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]}:{Operations:[{op:"add",value:{users:[{display:n.userName,value:n.id}]}}],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]},c=i.map((function(e){return e.id})),u=c.map((function(e){return o(e,s)})),e.prev=3,e.next=6,Promise.all(u);case 6:d=e.sent,l(d),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),a(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,n,r,o){return e.apply(this,arguments)}}(),a=function(){var e=Ge(Ve().mark((function e(n,i,a){var l,s,c,u;return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=t&&r?{Operations:[{op:"remove",path:"value eq ".concat(n.id),value:{}}],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]}:{Operations:[{op:"remove",path:"users[value eq ".concat(n.id,"]"),value:{}}],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]},s=n.roles.map((function(e){return e.value})),c=s.map((function(e){return o(e,l)})),e.prev=3,e.next=6,Promise.all(c);case 6:u=e.sent,a(u),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),i(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,n,r){return e.apply(this,arguments)}}();return{assignAdministratorRoles:i,unassignAdministratorRoles:a}};var $e=n(77139),We=n(79438),He=n(47018),Xe=n(89141);function Be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ke(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ke(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Ye=function(e,t,n,r,o,i){var a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],l=(0,d.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.username})),s=Be((0,c.useState)(!1),2),u=s[0],m=s[1],f=e?e+1:null,p=(0,Pe.WW)(f,t+1,""===n?null:n,r,o,i,a),v=p.data,h=p.isLoading,y=Ee(null,null).consoleRoles,g=function(e){var t;if(e){var n=(0,Ze.Z)(e),r=[],o=function(e){var t;return(null===(t=e[xe.k.scim.systemSchema])||void 0===t?void 0:t.userAccountType)===_e.sk.OWNER};n.Resources=null==n||null===(t=n.Resources)||void 0===t?void 0:t.map((function(e){if(null==(t=e)||null===(n=t.roles)||void 0===n?void 0:n.some((function(e){var t;return null==y||null===(t=y.Resources)||void 0===t?void 0:t.some((function(t){return t.id===e.value}))})))return null;var t,n;if(o(e)&&je.QH.isAuthenticatedUser(l,null==e?void 0:e.userName))return r[0]=e,null;if(je.QH.isAuthenticatedUser(l,null==e?void 0:e.userName))return r[0]=e,null;if(o(e))return r[1]=e,null;var i=null;if((null==e?void 0:e.emails)instanceof Array){var a=null==e?void 0:e.emails[0];i="string"==typeof a?a:null==a?void 0:a.value}return e.emails=[i],e}));return n.Resources=r.concat(n.Resources).filter((function(e){return null!=e})),function(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=e;(null===(n=i.Resources)||void 0===n?void 0:n.length)===t?(null===(r=i.Resources)||void 0===r||r.splice(-1,o),m(!0)):m(!1);return i}(n,f,1)}};return{isAdministratorsListFetchRequestLoading:h,isNextPageAvailable:u,prospectiveAdministrators:(0,c.useMemo)((function(){return g(v)}),[v])}};var Je=n(44438),et={};et.styleTagTransform=de(),et.setAttributes=le(),et.insert=ie().bind(null,"head"),et.domAPI=re(),et.insertStyleElement=ce();te()(Je.Z,et);Je.Z&&Je.Z.locals&&Je.Z.locals;var tt=["onClose","onSuccess","selectedUserStore","data-componentid"];function nt(){return nt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nt.apply(null,arguments)}function rt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ot(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ot(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var it=function(e){var t=e.onClose,n=e.onSuccess,r=e.selectedUserStore,o=e["data-componentid"],i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,tt),a=(0,u.$)().t,l=(0,d.I0)(),m=rt((0,s.IK)(),3),f=m[0],p=m[1],v=m[2],h=Ee(null,null).consoleRoles,y=qe().assignAdministratorRoles,g=Ye(null,null,null,null,r,M._F.GROUPS_ATTRIBUTE,!0).prospectiveAdministrators,b=(0,c.useMemo)((function(){var e;return(0,X.Z)(null==g?void 0:g.Resources)?[]:null==g||null===(e=g.Resources)||void 0===e?void 0:e.map((function(e){return{key:e.id,label:(0,z.WX)(null==e?void 0:e.userName),user:e}}))}),[g]),E=(0,c.useMemo)((function(){var e;return(0,X.Z)(null==h?void 0:h.Resources)?[]:null==h||null===(e=h.Resources)||void 0===e?void 0:e.map((function(e){return{key:e.id,label:e.displayName,role:e}}))}),[h]);return c.createElement(He.Z,nt({"data-componentid":o,open:!0,className:"wizard add-existing-user-wizard",onClose:t},i),c.createElement(He.Z.Header,{className:"wizard-header"},c.createElement($e.Z,{variant:"inherit"},"Add Administrator"),c.createElement(s.X6,{as:"h6"},c.createElement($e.Z,{variant:"inherit"},"Promote an existing user in your organization as an administrator"))),c.createElement(He.Z.Content,{className:"content-container",scrolling:!0},f&&v,c.createElement(We.vy,{initialValues:{},keepDirtyOnReinitialize:!0,onSubmit:function(e){var r,o;y(null==e||null===(r=e.username)||void 0===r?void 0:r.user,null==e||null===(o=e.roles)||void 0===o?void 0:o.map((function(e){return e.role})),(function(e){e.response&&401!==e.response.status?p({description:a("users:notifications.addUser.genericError.description"),level:V.QU.ERROR,message:a("users:notifications.addUser.genericError.message")}):p({description:a("users:notifications.addUser.error.description"),level:V.QU.ERROR,message:a("users:notifications.addUser.error.message")})}),(function(e){202===(null==e?void 0:e[0].status)?l((0,Q.V_)({description:a("extensions:manage.users.wizard.addAdmin.internal.updateRole.pendingApproval.description"),level:V.QU.WARNING,message:a("extensions:manage.users.wizard.addAdmin.internal.updateRole.pendingApproval.message")})):l((0,Q.V_)({description:a("extensions:manage.users.wizard.addAdmin.internal.updateRole.success.description"),level:V.QU.SUCCESS,message:a("extensions:manage.users.wizard.addAdmin.internal.updateRole.success.message")})),n(),t(null,null)}))},validate:function(e){var t={roles:void 0,username:void 0};return e.username||(t.username="Username is a required field"),e.roles&&!(0,X.Z)(e.roles)||(t.roles="Roles is a required field"),t},render:function(e){var t=e.handleSubmit;return c.createElement("form",{id:Ne.ADD_EXISTING_USER_FORM_ID,onSubmit:t,className:"add-existing-user-wizard-form"},c.createElement(We.SE,{fullWidth:!0,required:!0,ariaLabel:"Username field","data-componentid":"".concat(o,"-form-username-field"),name:"username",label:"Username",helperText:c.createElement(s.kW,null,c.createElement($e.Z,{variant:"inherit"},"Enter a username or use the search to filter a user from the available list.")),placeholder:"Select a user",component:We.KQ,options:b}),c.createElement(We.SE,{fullWidth:!0,required:!0,freeSolo:!0,multipleValues:!0,ariaLabel:"Roles field","data-componentid":"".concat(o,"-form-roles-field"),name:"roles",label:"Roles",helperText:c.createElement(s.kW,null,c.createElement($e.Z,{variant:"inherit"},"Assign one or more console roles that can be used to maintain the console application.")),placeholder:"Select roles",component:We.KQ,options:E,renderTags:function(e,t){return e.map((function(e,n){return c.createElement($.Z,nt({key:n,size:"medium",label:e.label},t({index:n})))}))}}))}})),c.createElement(He.Z.Actions,null,c.createElement(Xe.Z,null,c.createElement(Xe.Z.Row,{column:1},c.createElement(Xe.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(s.Qj,{tabIndex:6,"data-componentid":"".concat(o,"-cancel-button"),floated:"left",onClick:function(e){return t(e,null)}},c.createElement($e.Z,{variant:"inherit"},a("extensions:develop.apiResource.wizard.addApiResource.cancelButton")))),c.createElement(Xe.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(s.KM,{tabIndex:8,"data-componentid":"".concat(o,"-submit-button"),floated:"right",onClick:function(){document.getElementById(Ne.ADD_EXISTING_USER_FORM_ID).dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0}))}},c.createElement($e.Z,{variant:"inherit"},"Add")))))))};it.defaultProps={closeOnDimmerClick:!1,closeOnEscape:!0,currentStep:0,"data-componentid":"add-exiting-user-wizard",dimmer:"blurring",size:"small"};const at=it;var lt=n(87172),st=n(2123),ct=n(69005),ut=n(46832),dt={};dt.styleTagTransform=de(),dt.setAttributes=le(),dt.insert=ie().bind(null,"head"),dt.domAPI=re(),dt.insertStyleElement=ce();te()(ut.Z,dt);ut.Z&&ut.Z.locals&&ut.Z.locals;var mt=["onClose","data-componentid"];function ft(){return ft=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ft.apply(null,arguments)}function pt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ht=function(e){var t=e.onClose,n=e["data-componentid"],r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,mt),o=(0,u.$)().t,i=(0,d.I0)(),a=pt((0,s.IK)(),3),l=a[0],m=a[1],f=a[2],p=Ee(null,null).consoleRoles,v=(0,c.useMemo)((function(){var e;return(0,X.Z)(null==p?void 0:p.Resources)?[]:null==p||null===(e=p.Resources)||void 0===e?void 0:e.map((function(e){return{key:e.id,label:e.displayName,role:e}}))}),[p]);return c.createElement(He.Z,ft({"data-componentid":n,open:!0,className:"wizard invite-new-administrator-wizard",onClose:t},r),c.createElement(He.Z.Header,{className:"wizard-header"},c.createElement($e.Z,{variant:"inherit"},"Invite Administrator"),c.createElement(s.X6,{as:"h6"},c.createElement($e.Z,{variant:"inherit"},"Invite an existing user from your immediate parent organization as an administrator"))),c.createElement(He.Z.Content,{className:"content-container",scrolling:!0},l&&f,c.createElement(lt.Z,{severity:"info",className:"root-invite-only-disclaimer-alert"},c.createElement($e.Z,{variant:"inherit"},"You can only Invite an existing user from your immediate parent organization.")),c.createElement(We.vy,{initialValues:{},keepDirtyOnReinitialize:!0,onSubmit:function(e){var n={roles:e.roles.map((function(e){return e.role.id})),usernames:[e.username]};(0,st.O)(n).then((function(e){var n=e.data[0];n.result.status===ct.YV.SUCCESS?(i((0,Q.V_)({description:o("invite:notifications.sendInvite.success.description"),level:V.QU.SUCCESS,message:o("invite:notifications.sendInvite.success.message")})),t(null,null)):m({description:o("invite:notifications.sendInvite.error.description",{description:n.result.errorDescription}),level:V.QU.ERROR,message:o("invite:notifications.sendInvite.error.message")})})).catch((function(e){var t,n;e.response&&401!==e.response.status?403===e.response.status&&(null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.code)===M._F.ERROR_COLLABORATOR_USER_LIMIT_REACHED?m({description:o("extensions:manage.invite.notifications.sendInvite.limitReachError.description"),level:V.QU.ERROR,message:o("extensions:manage.invite.notifications.sendInvite.limitReachError.message")}):null!=e&&null!==(n=e.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.description?m({description:o("invite:notifications.sendInvite.error.description",{description:e.response.data.description}),level:V.QU.ERROR,message:o("invite:notifications.sendInvite.error.message")}):m({description:o("invite:notifications.sendInvite.genericError.description"),level:V.QU.ERROR,message:o("invite:notifications.sendInvite.genericError.message")}):m({description:o("invite:notifications.sendInvite.error.description"),level:V.QU.ERROR,message:o("invite:notifications.sendInvite.error.message")})}))},validate:function(e){var t={roles:void 0,username:void 0};return e.username||(t.username="Username is a required field"),e.roles&&!(0,X.Z)(e.roles)||(t.roles="Roles is a required field"),t},render:function(e){var t=e.handleSubmit;return c.createElement("form",{id:Ne.INVITE_PARENT_USER_FORM_ID,onSubmit:t,className:"invite-parent-user-wizard-form"},c.createElement(We.SE,{fullWidth:!0,required:!0,ariaLabel:"Username field","data-componentid":"".concat(n,"-form-username-field"),name:"username",type:"text",label:"Username",helperText:c.createElement(s.kW,null,c.createElement($e.Z,{variant:"inherit"},"Enter a username to add as an administrator. The user must be an existing user in your immediate parent organization and the"," ",c.createElement($e.Z,{component:"span",variant:"inherit",fontWeight:"bold"},"exact username")," ","must be provided.")),placeholder:"Enter a username",component:We.xh}),c.createElement(We.SE,{fullWidth:!0,required:!0,freeSolo:!0,multipleValues:!0,ariaLabel:"Roles field","data-componentid":"".concat(n,"-form-roles-field"),name:"roles",label:"Roles",helperText:c.createElement(s.kW,null,c.createElement($e.Z,{variant:"inherit"},"Assign one or more console roles that can be used to maintain the console application.")),placeholder:"Select roles",component:We.KQ,options:v,renderTags:function(e,t){return e.map((function(e,n){return c.createElement($.Z,ft({key:n,size:"medium",label:e.label},t({index:n})))}))}}))}})),c.createElement(He.Z.Actions,null,c.createElement(Xe.Z,null,c.createElement(Xe.Z.Row,{column:1},c.createElement(Xe.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(s.Qj,{tabIndex:6,"data-componentid":"".concat(n,"-cancel-button"),floated:"left",onClick:function(e){return t(e,null)}},c.createElement($e.Z,{variant:"inherit"},o("extensions:develop.apiResource.wizard.addApiResource.cancelButton")))),c.createElement(Xe.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(s.KM,{tabIndex:8,"data-componentid":"".concat(n,"-submit-button"),floated:"right",onClick:function(){document.getElementById(Ne.INVITE_PARENT_USER_FORM_ID).dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0}))}},c.createElement($e.Z,{variant:"inherit"},"Add")))))))};ht.defaultProps={closeOnDimmerClick:!1,closeOnEscape:!0,currentStep:0,"data-componentid":"invite-new-administrator-wizard",dimmer:"blurring",size:"small"};const yt=ht;function gt(){return gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gt.apply(null,arguments)}function bt(e){return function(e){if(Array.isArray(e))return At(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||St(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||St(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function St(e,t){if(e){if("string"==typeof e)return At(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?At(e,t):void 0}}function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ot=function(e){return e.AddExisting="addExistingUser",e.InviteParentUser="inviteParentUser",e.AddExternal="addExternalAdmin",e}(Ot||{}),Rt=function(e){var t,n,r,o=e.defaultListItemLimit,i=e.showMetaContent,l=e.readOnlyUserStores,m=e.selection,f=e.showListItemActions,p=e.selectedAdministratorGroup,h=e.availableUserStores,y=e["data-componentid"],g=(0,u.$)().t,A=(0,d.I0)(),R=_.l.getInstance(),w=(0,d.v9)((function(e){return e.config.ui.features})),$=(0,d.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t||null===(t=t.userRolesV3)||void 0===t?void 0:t.enabled})),W=(0,d.v9)((function(e){return e.config.ui.features.consoleSettings})),H=(0,d.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.primaryUserStoreDomainName})),X=(0,d.v9)((function(e){var t;return null==e||null===(t=e.profile)||void 0===t?void 0:t.profileSchemas})),B=!(null!=W&&null!==(t=W.disabledFeatures)&&void 0!==t&&t.includes("consoleSettings.privilegedUsers")),K=!(null!=W&&null!==(n=W.disabledFeatures)&&void 0!==n&&n.includes("consoleSettings.invitedExternalAdmins")),Y=(0,v.z)(),J=Y.isSubOrganization,ee=Y.isFirstLevelOrganization,te=qe().unassignAdministratorRoles,ne=Et((0,c.useState)(0),2),re=ne[0],oe=ne[1],ie=Et((0,c.useState)(P.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),2),ae=ie[0],le=ie[1],se=Et((0,c.useState)(!1),2),ce=se[0],ue=se[1],de=Et((0,c.useState)(""),2),me=de[0],fe=de[1],pe=Et((0,c.useState)(!1),2),ve=pe[0],he=pe[1],ye=Et((0,c.useState)(!1),2),ge=ye[0],be=ye[1],Ee=Et((0,c.useState)(!1),2),Se=Ee[0],Ae=Ee[1],Oe=Et((0,c.useState)(M.XC.ACCEPTED),2),we=Oe[0],Ie=Oe[1],Ce=Et((0,c.useState)(!1),2),Le=Ce[0],Te=Ce[1],xe=Et((0,c.useState)(void 0),2),Pe=xe[0],Ue=xe[1];(0,c.useEffect)((function(){Ue(B&&"administrators"===p?H:null===j.wO||void 0===j.wO?void 0:j.wO.primaryUserstoreName),Ie(M.XC.ACCEPTED)}),[B,p]);var _e=Me(ae,re,me,null,Pe,M._F.GROUPS_ATTRIBUTE),je=_e.administrators,Ze=_e.isNextPageAvailable,ke=_e.isAdministratorsListFetchRequestLoading,De=_e.mutateAdministratorsListFetchRequest,Fe=_e.adminUserListFetchError,ze=E.c,Ve=S.h.getState().auth.tenantDomain,Qe=(0,b.Ac)(O.Z.SAAS_FEATURES_IDENTIFIER),Ge=(0,d.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.deployment)||void 0===t?void 0:t.centralDeploymentEnabled})),$e=ze(Ve,{revalidateIfStale:!0},Qe===b.iK.ENABLED),We=$e.data,He=$e.isLoading,Xe=$e.isValidating,Be=(0,D.J7)(Z.$.enableAdminInvite),Ke=Be.data,Ye=Be.isLoading,Je=Be.mutate,et=[{key:1,text:g("consoleSettings:invitations.filterOptions.accepted"),value:"Accepted"},{key:2,text:g("consoleSettings:invitations.filterOptions.pending"),value:"Pending"},{key:3,text:g("consoleSettings:invitations.filterOptions.expired"),value:"Expired"}],tt=Et((0,c.useState)(!1),2),nt=tt[0],rt=tt[1],ot=(0,c.useMemo)((function(){var e,t,n=$?[C.k.INTERNAL_ROLE_MGT_USERS_UPDATE_PERMISSION]:null==w||null===(e=w.userRoles)||void 0===e||null===(e=e.scopes)||void 0===e?void 0:e.update;return[].concat(bt(null==w||null===(t=w.users)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.create),bt(n))}),[$,w]),it=(0,c.useMemo)((function(){return(0,F.I_)(X)}),[X]);(0,c.useEffect)((function(){Ae(null==We?void 0:We.isEnterpriseLoginEnabled)}),[He,Xe]);var lt,st,ct=function(e,t){Ie(t.value)},ut=function(e,t){Ue(t.value)},dt=function(){ue(!ce),fe("")};return c.createElement(s.PS,{advancedSearch:c.createElement(T.n,{onFilter:function(e){fe(e)},filterAttributeOptions:[{key:0,text:g("users:advancedSearch.form.dropdown.filterAttributeOptions.username"),value:"userName"}].concat(bt(it)),filterAttributePlaceholder:g("users:advancedSearch.form.inputs.filterAttribute. placeholder"),filterConditionsPlaceholder:g("users:advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:g("users:advancedSearch.form.inputs.filterValue.placeholder"),placeholder:"Search by Username",defaultSearchAttribute:"userName",defaultSearchOperator:"co",triggerClearQuery:ce}),currentListSize:null==je||null===(r=je.Resources)||void 0===r?void 0:r.length,listItemLimit:ae,onItemsPerPageDropdownChange:function(e,t){le(t.value)},"data-componentid":"".concat(y,"-list-layout"),onPageChange:function(e,t){oe((t.activePage-1)*ae)},showPagination:!0,showTopActionPanel:!0,showPaginationPageLimit:!0,totalPages:Math.ceil((null==je?void 0:je.totalResults)/ae),totalListSize:null==je?void 0:je.totalResults,isLoading:ke,onSearchQueryClear:dt,paginationOptions:{disableNextButton:!Ze},rightActionPanel:B&&ee()&&Z.$.enableAdminInvite&&"administrators"===p?c.createElement(G.Z,{"data-componentid":"".concat(y,"-list-userstore-dropdown"),selection:!0,options:et,onChange:ct,text:"Filter by: ".concat(we),disabled:we===M.XC.ACCEPTED&&ke||Z.$.enableAdminInvite&&Ye}):c.createElement(G.Z,{"data-testid":"user-mgt-user-list-userstore-dropdown",selection:!0,options:h,onChange:ut,value:Pe,defaultValue:H}),topActionPanelExtension:(0,z.cr)(W,Ne.FEATURE_DICTIONARY.get("CONSOLE_SETTINGS_ADD_ADMINISTRATOR"))&&c.createElement(b.di,{when:ot},!J()&&B&&c.createElement(s.zx,{"data-componentid":"".concat(y,"-admin-settings-button"),icon:a.UG,onClick:function(){U.m.push(C.k.getPaths().get("COLLABORATOR_SETTINGS_EDIT_PATH"))}}),(lt=J(),st=[],!lt&&K&&st.push({"data-componentid":"".concat(y,"-add-external-admin-dropdown-item"),key:1,text:g("consoleSettings:administrators.add.options.addExternalUser"),value:Ot.AddExternal}),(Se||lt)&&st.push({"data-componentid":"".concat(y,"-add-existing-user-dropdown-item"),key:1,text:g("consoleSettings:administrators.add.options.addExistingUser"),value:Ot.AddExisting}),lt&&st.push({"data-componentid":"".concat(y,"-invite-new-user-dropdown-item"),key:2,text:g("consoleSettings:administrators.add.options.inviteParentUser"),value:Ot.InviteParentUser}),st.length>1?c.createElement(G.Z,{"data-componentid":"".concat(y,"-add-administrator-dropdown"),direction:"left",floating:!0,icon:null,trigger:c.createElement(s.KM,{"data-componentid":"".concat(y,"-add-button"),className:"add-administrator-dropdown-trigger"},c.createElement(q.Z,{"data-componentid":"".concat(y,"-add-button-icon"),name:"add"}),g("consoleSettings:administrators.add.action"),c.createElement(q.Z,{name:"dropdown",className:"add-administrator-dropdown-chevron"}))},c.createElement(G.Z.Menu,null,st.map((function(e){return c.createElement(G.Z.Item,gt({key:e.value,onClick:function(){e.value===Ot.AddExisting?he(!0):e.value===Ot.AddExternal?Te(!0):be(!0)}},e))})))):1===st.length?c.createElement(s.KM,{"data-componentid":"".concat(y,"-add-button"),onClick:function(){return Te(!0)}},c.createElement(q.Z,{"data-componentid":"".concat(y,"-add-button-icon"),name:"add"}),g("consoleSettings:administrators.add.action")):c.createElement(s.KM,{"data-componentid":"".concat(y,"-add-button"),onClick:function(){return he(!0)}},c.createElement(q.Z,{"data-componentid":"".concat(y,"-add-button-icon"),name:"add"}),g("consoleSettings:administrators.add.action"))))},we===M.XC.ACCEPTED?Fe?c.createElement(s.$J,{subtitle:[g("users:placeholders.userstoreError.subtitles.0"),g("users:placeholders.userstoreError.subtitles.1")],title:g("users:placeholders.userstoreError.title"),image:(0,N.jF)().genericError,imageSize:"tiny"}):c.createElement(Re,{defaultListItemLimit:o,administrators:je,onUserEdit:function(e){U.m.push(x.$.getPaths().get("CONSOLE_ADMINISTRATORS_EDIT").replace(":id",e.id))},onUserDelete:Ge&&Pe!==(null===j.wO||void 0===j.wO?void 0:j.wO.primaryUserstoreName)?function(e,t){(0,k.e8)(e.id).then((function(){t(),Je(),A((0,Q.V_)({description:g("users:notifications.revokeAdmin.success.description"),level:V.QU.SUCCESS,message:g("users:notifications.revokeAdmin.success.message")}))})).catch((function(){A((0,Q.V_)({description:g("users:notifications.revokeAdmin.genericError.description"),level:V.QU.ERROR,message:g("users:notifications.revokeAdmin.genericError.message")}))}))}:function(e,t){te(e,(function(){A((0,Q.V_)({description:g("users:notifications.revokeAdmin.genericError.description"),level:V.QU.ERROR,message:g("users:notifications.revokeAdmin.genericError.message")}))}),(function(e){De(),t(),202===(null==e?void 0:e[0].status)?A((0,Q.V_)({description:g("users:notifications.revokeAdmin.pendingApproval.description"),level:V.QU.WARNING,message:g("users:notifications.revokeAdmin.pendingApproval.message")})):A((0,Q.V_)({description:g("users:notifications.revokeAdmin.success.description"),level:V.QU.SUCCESS,message:g("users:notifications.revokeAdmin.success.message")}))}))},isLoading:nt,readOnlyUserStores:l,onSearchQueryClear:dt,searchQuery:me,triggerClearQuery:ce,onEmptyListPlaceholderActionClick:function(){return null},onIsLoading:rt,selection:m,showListItemActions:f,showMetaContent:i,"data-componentid":"".concat(y,"-table")}):null,we===M.XC.PENDING&&c.createElement(I.F,{invitationStatusOption:we,onEmptyListPlaceholderActionClick:function(){return Te(!0)},onboardedGuestUserList:je,onSearchQueryClear:dt,guestUsersList:null==Ke?void 0:Ke.filter((function(e){return e.status===M.XC.PENDING.toUpperCase()})),getGuestUsersList:function(){return Je()},searchQuery:me}),we===M.XC.EXPIRED&&c.createElement(I.F,{invitationStatusOption:we,onEmptyListPlaceholderActionClick:function(){return Te(!0)},onboardedGuestUserList:je,onSearchQueryClear:dt,guestUsersList:null==Ke?void 0:Ke.filter((function(e){return e.status===M.XC.EXPIRED.toUpperCase()})),getGuestUsersList:function(){return Je()},searchQuery:me}),ve&&c.createElement(at,{onSuccess:function(){return De()},onClose:function(){return he(!1)},selectedUserStore:Pe}),ge&&c.createElement(yt,{onClose:function(){return be(!1)}}),Le&&c.createElement(L.S,{"data-componentid":"".concat(y,"-add-admin-wizard-modal"),closeWizard:function(){Te(!1)},onInvitationSendSuccessful:function(){Je(),R.publish("manage-users-finish-creating-collaborator-user")},adminTypeSelection:M.lu.EXTERNAL,onUserUpdate:function(){De()}}))};Rt.defaultProps={"data-componentid":"administrators",selection:!0,showListItemActions:!0,showMetaContent:!0};const wt=Rt;function It(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ct(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ct(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Lt=function(e){var t,n=e.triggerClearQuery,r=e.administrators,o=e.defaultListItemLimit,i=e.onUserDelete,a=e.isLoading,l=e.onIsLoading,m=e.readOnlyUserStores,f=e.onColumnSelectionChange,p=e.onListItemClick,v=e.onSearchQueryClear,h=e.selection,y=e.showListItemActions,g=e.searchQuery,E=e["data-componentid"],S=(0,u.$)().t,A=(0,H.yA)().data,O=It((0,c.useState)(!1),2),R=O[0],w=O[1],I=It((0,c.useState)(void 0),2),C=I[0],L=I[1],x=It((0,s.ZK)(),3),U=x[0],_=x[1],j=x[2],Z=(0,d.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.users})),k=(0,d.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.username})),D=(0,d.v9)((function(e){return e.auth.isPrivilegedUser})),F=(0,d.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.primaryUserStoreDomainName})),V=(0,b.EV)(null==Z||null===(t=Z.scopes)||void 0===t?void 0:t.delete),Q=function(){return g&&(0,X.Z)(r)?c.createElement(s.$J,{action:c.createElement(s.Qj,{onClick:v},S("users:usersList.search.emptyResultPlaceholder.clearButton")),image:(0,N.jF)().emptySearch,imageSize:"tiny",title:S("users:usersList.search.emptyResultPlaceholder.title"),subtitle:[S("users:usersList.search.emptyResultPlaceholder.subTitle.0",{query:g}),S("users:usersList.search.emptyResultPlaceholder.subTitle.1")]}):(0,X.Z)(r)?c.createElement(s.$J,{"data-componentid":"".concat(E,"-empty-placeholder"),image:(0,N.jF)().newList,imageSize:"tiny",subtitle:["There are no administrator users associated with your organization at the moment."]}):null};return c.createElement(c.Fragment,null,c.createElement(s.wQ,{externalSearch:c.createElement(T.n,{onFilter:function(){return null},filterAttributeOptions:[{key:0,text:S("users:advancedSearch.form.dropdown.filterAttributeOptions.username"),value:"userName"},{key:1,text:S("users:advancedSearch.form.dropdown.filterAttributeOptions.email"),value:"emails"}],filterAttributePlaceholder:S("users:advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:S("users:advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:S("users:advancedSearch.form.inputs.filterValue.placeholder"),placeholder:S("users:advancedSearch.placeholder"),defaultSearchAttribute:"userName",defaultSearchOperator:"co",triggerClearQuery:n}),isLoading:a,loadingStateOptions:{count:null!=o?o:P.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,imageType:"circular"},actions:function(){if(y)return[{"data-componentid":"administrators-list-item-delete-button",hidden:function(e){var t,n,r,o=(null==e||null===(t=e.username)||void 0===t?void 0:t.split("/").length)>1?null==e||null===(n=e.username)||void 0===n?void 0:n.split("/")[0]:F;return!(0,z.cr)(Z,M._F.FEATURE_DICTIONARY.get("USER_DELETE"))||D||!V||(null==m?void 0:m.includes(o.toString()))||(0,z.WX)(null==e?void 0:e.username)===(null==A||null===(r=A.realmConfig)||void 0===r?void 0:r.adminUser)||(null==k?void 0:k.includes((0,z.WX)(null==e?void 0:e.username)))},icon:function(){return"trash alternate"},onClick:function(e,t){w(!0),L(t)},popupText:function(){return S("users:usersList.list.iconPopups.delete")},renderer:"semantic-icon"}]}(),columns:[{allowToggleVisibility:!1,dataIndex:"name",id:"name",key:"name",render:function(e){var t,n=null==e?void 0:e.username,r=null==e?void 0:e.email;return c.createElement(Y.Z,{image:!0,as:"h6",className:"header-with-icon","data-componentid":"".concat(E,"-item-heading")},c.createElement(s.Yt,{"data-componentid":"users-list-item-image",name:(null===(t=e.username.split("/"))||void 0===t?void 0:t.length)>1?e.username.split("/")[1]:e.username.split("/")[0],size:"mini",spaced:"right","data-hj-suppress":""}),c.createElement(Y.Z.Content,null,n,r&&c.createElement(Y.Z.Subheader,{"data-componentid":"".concat(E,"-item-sub-heading")},r)))},title:"User"},{allowToggleVisibility:!1,dataIndex:"status",id:"status",key:"status",render:function(e){return c.createElement("span",null,null==e?void 0:e.status)},title:"Last Modified"},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:""}],data:r,onColumnSelectionChange:f,onRowClick:function(e,t){p&&p(e,t)},placeholders:Q(),selectable:h,showHeader:!0,transparent:!a&&null!==Q(),"data-componentid":E}),C&&c.createElement(s.cV,{primaryActionLoading:a,"data-componentid":"".concat(E,"-confirmation-modal"),onClose:function(){return w(!1)},type:"negative",open:R,assertionHint:S("invite:confirmationModal.deleteInvite.assertionHint"),assertionType:"checkbox",primaryAction:"Confirm",secondaryAction:"Cancel",onSecondaryActionClick:function(){w(!1),_(null)},onPrimaryActionClick:function(){l(!0),i(C,(function(){w(!1),L(void 0),l(!1)}))},closeOnDimmerClick:!1},c.createElement(s.cV.Header,{"data-componentid":"".concat(E,"-confirmation-modal-header")},S("invite:confirmationModal.deleteInvite.header")),c.createElement(s.cV.Message,{"data-componentid":"".concat(E,"-confirmation-modal-message"),attached:!0,negative:!0},S("invite:confirmationModal.deleteInvite.message")),c.createElement(s.cV.Content,{"data-componentid":"".concat(E,"-confirmation-modal-content")},S("invite:confirmationModal.deleteInvite.content"))),U&&j)};Lt.defaultProps={"data-componentid":"invited-administrators"};const Tt=Lt;function Nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Pt=function(e){var t,n,r,o,i=e.defaultListItemLimit,a=e.showMetaContent,l=e.readOnlyUserStores,m=e.selection,f=e.showListItemActions,p=e.availableUserStores,h=e["data-componentid"],y=(0,u.$)().t,g=(0,d.I0)(),E=(0,d.v9)((function(e){return e.config.ui.features})),S=(0,d.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.primaryUserStoreDomainName})),A=Nt((0,c.useState)(0),2),O=A[0],R=A[1],w=Nt((0,c.useState)(P.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),2),I=w[0],C=w[1],L=Nt((0,c.useState)(!1),2),x=L[0],U=L[1],_=Nt((0,c.useState)(""),2),j=_[0],Z=_[1],k=Nt((0,c.useState)(!1),2),D=k[0],F=k[1],z=Nt((0,c.useState)(!1),2),$=z[0],W=z[1],H=Nt((0,c.useState)(S),2),X=H[0],B=H[1],K=Me(I,O,j,null,X,M._F.GROUPS_ATTRIBUTE),Y=K.invitedAdministrators,J=K.adminUserListFetchError,ee=K.isNextPageAvailable,te=K.isAdministratorsListFetchRequestLoading,ne=K.mutateInvitedAdministratorsListFetchRequest,re=(0,v.z)(),oe=re.isFirstLevelOrganization,ie=re.isSuperOrganization,ae=function(){U(!x),Z("")};return c.createElement(s.PS,{advancedSearch:c.createElement(T.n,{onFilter:function(e){Z(e)},filterAttributeOptions:[{key:0,text:y("users:advancedSearch.form.dropdown.filterAttributeOptions.username"),value:"userName"},{key:1,text:y("users:advancedSearch.form.dropdown.filterAttributeOptions.email"),value:"emails"},{key:2,text:"First Name",value:"name.givenName"},{key:3,text:"Last Name",value:"name.familyName"}],filterAttributePlaceholder:y("users:advancedSearch.form.inputs.filterAttribute. placeholder"),filterConditionsPlaceholder:y("users:advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:y("users:advancedSearch.form.inputs.filterValue.placeholder"),placeholder:"Search by Username",defaultSearchAttribute:"userName",defaultSearchOperator:"co",triggerClearQuery:x}),currentListSize:null==Y||null===(t=Y.invitations)||void 0===t?void 0:t.length,listItemLimit:I,onItemsPerPageDropdownChange:function(e,t){C(t.value)},"data-componentid":"".concat(h,"-list-layout"),onPageChange:function(e,t){R((t.activePage-1)*I)},showPagination:!0,showTopActionPanel:!0,showPaginationPageLimit:!0,totalPages:Math.ceil((null==Y||null===(n=Y.invitations)||void 0===n?void 0:n.length)/I),totalListSize:null==Y||null===(r=Y.invitations)||void 0===r?void 0:r.length,isLoading:te,onSearchQueryClear:ae,paginationOptions:{disableNextButton:!ee},rightActionPanel:oe()||ie()?c.createElement(G.Z,{"data-testid":"user-mgt-user-list-userstore-dropdown",selection:!0,options:p,onChange:function(e,t){B(t.value)},defaultValue:S}):null,topActionPanelExtension:c.createElement(b.di,{when:null==E||null===(o=E.users)||void 0===o||null===(o=o.scopes)||void 0===o?void 0:o.create},c.createElement(s.KM,{"data-componentid":"".concat(h,"-add-button"),onClick:function(){return F(!0)}},c.createElement(q.Z,{"data-componentid":"".concat(h,"-add-button-icon"),name:"add"}),"Invite Parent User"))},J?c.createElement(s.$J,{subtitle:[y("users:placeholders.userstoreError.subtitles.0"),y("users:placeholders.userstoreError.subtitles.1")],title:y("users:placeholders.userstoreError.title"),image:(0,N.jF)().genericError,imageSize:"tiny"}):c.createElement(Tt,{defaultListItemLimit:i,administrators:null==Y?void 0:Y.invitations,onUserDelete:function(e,t){return(0,st.h)(e.id).then((function(){g((0,Q.V_)({description:y("invite:notifications.deleteInvite.success.description"),level:V.QU.SUCCESS,message:y("invite:notifications.deleteInvite.success.message")})),ne()})).catch((function(){g((0,Q.V_)({description:y("invite:notifications.deleteInvite.genericError.description"),level:V.QU.ERROR,message:y("invite:notifications.deleteInvite.genericError.message")}))})).finally((function(){return t()}))},isLoading:$,readOnlyUserStores:l,onSearchQueryClear:ae,searchQuery:j,triggerClearQuery:x,onEmptyListPlaceholderActionClick:function(){return null},onIsLoading:W,selection:m,showListItemActions:f,showMetaContent:a,"data-componentid":"".concat(h,"-table")}),D&&c.createElement(yt,{onClose:function(){return F(!1)}}))};Pt.defaultProps={"data-componentid":"invited-administrators-list",selection:!1,showListItemActions:!0,showMetaContent:!0};const Ut=Pt;function _t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return jt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Zt=function(e){var t,n=e["data-componentid"],r=(0,v.z)(),o=r.isFirstLevelOrganization,i=r.isSubOrganization,a=(0,u.$)().t,l=(0,d.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.consoleSettings})),s=!(null!=l&&null!==(t=l.disabledFeatures)&&void 0!==t&&t.includes("consoleSettings.privilegedUsers")),m=_t((0,c.useState)(i()?"activeUsers":"administrators"),2),f=m[0],p=m[1],I=_t((0,c.useState)(!1),2),C=I[0],L=I[1],T=S.h.getState().auth.tenantDomain,N=(0,d.v9)((function(e){return e.config.ui.productName})),x=(0,d.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.systemReservedUserStores})),P=E.c,U=(0,b.Ac)(O.Z.SAAS_FEATURES_IDENTIFIER),_=P(T,{revalidateIfStale:!0},U===b.iK.ENABLED),j=_.data,Z=_.isLoading,k=_.isValidating;(0,c.useEffect)((function(){L(null==j?void 0:j.isEnterpriseLoginEnabled)}),[Z,k]);var D=(0,w.Z)(),M=D.isLoading,F=D.mutateUserStoreList,z=D.userStoresList,V=(0,c.useMemo)((function(){var e=[{key:-1,text:null===A.wO||void 0===A.wO?void 0:A.wO.primaryUserstoreName,value:null===A.wO||void 0===A.wO?void 0:A.wO.primaryUserstoreName}];return z&&!M&&(null==z||z.forEach((function(t,n){var r;if(!((null==t?void 0:t.typeName)===R.uD.RemoteUserStoreManager||null!=x&&x.includes(null==t?void 0:t.name))&&(null==t||null===(r=t.name)||void 0===r?void 0:r.toUpperCase())!==(null===A.wO||void 0===A.wO?void 0:A.wO.primaryUserstoreName)&&t.enabled){var o={key:n,text:t.name,value:t.name};e.push(o)}}))),e}),[z,M]);(0,c.useEffect)((function(){F()}),[]);return c.createElement("div",{className:"console-administrators","data-componentid":n},o()&&C&&s?c.createElement(g.Z,{row:!0,"aria-labelledby":"console-administrators-radio-group",className:"multi-option-radio-group",defaultValue:"administrators",name:"console-administrators-radio-group",value:f,onChange:function(e,t){return p(t)}},c.createElement(h.Z,{"data-componentid":"".concat(n,"-radio-group-administrators"),value:"administrators",control:c.createElement(y.Z,null),label:N}),c.createElement(h.Z,{"data-componentid":"".concat(n,"-radio-group-privileged-users"),value:"privilegedUsers",control:c.createElement(y.Z,null),label:a("common:organizationName",{orgName:T})})):i()?c.createElement(g.Z,{row:!0,"aria-labelledby":"console-administrators-radio-group",className:"multi-option-radio-group",defaultValue:"login",name:"console-administrators-radio-group",value:f,onChange:function(e,t){return p(t)}},c.createElement(h.Z,{value:"activeUsers",control:c.createElement(y.Z,null),label:"Active Members"}),c.createElement(h.Z,{value:"pendingInvitations",control:c.createElement(y.Z,null),label:"Pending Invitations"})):void 0,function(){switch(f){case"activeUsers":case"administrators":case"privilegedUsers":return c.createElement(wt,{selectedAdministratorGroup:f,availableUserStores:V});case"pendingInvitations":return c.createElement(Ut,{availableUserStores:V});default:return null}}())};Zt.defaultProps={"data-componentid":"console-administrators"};const kt=Zt;var Dt=n(82659),Mt=n(917),Ft=n(51570),zt=n(48023),Vt=n(48059),Qt={};Qt.styleTagTransform=de(),Qt.setAttributes=le(),Qt.insert=ie().bind(null,"head"),Qt.domAPI=re(),Qt.insertStyleElement=ce();te()(Vt.Z,Qt);Vt.Z&&Vt.Z.locals&&Vt.Z.locals;function Gt(e){return function(e){if(Array.isArray(e))return qt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return qt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var $t=function(e){var t,n,r=e["data-componentid"],o=(0,Mt.Z)().UIConfig,i=[].concat(Gt(null!==(t=null==o?void 0:o.hiddenAuthenticators)&&void 0!==t?t:[]),[zt.$.ORGANIZATION_AUTHENTICATOR]),a=(0,d.v9)((function(e){var t;return null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.applications})),l=be(),s=l.consoleConfigurations,u=l.isConsoleConfigurationsFetchRequestLoading,m=l.mutateConsoleConfigurations,f=!(0,b.EV)(null==a||null===(n=a.scopes)||void 0===n?void 0:n.update);return c.createElement(Ft.Z,null,c.createElement("div",{className:"console-login-flow","data-componentid":r},c.createElement(Dt.I,{application:s,appId:null==s?void 0:s.id,authenticationSequence:null==s?void 0:s.authenticationSequence,clientId:null==s?void 0:s.clientId,isLoading:u,onUpdate:function(){m()},readOnly:f,isSystemApplication:!0,hiddenAuthenticators:i,"data-componentid":"".concat(r,"-sign-on-methods")})))};$t.defaultProps={"data-componentid":"console-login-flow"};const Wt=$t;var Ht=n(30418),Xt=n(9821),Bt=n(48773),Kt=function(e){var t=e["data-componentid"],n=(0,d.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),r=(0,d.v9)((function(e){var t;return null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.applications})),o=be(),i=o.consoleConfigurations,a=o.isConsoleApplicationInboundConfigsFetchRequestLoading,l=o.mutateConsoleApplicationInboundConfigs,s=o.consoleInboundConfigurations,u=(0,c.useMemo)((function(){var e;return!(0,z.Xr)(r,null==r||null===(e=r.scopes)||void 0===e?void 0:e.update,n)}),[r]);return c.createElement("div",{className:"console-login-flow","data-componentid":t},c.createElement(Ht.E,{isSystemApplication:!0,application:i,appId:null==i?void 0:i.id,appName:null==i?void 0:i.name,applicationTemplateId:null==i?void 0:i.templateId,isLoading:a,setIsLoading:function(){return null},readOnly:u,"data-componentid":"".concat(t,"-protocol-settings"),certificate:void 0,extendedAccessConfig:!1,inboundProtocolConfig:{oidc:s},inboundProtocols:[Bt.AI.OIDC],onUpdate:function(){return l()},isInboundProtocolConfigRequestLoading:!1,template:{id:Xt.jo.CUSTOM_APPLICATION_OIDC,name:"Custom",templateId:Xt.jo.CUSTOM_APPLICATION_OIDC}}))};Kt.defaultProps={"data-componentid":"console-protocol"};const Yt=Kt;var Jt=n(7231),en=n(36940);function tn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var rn=function(e){var t,n,r,o,i=e.onRoleDelete,a=e.onRoleEdit,l=e.isSubOrg,m=e.onEmptyListPlaceholderActionClick,f=e.onSearchQueryClear,p=e.roleList,v=e.searchQuery,h=e["data-componentid"],y=(0,u.$)().t,g=(0,d.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.userRoles})),E=(0,b.EV)(null==g||null===(t=g.scopes)||void 0===t?void 0:t.update),S=(0,b.EV)(null==g||null===(n=g.scopes)||void 0===n?void 0:n.delete),A=(0,d.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.administratorRoleDisplayName})),O=(0,d.v9)((function(e){return e.config.ui.features})),R=(0,d.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.consoleSettings})),w=!(null!=R&&null!==(r=R.disabledFeatures)&&void 0!==r&&r.includes("consoleSettings.editableConsoleRoles")),I=tn((0,c.useState)(!1),2),C=I[0],L=I[1],T=tn((0,c.useState)(),2),x=T[0],P=T[1];return c.createElement(c.Fragment,null,c.createElement(s.wQ,{loadingStateOptions:{imageType:"square"},actions:[{hidden:function(e){return E},icon:function(){return"eye"},onClick:function(e,t){return E&&a(t)},popupText:function(){return y("common:view")},renderer:"semantic-icon"},{hidden:function(e){return!E||!w},icon:function(){return"pencil alternate"},onClick:function(e,t){return E&&a(t)},popupText:function(){return y("roles:list.popups.edit",{type:"Role"})},renderer:"semantic-icon"},{hidden:function(e){return l||!w||(null==e?void 0:e.displayName)===en.nL.ADMIN_ROLE||(null==e?void 0:e.displayName)===en.nL.ADMIN_GROUP||(null==e?void 0:e.displayName)===A||!S},icon:function(){return"trash alternate"},onClick:function(e,t){P(t),L(!C)},popupText:function(){return y("roles:list.popups.delete",{type:"Role"})},renderer:"semantic-icon"}],columns:[{allowToggleVisibility:!1,dataIndex:"name",id:"name",key:"name",render:function(e){return c.createElement(Y.Z,{image:!0,as:"h6",className:"header-with-icon","data-componentid":"".concat(h,"-item-heading")},c.createElement(s.JT,{image:c.createElement(s.Xo,{name:null==e?void 0:e.displayName[0],size:"mini","data-componentid":"".concat(h,"-item-image-inner")}),size:"mini",spaced:"right","data-componentid":"".concat(h,"-item-image")}),c.createElement(Y.Z.Content,null,null==e?void 0:e.displayName))},title:y("roles:list.columns.name")},{allowToggleVisibility:!1,dataIndex:"audience",id:"audience",key:"audience",render:function(e){var t,n,r,o;return c.createElement(Y.Z,{as:"h6","data-componentid":"".concat(h,"-col-2-item-heading")},c.createElement(Y.Z.Content,null,c.createElement(Y.Z.Subheader,{"data-componentid":"".concat(h,"-col-2-item-sub-heading")},(null==e||null===(t=e.audience)||void 0===t?void 0:t.type.charAt(0).toUpperCase())+(null==e||null===(n=e.audience)||void 0===n?void 0:n.type.slice(1)),Jt.cv.APPLICATION===(null==e||null===(r=e.audience)||void 0===r?void 0:r.type.toUpperCase())&&c.createElement(J.Z,{size:"mini",className:"client-id-label"},null==e||null===(o=e.audience)||void 0===o?void 0:o.display))))},title:c.createElement("div",{className:"pl-3"},y("roles:list.columns.audience"))},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:null}],data:null==p?void 0:p.Resources,onRowClick:function(e,t){a(t)},placeholders:v&&0===(null==p?void 0:p.totalResults)?c.createElement(s.$J,{"data-componentid":"".concat(h,"-search-empty-placeholder"),action:c.createElement(s.Qj,{"data-componentid":"".concat(h,"-search-empty-placeholder-clear-button"),onClick:f},y("roles:list.emptyPlaceholders.search.action")),image:(0,N.jF)().emptySearch,imageSize:"tiny",title:y("roles:list.emptyPlaceholders.search.title"),subtitle:[y("roles:list.emptyPlaceholders.search.subtitles.0",{searchQuery:v}),y("roles:list.emptyPlaceholders.search.subtitles.1")]}):0===(null==p?void 0:p.totalResults)?c.createElement(s.$J,{"data-componentid":"".concat(h,"-empty-list-empty-placeholder"),action:!l&&c.createElement(b.di,{when:null==O||null===(o=O.userRoles)||void 0===o||null===(o=o.scopes)||void 0===o?void 0:o.create},c.createElement(s.KM,{"data-componentid":"".concat(h,"-empty-list-empty-placeholder-add-button"),onClick:m},c.createElement(q.Z,{name:"add"}),y("roles:list.emptyPlaceholders.emptyRoleList.action",{type:"Role"}))),image:(0,N.jF)().newList,imageSize:"tiny",title:!l&&y("roles:list.emptyPlaceholders.emptyRoleList.title",{type:"role"}),subtitle:l?[y("roles:list.emptyPlaceholders.emptyRoleList.subtitles.0",{type:"roles"})]:[y("roles:list.emptyPlaceholders.emptyRoleList.subtitles.0",{type:"roles"}),y("roles:list.emptyPlaceholders.emptyRoleList.subtitles.1",{type:"role"}),y("roles:list.emptyPlaceholders.emptyRoleList.subtitles.2",{type:"role"})]}):null,"data-componentid":h}),C&&c.createElement(s.cV,{"data-componentid":"".concat(h,"-delete-item-confirmation-modal"),onClose:function(){return L(!1)},type:"negative",open:C,assertionHint:y("roles:list.confirmations.deleteItem.assertionHint"),assertionType:"checkbox",primaryAction:y("common:confirm"),secondaryAction:y("common:cancel"),onSecondaryActionClick:function(){return L(!1)},onPrimaryActionClick:function(){i(x),L(!1)},closeOnDimmerClick:!1},c.createElement(s.cV.Header,null,y("roles:list.confirmations.deleteItem.header")),c.createElement(s.cV.Message,{attached:!0,negative:!0},y("roles:list.confirmations.deleteItem.message",{type:"role"})),c.createElement(s.cV.Content,null,y("roles:list.confirmations.deleteItem.content",{type:"role"}))))};rn.defaultProps={"data-componentid":"console-roles-table"};const on=rn;function an(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ln(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ln(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ln(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var sn=function(e){var t,n,r,o=e.isSubOrg,i=e.rolesList,a=e.onMutateRolesList,l=e.isRolesListLoading,m=e.listItemLimit,f=e.searchQuery,p=e.onListOffsetChange,h=e.onListItemLimitChange,y=e.onSearchQueryChange,g=e.onRoleCreate,E=e["data-componentid"],S=(0,d.I0)(),A=(0,u.$)().t,O=(0,d.v9)((function(e){return e.config.ui.features})),R=(0,d.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.userRolesV3})),w=(0,d.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t||null===(t=t.userRolesV3)||void 0===t?void 0:t.enabled})),I=(0,d.v9)((function(e){return e.config.ui.features.consoleSettings})),C=!(null!=I&&null!==(t=I.disabledFeatures)&&void 0!==t&&t.includes("consoleSettings.editableConsoleRoles")),L=(0,v.z)().isSubOrganization,N=an((0,c.useState)(!1),2),P=N[0],_=N[1];return c.createElement(s.PS,{advancedSearch:c.createElement(T.n,{"data-componentid":"".concat(E,"-list-advanced-search"),onFilter:function(e){"displayName sw "!==e?y(e):a()},filterAttributeOptions:[{key:0,text:A("roles:list.filterAttirbutes.name"),value:"displayName"}],filterAttributePlaceholder:A("roles:advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:A("roles:advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:A("roles:advancedSearch.form.inputs.filterValue.placeholder"),placeholder:A("roles:advancedSearch.placeholder"),defaultSearchAttribute:"displayName",defaultSearchOperator:"co",triggerClearQuery:P}),currentListSize:null==i?void 0:i.itemsPerPage,listItemLimit:m,onItemsPerPageDropdownChange:function(e,t){h(t.value)},onPageChange:function(e,t){var n=(t.activePage-1)*m;p(n)},showTopActionPanel:(null==i?void 0:i.totalResults)>0||0!==(null==f?void 0:f.length),topActionPanelExtension:!L()&&C&&c.createElement(b.di,{when:w?null==R||null===(n=R.scopes)||void 0===n?void 0:n.create:null==O||null===(r=O.userRoles)||void 0===r||null===(r=r.scopes)||void 0===r?void 0:r.create},c.createElement(s.KM,{"data-componentid":"".concat(E,"-add-button"),onClick:function(){return g()}},c.createElement(q.Z,{"data-componentid":"".concat(E,"-add-button-icon"),name:"add"}),A("roles:list.buttons.addButton",{type:"Role"}))),showPagination:!0,totalPages:Math.ceil((null==i?void 0:i.totalResults)/m),totalListSize:null==i?void 0:i.totalResults,isLoading:l,className:"console-roles-list-layout"},c.createElement(on,{onRoleDelete:function(e){(0,Fe.iy)(e.id).then((function(){S((0,Q.V_)({description:A("roles:notifications.deleteRole.success.description"),level:V.QU.SUCCESS,message:A("roles:notifications.deleteRole.success.message")})),a()})).catch((function(e){e.response&&e.response.data&&e.response.data.detail?S((0,Q.V_)({description:e.response.data.detail,level:V.QU.ERROR,message:A("roles:notifications.deleteRole.error.message")})):S((0,Q.V_)({description:A("roles:notifications.deleteRole.genericError.description"),level:V.QU.ERROR,message:A("roles:notifications.deleteRole.genericError.message")}))}))},onRoleEdit:function(e){U.m.push(x.$.getPaths().get("CONSOLE_ROLES_EDIT").replace(":id",null==e?void 0:e.id))},onEmptyListPlaceholderActionClick:function(){return g()},onSearchQueryClear:function(){_(!P),y(null)},roleList:i,searchQuery:f,isSubOrg:o}))};sn.defaultProps={"data-componentid":"console-roles-list-layout"};const cn=sn;var un=n(4372),dn=function(e){var t=e["data-componentid"];return c.createElement(We.gN.Input,{fullWidth:!0,FormControlProps:{margin:"dense"},ariaLabel:"Role name field",required:!0,"data-componentid":"".concat(t,"-form-role-name-field"),name:"displayName",inputType:"roleName",label:"Role Name",helperText:c.createElement(s.kW,null,"Provide a distinctive and meaningful display name for the role. This name should clearly represent the purpose or responsibilities associated with this role within the Console application. ",c.createElement("br",null),"E.g."," ",c.createElement(un.Z,null,"application read")),placeholder:"Enter Role name",component:We.xh,maxLength:Jt.nL.ROLE_NAME_MAX_LENGTH,minLength:Jt.nL.ROLE_NAME_MIN_LENGTH})};dn.defaultProps={"data-componentid":"create-console-role-wizard-basic-info-form"};const mn=dn;var fn=n(76706),pn=n(23852),vn=["onClose","data-componentid"];function hn(){return hn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hn.apply(null,arguments)}function yn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return gn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var bn=function(e){var t=e.onClose,n=e["data-componentid"],r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,vn),o=(0,u.$)().t,i=(0,d.I0)(),a=yn((0,s.IK)(),3),l=a[0],m=a[1],f=a[2],p=be(),v=p.consoleId,h=p.consoleDisplayName,y=yn((0,c.useState)([]),2),g=y[0],b=y[1],E=(0,d.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t||null===(t=t.userRolesV3)||void 0===t?void 0:t.enabled}))?Fe.uy:Fe.fA;return c.createElement(He.Z,hn({"data-testid":n,open:!0,className:"wizard api-resource-create-wizard",onClose:t},r),c.createElement(He.Z.Header,{className:"wizard-header"},c.createElement($e.Z,{variant:"inherit"},"Add Role"),c.createElement(s.X6,{as:"h6"},c.createElement($e.Z,{variant:"inherit"},"Add a new role to allow administrators to use the Console"))),c.createElement(We.vy,{initialValues:{},keepDirtyOnReinitialize:!0,onSubmit:function(e){!(0,X.Z)(g)&&null!=e&&e.displayName&&E({audience:{display:h,type:Jt.cv.APPLICATION,value:v},displayName:e.displayName,permissions:g}).then((function(e){t(null,null),201===e.status?i((0,Q.V_)({description:o("roles:notifications.createRole.success.description"),level:V.QU.SUCCESS,message:o("roles:notifications.createRole.success.message")})):202===e.status&&i((0,Q.V_)({description:o("roles:notifications.createRolePendingApproval.success.description"),level:V.QU.WARNING,message:o("roles:notifications.createRolePendingApproval.success.message")}))})).catch((function(){m({description:"An error ocurred while creating the role.",level:V.QU.ERROR,message:"Failed to create the role"})}))},render:function(e){var r=e.handleSubmit;return c.createElement(c.Fragment,null,c.createElement(He.Z.Content,{className:"content-container",scrolling:!0},l&&f,c.createElement("form",{id:pn.S.ADD_NEW_ROLE_FORM_ID,onSubmit:r},c.createElement(mn,null),c.createElement(fn.Z,{onPermissionsChange:b}))),c.createElement(He.Z.Actions,null,c.createElement(Xe.Z,null,c.createElement(Xe.Z.Row,{column:1},c.createElement(Xe.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(s.Qj,{tabIndex:6,"data-componentid":"".concat(n,"-cancel-button"),floated:"left",onClick:function(e){return t(e,null)}},c.createElement($e.Z,{variant:"inherit"},o("extensions:develop.apiResource.wizard.addApiResource.cancelButton")))),c.createElement(Xe.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(We.lP,{subscription:{values:!0}},(function(e){var t=e.values;return c.createElement(s.KM,{tabIndex:8,"data-componentid":"".concat(n,"-submit-button"),floated:"right",disabled:!t.displayName||(0,X.Z)(g),onClick:function(){document.getElementById(pn.S.ADD_NEW_ROLE_FORM_ID).dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0}))}},c.createElement($e.Z,{variant:"inherit"},"Add"))})))))))}}))};bn.defaultProps={closeOnDimmerClick:!1,closeOnEscape:!0,"data-componentid":"create-console-role-wizard",dimmer:"blurring",size:"small"};const En=bn;function Sn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return An(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?An(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function An(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var On=function(e){var t=e["data-componentid"],n=(0,d.I0)(),r=(0,u.$)().t,o=Sn((0,c.useState)(!1),2),i=o[0],a=o[1],l=Sn((0,c.useState)(P.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),2),s=l[0],m=l[1],f=Sn((0,c.useState)(0),2),p=f[0],h=f[1],y=Sn((0,c.useState)(void 0),2),g=y[0],b=y[1],E=Ee(!0,s,p,g),S=E.consoleRoles,A=E.consoleRolesFetchRequestError,O=E.mutateConsoleRolesFetchRequest,R=E.isConsoleRolesFetchRequestLoading,w=(0,v.z)().isSubOrganization;(0,c.useEffect)((function(){A&&n((0,Q.V_)({description:r("roles:notifications.fetchRoles.genericError.description"),level:V.QU.ERROR,message:r("roles:notifications.fetchRoles.genericError.message")}))}),[A]);return c.createElement(c.Fragment,null,c.createElement(cn,{"data-componentid":"".concat(t,"-layout"),isSubOrg:w(),rolesList:S,onMutateRolesList:O,isRolesListLoading:R,listItemLimit:s,searchQuery:g,onListOffsetChange:h,onListItemLimitChange:m,onSearchQueryChange:b,onRoleCreate:function(){a(!0)}}),i&&c.createElement(En,{onClose:function(){a(!1),O()}}))};On.defaultProps={"data-componentid":"console-roles-list"};const Rn=On;var wn=n(31551),In=n(73965),Cn=n(80750),Ln=n(51630),Tn=n(72137),Nn=n(97130),xn=n(37626),Pn=n(2279),Un=n(91009),_n=n(900),jn=n(55495),Zn=n(3730),kn={};kn.styleTagTransform=de(),kn.setAttributes=le(),kn.insert=ie().bind(null,"head"),kn.domAPI=re(),kn.insertStyleElement=ce();te()(Zn.Z,kn);Zn.Z&&Zn.Z.locals&&Zn.Z.locals;function Dn(){return Dn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dn.apply(null,arguments)}function Mn(e){return function(e){if(Array.isArray(e))return Vn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||zn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||zn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zn(e,t){if(e){if("string"==typeof e)return Vn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vn(e,t):void 0}}function Vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Qn=function(e){var t,n,r=e["data-componentid"],i=void 0===r?"console-roles-share-with-all":r,a=e.administratorRole,l=e.selectedRoles,s=e.setSelectedRoles,m=e.onRoleChange,f=(0,d.v9)((function(e){var t;return null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.applications})),p=(0,d.I0)(),v=(0,u.$)().t,h=!(0,b.EV)(null==f||null===(t=f.scopes)||void 0===t?void 0:t.update),y=(0,c.useCallback)((0,jn.Z)((function(e){var t=e?'displayName co "'.concat(e,'"'):void 0;S(t),R(!1)}),1e3),[]),g=Fn((0,c.useState)(void 0),2),E=g[0],S=g[1],A=Fn((0,c.useState)(!1),2),O=A[0],R=A[1],w=Ee(!0,100,null,E),I=w.consoleRoles,C=w.consoleRolesFetchRequestError,L=w.isConsoleRolesFetchRequestLoading;(0,c.useEffect)((function(){C&&p((0,Q.V_)({description:null!=C?C:v("roles:notifications.fetchRoles.error.description"),level:V.QU.ERROR,message:v("roles:notifications.fetchRoles.error.message")}))}),[C]);return c.createElement(c.Fragment,null,c.createElement(_n.Z,{fullWidth:!0,multiple:!0,"data-componentid":"".concat(i,"-autocomplete"),className:"console-roles-share-with-all-autocomplete",loading:L||O,placeholder:v("consoleSettings:sharedAccess.modes.shareWithSelectedPlaceholder"),options:null!==(n=null==I?void 0:I.Resources)&&void 0!==n?n:[],value:l,onChange:function(e,t,n,r){!function(e,t,n){s([a].concat(Mn(e.filter((function(e){return e.displayName!==pn.S.ADMINISTRATOR})))));var r=n.option;(0,X.Z)(r)||("selectOption"===t?m(r,!0):"removeOption"===t&&m(r,!1))}(t,n,r)},disabled:h,getOptionDisabled:function(e){return e.displayName===pn.S.ADMINISTRATOR},noOptionsText:v("common:noResultsFound"),getOptionLabel:function(e){return null==e?void 0:e.displayName},isOptionEqualToValue:function(e,t){return(null==e?void 0:e.displayName)===t.displayName},renderInput:function(e){return c.createElement(o.Z,Dn({},e,{size:"medium",placeholder:v("consoleSettings:sharedAccess.searchAvailableRolesPlaceholder"),"data-componentid":"".concat(i,"-role-search-input"),onChange:function(e){var t=e.target.value.trim();R(!0),y(t)}}))},renderTags:function(e,t){return e.map((function(e,n){return c.createElement($.Z,Dn({},t({index:n}),{key:n,label:e.displayName,variant:null!=l&&l.find((function(t){return t.id===e.id}))?"filled":"outlined",disabled:e.displayName===pn.S.ADMINISTRATOR}))}))}}))};var Gn=n(35932);function qn(e){return qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qn(e)}function $n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$n(Object(n),!0).forEach((function(t){Hn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=qn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xn(e){return function(e){if(Array.isArray(e))return Yn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Kn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||Kn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kn(e,t){if(e){if("string"==typeof e)return Yn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yn(e,t):void 0}}function Yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Jn=function(e){var t,n=e["data-componentid"],r=void 0===n?"console-shared-access":n,o=(0,d.v9)((function(e){var t;return null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.applications})),i=(0,u.$)().t,a=(0,d.I0)(),l=be().consoleId,m=!(0,b.EV)(null==o||null===(t=o.scopes)||void 0===t?void 0:t.update),f=Ee(!0,P.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,null,"displayName eq ".concat(pn.S.ADMINISTRATOR)),p=f.consoleRoles,v=f.consoleAdminRoleFetchRequestError,E=Ee(!0,100,null,null),S=E.consoleRoles,A=E.consoleRolesFetchRequestError,O=(0,Tn.Z)(l,!(0,X.Z)(l),!1,null,"roles",1,null,null,"sharingMode"),R=O.data,w=O.isLoading,I=O.isValidating,C=O.error,L=O.mutate,T=Bn((0,c.useState)(Gn.yx.ALL),2),N=T[0],x=T[1],U=Bn((0,c.useState)([]),2),_=U[0],j=U[1],Z=Bn((0,c.useState)([]),2),k=Z[0],D=Z[1],M=Bn((0,c.useState)({}),2),F=M[0],z=M[1],G=Bn((0,c.useState)({}),2),q=G[0],$=G[1],W=Bn((0,c.useState)({}),2),H=W[0],B=W[1],K=Bn((0,c.useState)(!1),2),Y=K[0],J=K[1];(0,c.useEffect)((function(){var e;(null==p||null===(e=p.Resources)||void 0===e?void 0:e.length)>0&&(D([null==p?void 0:p.Resources[0]]),j([null==p?void 0:p.Resources[0]]))}),[p]),(0,c.useEffect)((function(){var e,t;if(null!=R&&R.sharingMode){if((null==R||null===(e=R.sharingMode)||void 0===e||null===(e=e.roleSharing)||void 0===e?void 0:e.mode)===Gn.yx.ALL&&x(Gn.yx.ALL),(null==R||null===(t=R.sharingMode)||void 0===t||null===(t=t.roleSharing)||void 0===t?void 0:t.mode)===Gn.yx.SELECTED){var n;x(Gn.yx.SELECTED);var r=null==R||null===(n=R.sharingMode)||void 0===n||null===(n=n.roleSharing)||void 0===n||null===(n=n.roles)||void 0===n?void 0:n.map((function(e){return{audience:{display:e.audience.display,type:e.audience.type},displayName:e.displayName,id:e.displayName}}));if((null==r?void 0:r.length)>0){var o=Xn(r);if(o.some((function(e){return e.displayName===pn.S.ADMINISTRATOR}))){var i=o.findIndex((function(e){return e.displayName===pn.S.ADMINISTRATOR}));o.splice(i,1),o.unshift(null==p?void 0:p.Resources[0])}else o.unshift(null==p?void 0:p.Resources[0]);D(o),j(o)}}}else x(Gn.yx.SELECTED)}),[R]),(0,c.useEffect)((function(){(A||v)&&a((0,Q.V_)({description:i("consoleSettings:sharedAccess.notifications.fetchRoles.error.description",{error:A.message}),level:V.QU.ERROR,message:i("consoleSettings:sharedAccess.notifications.fetchRoles.error.message")}))}),[A,v]),(0,c.useEffect)((function(){C&&a((0,Q.V_)({description:i("consoleSettings:sharedAccess.notifications.fetchOrgTree.error.description"),level:V.QU.ERROR,message:i("consoleSettings:sharedAccess.notifications.fetchOrgTree.error.message")}))}),[C]);var ee=function(){z({}),$({}),B({}),D([null==p?void 0:p.Resources[0]]),j([null==p?void 0:p.Resources[0]]),J(!1)},te=function(){var e,t=Object.entries(F).map((function(e){var t=Bn(e,2),n=t[0],r=t[1].map((function(e){return{audience:{display:e.audience.display,type:e.audience.type},displayName:e.displayName}}));return(0,X.Z)(r)?null:{op:"add",path:'organizations[orgId eq "'.concat(n,'"].roles'),value:r}})).filter((function(e){return null!==e})),n=Object.entries(q).map((function(e){var t=Bn(e,2),n=t[0],r=t[1].map((function(e){return{audience:{display:e.audience.display,type:e.audience.type},displayName:e.displayName}}));return(0,X.Z)(r)?null:{op:"remove",path:'organizations[orgId eq "'.concat(n,'"].roles'),value:r}})).filter((function(e){return null!==e})),r={Operations:[].concat(Xn(t),Xn(n)),applicationId:l};(null==r||null===(e=r.Operations)||void 0===e?void 0:e.length)>0?(0,Ln.Zw)(r).then((function(){a((0,Q.V_)({description:i("consoleSettings:sharedAccess.notifications.shareRoles.success.description"),level:V.QU.SUCCESS,message:i("consoleSettings:sharedAccess.notifications.shareRoles.success.message")})),ee()})).catch((function(e){a((0,Q.V_)({description:i("consoleSettings:sharedAccess.notifications.shareRoles.error.description",{error:e.message}),level:V.QU.ERROR,message:i("consoleSettings:sharedAccess.notifications.shareRoles.error.message")}))})).finally((function(){L()})):(ee(),a((0,Q.V_)({description:i("consoleSettings:sharedAccess.notifications.shareRoles.success.description"),level:V.QU.SUCCESS,message:i("consoleSettings:sharedAccess.notifications.shareRoles.success.message")})))},ne=function(){var e;N===Gn.yx.ALL?(e={applicationId:l,policy:Gn.wD.ALL_EXISTING_AND_FUTURE_ORGS,roleSharing:{mode:Gn.yx.ALL,roles:[]}},(0,Ln.Js)(e).then((function(){a((0,Q.V_)({description:i("consoleSettings:sharedAccess.notifications.shareRoles.success.description"),level:V.QU.SUCCESS,message:i("consoleSettings:sharedAccess.notifications.shareRoles.success.message")}))})).catch((function(e){a((0,Q.V_)({description:i("consoleSettings:sharedAccess.notifications.shareRoles.error.description",{error:e.message}),level:V.QU.ERROR,message:i("consoleSettings:sharedAccess.notifications.shareRoles.error.message")}))})).finally((function(){L()}))):N===Gn.yx.SELECTED&&function(){var e={applicationId:l,policy:Gn.wD.ALL_EXISTING_AND_FUTURE_ORGS,roleSharing:{mode:Gn.yx.SELECTED,roles:k.map((function(e){var t;return{audience:{display:null!==(t=e.audience.display)&&void 0!==t?t:Xt.jo.CONSOLE_APP_NAME,type:e.audience.type},displayName:e.displayName}}))}};(0,Ln.Js)(e).then((function(){te()})).catch((function(e){a((0,Q.V_)({description:i("consoleSettings:sharedAccess.notifications.shareRoles.error.description",{error:e.message}),level:V.QU.ERROR,message:i("consoleSettings:sharedAccess.notifications.shareRoles.error.message")}))})).finally((function(){L()}))}()};return w||I?c.createElement(s.pO,null):c.createElement(s.pJ,{padded:"very"},c.createElement(Cn.Z,{container:!0},c.createElement(Cn.Z,{xl:8,xs:12},c.createElement(s.xv,{className:"mb-2",subHeading:!0},i("consoleSettings:sharedAccess.description")),c.createElement(In.Z,{fullWidth:!0},c.createElement(g.Z,{value:N,onChange:function(e){var t=e.target.value;x(t),t===Gn.yx.SELECTED&&(J(!0),z({}),$({}),B({}),D([null==p?void 0:p.Resources[0]]),j([null==p?void 0:p.Resources[0]])),t===Gn.yx.ALL&&ee()},"data-componentid":"".concat(r,"-radio-group")},c.createElement(h.Z,{value:Gn.yx.ALL,label:i("consoleSettings:sharedAccess.modes.shareAllRolesWithAllOrgs"),control:c.createElement(y.Z,null),disabled:m,"data-componentid":"".concat(r,"-share-all-roles-with-all-orgs-radio-btn")}),c.createElement(h.Z,{value:Gn.yx.SELECTED,label:i("consoleSettings:sharedAccess.modes.shareWithAll"),control:c.createElement(y.Z,null),disabled:m,"data-componentid":"".concat(r,"-share-with-all-orgs-radio-btn")}),c.createElement(xn.M,{mode:"wait"},N===Gn.yx.SELECTED&&c.createElement(Pn.E.div,{key:"selected-orgs-block",initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3}},c.createElement(Qn,{selectedRoles:k,setSelectedRoles:D,administratorRole:null==p?void 0:p.Resources[0],onRoleChange:function(e,t){var n=Wn({},H);if(Object.keys(n).forEach((function(r){n[r]=n[r].map((function(n){return n.displayName===e.displayName?Wn(Wn({},n),{},{selected:t}):n}))})),B(n),t){var r=Wn({},q);Object.keys(r).forEach((function(t){r[t]=r[t].filter((function(t){return t.displayName!==e.displayName}))})),$(r)}else{var o=Wn({},F);Object.keys(o).forEach((function(t){o[t]=o[t].filter((function(t){return t.displayName!==e.displayName}))})),z(o)}}}))),c.createElement(lt.Z,{severity:"info",className:"mt-1 mb-2"},i("consoleSettings:sharedAccess.sharingRolesTakeTimeMessage")),c.createElement(Nn.Z,{applicationId:l,applicationRolesList:null==S?void 0:S.Resources,addedRoles:F,setAddedRoles:z,removedRoles:q,setRemovedRoles:$,roleSelections:H,setRoleSelections:B,disableOrgSelection:!0,clearAdvancedRoleSharing:Y,shareAllRoles:!1,enableAdminRole:!0,newlyAddedCommonRoles:(0,Un.Z)(k,_,"displayName"),newlyRemovedCommonRoles:(0,Un.Z)(_,k,"displayName")}))),c.createElement(wn.Z,{className:"mt-5","data-componentid":"".concat(r,"-save-button"),variant:"contained",size:"small",disabled:m,onClick:function(){return ne()}},i("common:save")))))};var er=n(13692),tr=n(99449),nr={};nr.styleTagTransform=de(),nr.setAttributes=le(),nr.insert=ie().bind(null,"head"),nr.domAPI=re(),nr.insertStyleElement=ce();te()(tr.Z,nr);tr.Z&&tr.Z.locals&&tr.Z.locals;function rr(e){return rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rr(e)}function or(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ir(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ir(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ar(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ar(Object(n),!0).forEach((function(t){sr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ar(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=rr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rr(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cr=function(e){var t,n,r=e["data-componentid"],o=(0,u.$)().t,i=(0,v.z)(),a=i.isFirstLevelOrganization,l=i.isSubOrganization,s=i.isSuperOrganization,h=(0,d.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.consoleSettings})),y=!(null!=h&&null!==(t=h.disabledFeatures)&&void 0!==t&&t.includes("consoleSettings.firstLevelOrgloginFlowConfiguration")),g=null==h||null===(n=h.disabledFeatures)||void 0===n?void 0:n.includes("consoleSettings.sharedAccess"),b=(0,c.useMemo)((function(){return!!s()||(!(!y||!a())||!!l())}),[l,s,a]),E=(0,c.useMemo)((function(){return[{className:"administrators-list","data-componentid":"".concat(r,"-tab-administrators"),"data-tabid":er.w.ADMINISTRATORS,id:er.w.ADMINISTRATORS,label:o("consoleSettings:administrators.tabLabel"),pane:c.createElement(kt,null),value:er.n.ADMINISTRATORS},{className:"console-roles-list","data-componentid":"".concat(r,"-tab-roles"),"data-tabid":er.w.ROLES,id:er.w.ROLES,label:o("consoleSettings:roles.tabLabel"),pane:c.createElement(Rn,null),value:er.n.ROLES},b&&{className:"console-security","data-componentid":"".concat(r,"-tab-login-flow"),"data-tabid":er.w.LOGIN_FLOW,id:er.w.LOGIN_FLOW,label:o("consoleSettings:loginFlow.tabLabel"),pane:c.createElement(Wt,null),value:er.n.LOGIN_FLOW},!l()&&{className:"console-protocol","data-componentid":"".concat(r,"-tab-protocol"),"data-tabid":er.w.PROTOCOL,hidden:!0,id:er.w.PROTOCOL,label:o("consoleSettings:protocol.tabLabel"),pane:c.createElement(Yt,null),value:er.n.PROTOCOL},!l()&&!g&&{className:"console-shared-access","data-componentid":"".concat(r,"-tab-shared-access"),"data-tabid":er.w.SHARED_ACCESS,hidden:!1,id:er.w.SHARED_ACCESS,label:o("consoleSettings:sharedAccess.tabLabel"),pane:c.createElement(Jn,null),value:er.n.SHARED_ACCESS}].filter((function(e){return e&&!(null!=e&&e.hidden)})).map((function(e,t){return lr(lr({},e),{},{value:t})}))}),[]),S=function(){var e=E.find((function(e){return location.hash==="#tab=".concat(e.id)}));return e?e.value:E[0].value},A=or((0,c.useState)(S()),2),O=A[0],R=A[1];(0,c.useEffect)((function(){var e=function(){R(S())};return window.addEventListener("hashchange",e),function(){window.removeEventListener("hashchange",e)}}),[]);return c.createElement("div",{className:"console-settings-tabs"},c.createElement(p.Z,{value:O,onChange:function(e,t){location.hash="#tab=".concat(E[t].id)}},E.map((function(e){return e.hidden?null:c.createElement(m.Z,{key:e.value,label:e.label})}))),E.map((function(e,t){return c.createElement(f.Z,{key:e.value,value:O,index:t,className:e.className,"data-componentid":e["data-componentid"]},e.pane)})))};cr.defaultProps={"data-componentid":"console-settings-tab"};const ur=cr;var dr=n(6567),mr=n(39709),fr=n(90236);const pr=function(e){var t=e.children,n=(0,dr.Ok)(null,null,null,"name eq Console").data,r=(0,c.useMemo)((function(){var e;return null==n||null===(e=n.applications[0])||void 0===e?void 0:e.id}),[n]),o=(0,mr.b)(r,!!r),i=o.data,a=o.mutate,l=o.isLoading,s=(0,fr.Z)(r,"oidc",!!r),u=s.data,d=s.mutate,m=s.isLoading;return c.createElement(ge.Provider,{value:{consoleAuthenticationSequence:null==i?void 0:i.authenticationSequence,consoleConfigurations:i,consoleDisplayName:null==i?void 0:i.name,consoleId:r,consoleInboundConfigurations:u,isConsoleApplicationInboundConfigsFetchRequestLoading:m,isConsoleConfigurationsFetchRequestLoading:l,mutateConsoleApplicationInboundConfigs:d,mutateConsoleConfigurations:a,updateConsoleLoginFlow:function(e){return(0,dr.TH)(r,{authenticationSequence:e,name:Xt.jo.CONSOLE_APP_NAME})}}},t)};var vr=n(95486),hr={};hr.styleTagTransform=de(),hr.setAttributes=le(),hr.insert=ie().bind(null,"head"),hr.domAPI=re(),hr.insertStyleElement=ce();te()(vr.Z,hr);vr.Z&&vr.Z.locals&&vr.Z.locals;function yr(e){return yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yr(e)}function gr(){gr=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),l=new N(r||[]);return o(a,"_invoke",{value:I(e,n,l)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",p="executing",v="completed",h={};function y(){}function g(){}function b(){}var E={};c(E,a,(function(){return this}));var S=Object.getPrototypeOf,A=S&&S(S(x([])));A&&A!==n&&r.call(A,a)&&(E=A);var O=b.prototype=y.prototype=Object.create(E);function R(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,i,a,l){var s=d(e[o],e,i);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==yr(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,l)}))}l(s.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function I(t,n,r){var o=m;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var l=r.delegate;if(l){var s=C(l,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===m)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?v:f,c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=v,r.method="throw",r.arg=c.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,h;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function x(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(yr(t)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=c(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,s,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},R(w.prototype),c(w.prototype,l,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},R(O),c(O,s,"Generator"),c(O,a,(function(){return this})),c(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=x,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return l.type="throw",l.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:x(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),h}},t}function br(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function Er(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){br(i,r,o,a,l,"next",e)}function l(e){br(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Sr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ar(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ar(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ar(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Or=function(e){var t=e["data-componentid"],n=Sr((0,c.useState)(!1),2),m=n[0],f=n[1],p=(0,d.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.deployment)||void 0===t?void 0:t.clientHost})),v=(0,u.$)().t,h=(0,s.fQ)().getLink;return c.createElement(pr,null,c.createElement(s.Xg,{pageTitle:"Console Settings",title:"Console Settings",description:c.createElement(c.Fragment,null,"Configure settings related to your Console",c.createElement(s.eb,{link:h("manage.administrators.learnMore"),showEmptyLink:!1},v("common:learnMore"))),"data-componentid":"".concat(t,"-page-layout"),action:c.createElement(o.Z,{label:"Console URL",id:"filled-start-adornment",InputProps:{endAdornment:c.createElement(i.Z,{title:v(m?"common:copied":"common:copyToClipboard")},c.createElement("div",null,c.createElement(r.Z,{"aria-label":"Reset field to default",className:"reset-field-to-default-adornment",onMouseEnter:function(){f(!1)},onClick:Er(gr().mark((function e(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.CommonUtils.copyTextToClipboard(p);case 2:f(!0);case 3:case"end":return e.stop()}}),e)}))),edge:"end"},c.createElement(a.TI,{size:12})))),readOnly:!0},value:p,className:"console-url-copy-field"})},c.createElement(ur,null)))};Or.defaultProps={"data-componentid":"console-settings-page"};const Rr=Or},2123:(e,t,n)=>{n.d(t,{O:()=>l,h:()=>s});var r=n(2292),o=n(76271),i=n(6833),a=r.AsgardeoSPAClient.getInstance().httpRequest.bind(r.AsgardeoSPAClient.getInstance()),l=function(e){var t={data:e,headers:{"Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:i.f2.POST,url:o.h.getState().config.endpoints.guests};return a(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},s=function(e){var t={headers:{"Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:i.f2.DELETE,url:o.h.getState().config.endpoints.guestsList+"/"+e};return a(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}},17370:(e,t,n)=>{n.d(t,{M:()=>a});var r=n(96124),o=n(76271),i=n(6833),a=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={headers:{"Content-Type":"application/json"},method:i.f2.GET,url:o.h.getState().config.endpoints.guestsList},n=(0,r.Z)(e?t:null),a=n.data,l=n.error;return{data:a,error:l,isLoading:!l&&!a,isValidating:n.isValidating,mutate:n.mutate}}},69005:(e,t,n)=>{n.d(t,{Px:()=>r,YV:()=>o,jI:()=>i});var r=function(e){return e.EVERYONE="everyone",e.SYSTEM="system",e.SELFSIGNUP="selfsignup",e}({}),o=function(e){return e.SUCCESS="Successful",e.FAIL="Failed",e}({}),i=function(e){return e.ERROR_CODE_USER_NOT_FOUND="OUI-10011",e.ERROR_CODE_ACTIVE_INVITATION_EXISTS="OUI-10018",e.ERROR_CODE_INVITED_USER_EMAIL_NOT_FOUND="OUI-10030",e.ERROR_CODE_USER_ALREADY_EXISTS_INVITED_ORGANIZATION="OUI-10032",e}({})},6643:(e,t,n)=>{n.d(t,{CU:()=>r.CU,Dy:()=>r.Dy,F2:()=>o.F2,I_:()=>r.I_,KZ:()=>r.KZ,P_:()=>o.P_,QH:()=>r.QH,_g:()=>r._g,al:()=>r.al,t$:()=>r.t$});var r=n(22669),o=n(51318)},13932:(e,t,n)=>{n.d(t,{r:()=>s});var r,o=n(44194),i=["title","titleId"];function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(null,arguments)}var l=function(e,t){var n=e.title,l=e.titleId,s=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,i);return o.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",className:"icon",width:24,height:24,viewBox:"0 0 24 24",ref:t,"aria-labelledby":l},s),n?o.createElement("title",{id:l},n):null,r||(r=o.createElement("path",{id:"remove-circle",d:"M7,14a7,7,0,1,1,7-7A7.008,7.008,0,0,1,7,14ZM3.5,6.69v.6h7v-.6Z"})))},s=(0,o.forwardRef)(l);n.p},78779:(e,t,n)=>{n.d(t,{r:()=>s});var r,o=n(44194),i=["title","titleId"];function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(null,arguments)}var l=function(e,t){var n=e.title,l=e.titleId,s=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,i);return o.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",className:"icon",width:24,height:24,viewBox:"0 0 24 24",ref:t,"aria-labelledby":l},s),n?o.createElement("title",{id:l},n):null,r||(r=o.createElement("path",{d:"M12,22a7,7,0,0,0,5-11.894V7A5,5,0,0,0,7,7v3.106A7,7,0,0,0,12,22Zm1-6.277V18a1,1,0,0,1-2,0V15.723a2,2,0,1,1,2,0ZM9,7a3,3,0,0,1,6,0V8.683a6.93,6.93,0,0,0-6,0Z"})))},s=(0,o.forwardRef)(l);n.p},44438:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(81611),o=n.n(r),i=n(83948),a=n.n(i)()(o());a.push([e.id,".add-existing-user-wizard .oxygen-autocomplete{padding-top:0;padding-bottom:0}.add-existing-user-wizard .add-existing-user-wizard-form .oxygen-form-helper-text:not(:last-child){margin-bottom:2rem}",""]);const l=a},30169:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(81611),o=n.n(r),i=n(83948),a=n.n(i)()(o());a.push([e.id,".console-administrators-table .role-tag-list{display:flex;gap:5px;flex-wrap:wrap;flex-direction:row;justify-content:flex-start;align-items:center}.add-administrator-dropdown-trigger.ui.button>.icon:not(.button).add-administrator-dropdown-chevron{margin-left:1rem;margin-right:0}",""]);const l=a},46832:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(81611),o=n.n(r),i=n(83948),a=n.n(i)()(o());a.push([e.id,".invite-new-administrator-wizard .root-invite-only-disclaimer-alert{margin-bottom:1.5rem}.invite-new-administrator-wizard .oxygen-autocomplete{padding-top:0;padding-bottom:0}.invite-new-administrator-wizard .invite-parent-user-wizard-form .oxygen-form-helper-text:not(:last-child){margin-bottom:2rem}",""]);const l=a},48059:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(81611),o=n.n(r),i=n(83948),a=n.n(i)()(o());a.push([e.id,".console-login-flow{position:relative}",""]);const l=a},99449:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(81611),o=n.n(r),i=n(83948),a=n.n(i)()(o());a.push([e.id,".console-settings-tabs .oxygen-tab-panel .list-layout{margin-top:2rem}.console-settings-tabs .console-roles-list .top-action-panel,.console-settings-tabs .administrators-list .top-action-panel{display:flex;flex-direction:row-reverse;flex-wrap:nowrap;align-content:center;justify-content:flex-start;align-items:center;gap:10px}.console-settings-tabs .console-roles-list .top-action-panel>.ui.grid,.console-settings-tabs .administrators-list .top-action-panel>.ui.grid{flex-grow:1}.console-settings-tabs .multi-option-radio-group{gap:40px;margin:20px 0}",""]);const l=a},3730:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(81611),o=n.n(r),i=n(83948),a=n.n(i)()(o());a.push([e.id,".console-roles-share-with-all-autocomplete{margin-bottom:1rem}",""]);const l=a},95486:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(81611),o=n.n(r),i=n(83948),a=n.n(i)()(o());a.push([e.id,".console-url-copy-field{display:flex;flex-direction:row;align-content:center;justify-content:center;align-items:center;flex-wrap:nowrap;gap:15px}.console-url-copy-field .MuiInputBase-root{min-width:400px}.console-url-copy-field .MuiInputBase-root.Mui-readOnly{cursor:default;background-color:#e9ecef !important}",""]);const l=a}}]);