"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[621],{621:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var a=n(60486),i=n(40838),l=n(51021),r=n(58613),o=n(6833),c=n(82406),d=n(78132),u=n(44194),s=n(10479),m=n(47245),p=n(93682),f=n(6894),v=n(92522),g=n(70104);function b(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||E(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,l,r,o=[],c=!0,d=!1;try{if(l=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=l.call(n)).done)&&(o.push(a.value),o.length!==t);c=!0);}catch(e){d=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(d)throw i}}return o}}(e,t)||E(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){if(e){if("string"==typeof e)return A(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var I=function(e){var t,n=e.match,E=e["data-testid"],A=(0,m.I0)(),I=(0,s.$)().t,h=(0,r.Z)(),S=h.isLoading,L=h.mutateUserStoreList,T=h.userStoresList,P=n.params.id,R=(0,m.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.hiddenUserStores})),w=(0,m.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.systemReservedUserStores})),M=(0,m.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.primaryUserStoreDomainName})),O=y((0,u.useState)(null),2),U=O[0],k=O[1],N=y((0,u.useState)(!1),2),$=N[0],C=N[1],_=g.Tc.GENERAL,G=(0,u.useMemo)((function(){var e=[];if((null===l.wO||void 0===l.wO?void 0:l.wO.primaryUserstoreName)===M&&e.push({id:M,name:M}),!S&&(null==T?void 0:T.length)>0){var t=T.filter((function(e){return!(null!=R&&R.includes(null==e?void 0:e.name)||null!=w&&w.includes(null==e?void 0:e.name))}));e.push.apply(e,b(t))}return e}),[S,T]);(0,u.useEffect)((function(){Z(),L()}),[]);var j,x,B,D,Z=function(){C(!0),(0,f.IG)(P).then((function(e){k(e)})).catch((function(e){A((0,c.V_)({description:(null==e?void 0:e.description)||I("claims:local.notifications.getAClaim.genericError.description"),level:o.QU.ERROR,message:(null==e?void 0:e.message)||I("claims:local.notifications.getAClaim.genericError.message")}))})).finally((function(){C(!1)}))},z=[{componentId:"general","data-tabid":g.Tc.GENERAL,menuItem:I("claims:local.pageLayout.edit.tabs.general"),render:function(){return u.createElement(d.M$.Pane,{controlledSegmentation:!0},u.createElement(v.A4,{claim:U,update:Z,"data-testid":"local-claims-basic-details-edit"}))}},{componentId:"attribute-mappings","data-tabid":g.Tc.ATTRIBUTE_MAPPINGS,menuItem:I("claims:local.pageLayout.edit.tabs.mappedAttributes"),render:function(){return u.createElement(d.M$.Pane,{controlledSegmentation:!0},u.createElement(v.AI,{claim:U,update:Z,userStores:G,"data-componentid":"".concat(E,"-edit-local-claims-mapped-attributes")}))}},{componentId:"additional-properties","data-tabid":g.Tc.ADDITIONAL_PROPERTIES,menuItem:I("claims:local.pageLayout.edit.tabs.additionalProperties"),render:function(){return u.createElement(d.M$.Pane,{controlledSegmentation:!0},u.createElement(v.ZW,{claim:U,update:Z,"data-testid":"".concat(E,"-edit-local-claims-additional-properties")}))}}],Q=[{componentId:"general","data-tabid":g.Tc.GENERAL,menuItem:I("claims:local.pageLayout.edit.tabs.general"),render:function(){return u.createElement(d.M$.Pane,{controlledSegmentation:!0},u.createElement(v.A4,{claim:U,update:Z,"data-testid":"local-claims-basic-details-edit"}))}},{componentId:"attribute-mappings","data-tabid":g.Tc.ATTRIBUTE_MAPPINGS,menuItem:I("claims:local.pageLayout.edit.tabs.mappedAttributes"),render:function(){return u.createElement(d.M$.Pane,{controlledSegmentation:!0},u.createElement(v.AI,{claim:U,update:Z,userStores:G,"data-componentid":"".concat(E,"-edit-local-claims-mapped-attributes")}))}}];return u.createElement(d.O9,{isLoading:$,image:u.createElement(p.Z,{floated:"left",verticalAlign:"middle",rounded:!0,centered:!0,size:"tiny"},u.createElement(d.Xo,null),u.createElement("span",{className:"claims-letter"},U&&(j=null==U?void 0:U.claimURI,D=null==j||null===(x=j.replace("http://",""))||void 0===x?void 0:x.split("/"),null===(B=D[(null==D?void 0:D.length)-1][0])||void 0===B?void 0:B.toLocaleUpperCase()))),title:null==U?void 0:U.displayName,pageTitle:"Edit Attributes",description:I("claims:local.pageLayout.edit.description"),backButton:{onClick:function(){i.m.push(a.$.getPaths().get("LOCAL_CLAIMS"))},text:I("claims:local.pageLayout.edit.back")},titleTextAlign:"left",bottomMargin:!1,"data-testid":"".concat(E,"-page-layout")},null!==l.rk&&void 0!==l.rk&&null!==(t=l.rk.attributes)&&void 0!==t&&t.showEditTabs?u.createElement(d.M$,{isLoading:$,panes:z,controlTabRedirectionInternally:!0,defaultActiveIndex:_,"data-testid":"".concat(E,"-tabs")}):(null==G?void 0:G.length)>=1?u.createElement(d.M$,{isLoading:$,panes:Q,controlTabRedirectionInternally:!0,defaultActiveIndex:_,"data-testid":"".concat(E,"-tabs")}):u.createElement(v.A4,{claim:U,update:Z,"data-testid":"local-claims-basic-details-edit"}))};I.defaultProps={"data-testid":"edit-local-claims"};const h=I}}]);