"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[4944],{23800:(e,n,t)=>{t.d(n,{Z:()=>Z});var o=t(55467),a=t(25340),r=t(44194),i=t(14517),s=t(60391),l=t(87883);function c(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function g(e){return parseFloat(e)}var m=t(24731),u=t(49706),d=t(62808),f=t(99769),h=t(90757);function p(e){return(0,h.ZP)("MuiSkeleton",e)}(0,f.Z)("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);var v=t(31549);const b=["animation","className","component","height","style","variant","width"];let C,L,y,P,S=e=>e;const E=(0,s.F4)(C||(C=S`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),w=(0,s.F4)(L||(L=S`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),T=(0,u.ZP)("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,n[t.variant],!1!==t.animation&&n[t.animation],t.hasChildren&&n.withChildren,t.hasChildren&&!t.width&&n.fitContent,t.hasChildren&&!t.height&&n.heightAuto]}})((({theme:e,ownerState:n})=>{const t=c(e.shape.borderRadius)||"px",o=g(e.shape.borderRadius);return(0,a.Z)({display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:(0,m.Fq)(e.palette.text.primary,"light"===e.palette.mode?.11:.13),height:"1.2em"},"text"===n.variant&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${o}${t}/${Math.round(o/.6*10)/10}${t}`,"&:empty:before":{content:'"\\00a0"'}},"circular"===n.variant&&{borderRadius:"50%"},"rounded"===n.variant&&{borderRadius:(e.vars||e).shape.borderRadius},n.hasChildren&&{"& > *":{visibility:"hidden"}},n.hasChildren&&!n.width&&{maxWidth:"fit-content"},n.hasChildren&&!n.height&&{height:"auto"})}),(({ownerState:e})=>"pulse"===e.animation&&(0,s.iv)(y||(y=S`
      animation: ${0} 1.5s ease-in-out 0.5s infinite;
    `),E)),(({ownerState:e,theme:n})=>"wave"===e.animation&&(0,s.iv)(P||(P=S`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 1.6s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),w,(n.vars||n).palette.action.hover))),Z=r.forwardRef((function(e,n){const t=(0,d.Z)({props:e,name:"MuiSkeleton"}),{animation:r="pulse",className:s,component:c="span",height:g,style:m,variant:u="text",width:f}=t,h=(0,o.Z)(t,b),C=(0,a.Z)({},t,{animation:r,component:c,variant:u,hasChildren:Boolean(h.children)}),L=(e=>{const{classes:n,variant:t,animation:o,hasChildren:a,width:r,height:i}=e,s={root:["root",t,o,a&&"withChildren",a&&!r&&"fitContent",a&&!i&&"heightAuto"]};return(0,l.Z)(s,p,n)})(C);return(0,v.jsx)(T,(0,a.Z)({as:c,ref:n,className:(0,i.Z)(L.root,s),ownerState:C},h,{style:(0,a.Z)({width:f,height:g},m)}))}))},56080:(e,n,t)=>{t.d(n,{h:()=>o});var o=function(e){return e.AUDIT="AUDIT",e.DIAGNOSTICS="DIAGNOSTICS",e}({})},94944:(e,n,t)=>{t.r(n),t.d(n,{default:()=>X});var o=t(60486),a=t(40838),r=t(78132),i=t(44194),s=t(10479),l=t(96124),c=t(76271),g=t(6833);const m=function(){var e,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,o={method:g.f2.GET,url:"".concat(c.h.getState().config.endpoints.remoteLogPublishEndpoint,"/").concat(t)},a=(0,l.Z)(n?o:null),r=a.data,i=a.error,s=a.isLoading,m=a.isValidating,u=a.mutate;return{data:404===(null==i||null===(e=i.response)||void 0===e?void 0:e.status)?{}:r,error:i,isLoading:s,isValidating:m,mutate:u}};var u=t(31551),d=t(33852),f=t(80750),h=t(72711),p=t(72445),v=t(82406),b=t(79438),C=t(34194),L=t(42005),y=t(37065),P=t(47245),S=t(2292),E=S.AsgardeoSPAClient.getInstance().httpRequest.bind(S.AsgardeoSPAClient.getInstance());const w=function(e){var n={headers:{"Content-Type":"application/json"},method:g.f2.DELETE,url:"".concat(c.h.getState().config.endpoints.remoteLogPublishEndpoint,"/").concat(e)};return E(n).then((function(e){return Promise.resolve(e.data)})).catch((function(e){throw e}))};var T=S.AsgardeoSPAClient.getInstance().httpRequest.bind(S.AsgardeoSPAClient.getInstance());const Z=function(e){var n={data:e,headers:{"Content-Type":"application/json"},method:arguments.length>1&&void 0!==arguments[1]&&arguments[1]?g.f2.POST:g.f2.PUT,url:c.h.getState().config.endpoints.remoteLogPublishEndpoint};return T(n).then((function(e){return Promise.resolve(e.data)})).catch((function(e){throw e}))};const x=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0,t={method:g.f2.GET,url:"".concat(c.h.getState().config.endpoints.remoteLogPublishEndpoint,"/").concat(n,"/test")},o=(0,l.Z)(e?t:null);return{data:o.data,error:o.error,isLoading:o.isLoading,isValidating:o.isValidating,mutate:o.mutate}};var k=t(51835),A=t.n(k),I=t(27975),R=t.n(I),N=t(55900),M=t.n(N),U=t(21555),O=t.n(U),V=t(3621),j=t.n(V),D=t(5062),_=t.n(D),q=t(32184),$={};$.styleTagTransform=_(),$.setAttributes=O(),$.insert=M().bind(null,"head"),$.domAPI=R(),$.insertStyleElement=j();A()(q.Z,$);q.Z&&q.Z.locals&&q.Z.locals;function F(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,a,r,i,s=[],l=!0,c=!1;try{if(r=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;l=!1}else for(;!(l=(o=r.call(t)).done)&&(s.push(o.value),s.length!==n);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,n)||function(e,n){if(e){if("string"==typeof e)return G(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?G(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=Array(n);t<n;t++)o[t]=e[t];return o}const B=function(e){var n=e.logType,t=e.initialData,o=e.mutateRemoteLoggingRequest,a=e.isLoading,l=e["data-componentid"],c=void 0===l?"remote-logging-config-form":l,m=F((0,i.useState)(!1),2),S=m[0],E=m[1],T=(0,P.I0)(),k=(0,s.$)().t,A=F((0,i.useState)(!1),2),I=A[0],R=A[1],N=x(I,n),M=N.isLoading,U=N.mutate,O=function(){R(!0),U()};return a?i.createElement(d.Z,{className:"remote-logging-content"},i.createElement("div",{className:"remote-logging-form"},i.createElement(p.Z,{direction:"column",spacing:2},i.createElement(h.Z,{variant:"rectangular",height:7,width:"30%"}),i.createElement(h.Z,{variant:"rectangular",height:28}),i.createElement(h.Z,{variant:"rectangular",height:7,width:"90%"}),i.createElement(h.Z,{variant:"rectangular",height:7})))):i.createElement(i.Fragment,null,i.createElement(d.Z,{className:"remote-logging-content"},i.createElement("div",{className:"remote-logging-form"},i.createElement(f.Z,{xs:12,md:8,lg:4},i.createElement(b.vy,{onSubmit:function(e){return(a=e).connectTimeoutMillis||(a.connectTimeoutMillis=1e3),a.logType=n,void Z(a,!t||0===Object.keys(t).length).then((function(){o(),T((0,v.V_)({description:k("console:manage.features.serverConfigs.remoteLogPublishing.notification.success.description"),level:g.QU.SUCCESS,message:k("console:manage.features.serverConfigs.remoteLogPublishing.notification.success.message")}))})).catch((function(e){T((0,v.V_)({description:k("console:manage.features.serverConfigs.remoteLogPublishing.notification.error.updateError.description"),level:g.QU.ERROR,message:k("console:manage.features.serverConfigs.remoteLogPublishing.notification.error.updateError.message")}))}));var a},"data-componentid":"".concat(c,"-").concat(n),initialValues:t,validate:function(e){var n={};return e.url?C.I.url(e.url.toString())||(n.url=k("console:manage.features.serverConfigs.remoteLogPublishing.fields.remoteURL.error.invalid")):n.url=k("console:manage.features.serverConfigs.remoteLogPublishing.fields.remoteURL.error.required"),e.publishInterval?parseInt(e.publishInterval.toString())<15&&(n.publishInterval=k("console:manage.features.serverConfigs.remoteLogPublishing.fields.publishInterval.error.invalid")):n.publishInterval=k("console:manage.features.serverConfigs.remoteLogPublishing.fields.publishInterval.error.required"),e.connectTimeoutMillis&&(parseInt(e.connectTimeoutMillis.toString())<1e3||parseInt(e.connectTimeoutMillis.toString())>6e4)&&(n.connectTimeoutMillis=k("console:manage.features.serverConfigs.remoteLogPublishing.fields.advanced.connectionTimeout.error.invalid")),n},render:function(e){var n=e.handleSubmit;return i.createElement("form",{onSubmit:n},i.createElement(b.SE,{key:"url",FormControlProps:{margin:"dense"},width:16,className:"text-field-container",ariaLabel:"url",required:!0,"data-componentid":"".concat(c,"-url"),name:"url",type:"text",label:k("console:manage.features.serverConfigs.remoteLogPublishing.fields.remoteURL.label"),placeholder:k("console:manage.features.serverConfigs.remoteLogPublishing.fields.remoteURL.placeholder"),component:b.xh,maxLength:100,minLength:0}),i.createElement(b.SE,{key:"publishInterval",width:16,className:"text-field-container form-field-margin-top",ariaLabel:"publishInterval",required:!0,"data-componentid":"".concat(c,"-publishInterval"),name:"publishInterval",type:"number",label:k("console:manage.features.serverConfigs.remoteLogPublishing.fields.publishInterval.label"),placeholder:k("console:manage.features.serverConfigs.remoteLogPublishing.fields.publishInterval.placeholder"),component:b.xh,maxLength:100,minLength:0,minValue:15,maxValue:1440}),i.createElement(b.SE,{key:"connectTimeoutMillis",width:16,className:"text-field-container form-field-margin-top",ariaLabel:"connectTimeoutMillis","data-componentid":"".concat(c,"-connectTimeoutMillis"),name:"connectTimeoutMillis",type:"number",label:k("console:manage.features.serverConfigs.remoteLogPublishing.fields.advanced.connectionTimeout.label"),placeholder:k("console:manage.features.serverConfigs.remoteLogPublishing.fields.advanced.connectionTimeout.placeholder"),component:b.xh,maxLength:100,minLength:0,minValue:1e3,maxValue:6e4}),i.createElement(b.SE,{"data-componentid":"".concat(c,"-verifyHostname"),name:"verifyHostname",label:k("console:manage.features.serverConfigs.remoteLogPublishing.fields.advanced.verifyHostname.label"),component:b.ur}),i.createElement(r.X6,{as:"h5",bold:"500"},k("console:manage.features.serverConfigs.remoteLogPublishing.fields.advanced.basicAuthConfig.title")),i.createElement(b.SE,{key:"username",FormControlProps:{margin:"dense"},width:16,className:"text-field-container form-field-margin-top",ariaLabel:"username",required:!1,"data-componentid":"".concat(c,"-username"),name:"username",type:"text",label:k("console:manage.features.serverConfigs.remoteLogPublishing.fields.advanced.basicAuthConfig.serverUsername.label"),placeholder:k("console:manage.features.serverConfigs.remoteLogPublishing.fields.advanced.basicAuthConfig.serverUsername.placeholder"),component:b.xh,maxLength:100,minLength:0}),i.createElement(b.SE,{key:"password",FormControlProps:{margin:"dense"},width:16,className:"text-field-container form-field-margin-top",ariaLabel:"password",required:!1,"data-componentid":"".concat(c,"-password"),name:"password",type:"password",label:k("console:manage.features.serverConfigs.remoteLogPublishing.fields.advanced.basicAuthConfig.serverPassword.label"),placeholder:k("console:manage.features.serverConfigs.remoteLogPublishing.fields.advanced.basicAuthConfig.serverPassword.placeholder"),component:b.xh,maxLength:100,minLength:0}),i.createElement(u.Z,{size:"medium",variant:"contained",onClick:n,className:"button-container form-field-margin-top","data-componentid":"".concat(c,"-submit-button"),loading:a},k("common:update")),i.createElement(u.Z,{size:"medium",variant:"contained",onClick:O,className:"button-container form-field-margin-top form-field-margin-left","data-componentid":"".concat(c,"-test-button"),loading:M,disabled:!t||0===Object.keys(t).length},k("console:manage.features.serverConfigs.remoteLogPublishing.testButtonText")))}})))),i.createElement(r.v9,{sectionHeader:k("applications:dangerZoneGroup.header")},i.createElement(r.cN,{isButtonDisabled:!t||0===Object.keys(t).length,"data-componentid":"".concat(c,"-danger-zone"),actionTitle:k("console:manage.features.serverConfigs.remoteLogPublishing.dangerZone.title",{logType:(0,L.Z)((0,y.Z)(n))}),buttonText:k("console:manage.features.serverConfigs.remoteLogPublishing.dangerZone.button"),header:k("console:manage.features.serverConfigs.remoteLogPublishing.dangerZone.header",{logType:(0,L.Z)((0,y.Z)(n))}),subheader:k("console:manage.features.serverConfigs.remoteLogPublishing.dangerZone.subheader",{logType:(0,y.Z)(n)}),onActionClick:function(){E(!0)}})),i.createElement(r.cV,{onClose:function(){return E(!1)},type:"negative",open:S,assertionHint:k("console:manage.features.serverConfigs.remoteLogPublishing.dangerZone.confirmation.hint"),assertionType:"checkbox",primaryAction:k("common:confirm"),secondaryAction:k("common:cancel"),onSecondaryActionClick:function(){E(!1)},onPrimaryActionClick:function(){w(n).then((function(){E(!1),o(),T((0,v.V_)({description:k("console:manage.features.serverConfigs.remoteLogPublishing.notification.success.description"),level:g.QU.SUCCESS,message:k("console:manage.features.serverConfigs.remoteLogPublishing.notification.success.message")}))})).catch((function(e){T((0,v.V_)({description:k("console:manage.features.serverConfigs.remoteLogPublishing.notification.error.updateError.description"),level:g.QU.ERROR,message:k("console:manage.features.serverConfigs.remoteLogPublishing.notification.error.updateError.message")}))}))},"data-componentid":"remote-logging-delete-confirmation-modal",closeOnDimmerClick:!1},i.createElement(r.cV.Header,{"data-componentid":"remote-logging-delete-confirmation-modal-header"},k("console:manage.features.serverConfigs.remoteLogPublishing.dangerZone.confirmation.header")),i.createElement(r.cV.Message,{attached:!0,negative:!0,"data-componentid":"remote-logging-delete-confirmation-modal-message"},k("console:manage.features.serverConfigs.remoteLogPublishing.dangerZone.confirmation.message",{logType:(0,y.Z)(n)})),i.createElement(r.cV.Content,{"data-componentid":"remote-logging-delete-confirmation-modal-content"},k("console:manage.features.serverConfigs.remoteLogPublishing.dangerZone.confirmation.content",{logType:(0,y.Z)(n)}))))};var H=t(56080);const X=function(e){var n=e["data-componentid"],t=void 0===n?"logs-settings-configuration-page":n,l=(0,s.$)().t,c=(0,i.useMemo)((function(){var e=a.m.location.pathname.split("/"),n=e[e.length-1];return"audit"===n?H.h.AUDIT:"diagnostics"===n?H.h.DIAGNOSTICS:H.h.AUDIT}),[a.m.location.pathname]),g=m(!0,c),u=g.data,d=g.isLoading,f=g.mutate;return i.createElement(r.Xg,{title:l("console:manage.features.serverConfigs.remoteLogPublishing.title"),pageTitle:l("console:manage.features.serverConfigs.remoteLogPublishing.pageTitle"),description:l("console:manage.features.serverConfigs.remoteLogPublishing.descriptionWithLogType",{logType:c.toLowerCase()}),backButton:{"data-componentid":"".concat(t,"-").concat(c,"-page-back-button"),onClick:function(){a.m.push(o.$.getPaths().get("LOG_SETTINGS"))},text:l("console:manage.features.serverConfigs.remoteLogPublishing.backButtonText")},"data-componentid":"".concat(t,"-layout")},i.createElement(B,{logType:c,initialData:u,mutateRemoteLoggingRequest:f,isLoading:d}))}},72711:(e,n,t)=>{t.d(n,{Z:()=>s});var o=t(92336),a=t(31549),r=t(23800),i=t(14517);const s=(0,t(44194).forwardRef)(((e,n)=>{var{className:t}=e,s=(0,o.__rest)(e,["className"]);return(0,a.jsx)(r.Z,Object.assign({ref:n,className:(0,i.Z)("oxygen-skeleton","OxygenSkeleton-root",t)},s))}))},32184:(e,n,t)=>{t.d(n,{Z:()=>s});var o=t(81611),a=t.n(o),r=t(83948),i=t.n(r)()(a());i.push([e.id,".remote-logging-content{padding:var(--oxygen-spacing-5) var(--oxygen-spacing-6);margin-bottom:var(--oxygen-spacing-4)}.remote-logging-content .remote-logging-form{max-width:var(--wso2is-admin-form-max-width)}.remote-logging-content .remote-logging-form .form-field-margin-top{margin-top:.75rem}.remote-logging-content .remote-logging-form .form-field-margin-left{margin-left:.75rem}",""]);const s=i},37065:(e,n,t)=>{t.d(n,{Z:()=>a});var o=t(30601);const a=function(e){return(0,o.Z)(e).toLowerCase()}}}]);