"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[8353],{38353:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});var r=n(55007),a=n(60486),o=n(40838),i=n(36940),s=n(6833),u=n(82406),l=n(78132),c=n(50699),d=n(44194),p=n(10479),f=n(47245),m=n(11626),g=n(96124),v=n(76271),y=n(51785),h=n(16826),E=n(38463),S=n(1566);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){l=!0,a=e}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var R=function(e){var t,n=e.match,O=e["data-testid"],R=n.params.id,I=b((0,d.useState)(null),2),M=I[0],L=I[1],U=b((0,d.useState)(null),2),_=U[0],T=U[1],A=b((0,d.useState)(null),2),P=A[0],k=A[1],w=b((0,d.useState)(void 0),2),C=w[0],$=w[1],j=(0,f.I0)(),V=(0,p.$)().t,x=(0,f.v9)((function(e){return e.config.ui.features})),Y=(0,r.EV)(null==x||null===(t=x.userStores)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.update),G=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r={headers:{Accept:"application/json","Content-Type":"application/json"},method:s.f2.GET,params:t,url:"".concat(v.h.getState().config.endpoints.userStores,"/meta/types/").concat(e)},a=(0,g.Z)(n?r:null);return{data:a.data,error:a.error,isLoading:a.isLoading,isValidating:a.isValidating,mutate:a.mutate,response:a.response}}(null==M?void 0:M.typeId,null,!(0,c.Z)(null==M?void 0:M.typeId)),N=G.data,Z=G.isLoading,Q=G.error,X=function(){$(!0),(0,m.YZ)(R).then((function(e){L(e)})).catch((function(e){j((0,u.V_)({description:(null==e?void 0:e.description)||V("userstores:notifications.fetchUserstores.genericError.description"),level:s.QU.ERROR,message:(null==e?void 0:e.message)||V("userstores:notifications.fetchUserstores.genericError.message")}))})).finally((function(){$(!1)}))};(0,d.useEffect)((function(){X()}),[]),(0,d.useEffect)((function(){!Z&&N&&(T(N),k((0,S.Y)(N.properties,M.properties)))}),[Z,N]),(0,d.useEffect)((function(){Q&&j((0,u.V_)({description:(null==Q?void 0:Q.name)||V("userstores:notifications.fetchUserstoreMetadata.genericError.description"),level:s.QU.ERROR,message:(null==Q?void 0:Q.message)||V("userstores:notifications.fetchUserstoreMetadata.genericError.message")}))}),[Q]);var q=function(){return!Y},z=[{menuItem:V("userstores:pageLayout.edit.tabs.general"),render:function(){return d.createElement(l.M$.Pane,{controlledSegmentation:!0,attached:!1},d.createElement(y.iq,{readOnly:q(),properties:null==P?void 0:P.basic,userStore:M,update:X,id:R,"data-testid":"".concat(O,"-userstore-basic-details-edit")}))}},{menuItem:R===E.kL?null:V("userstores:pageLayout.edit.tabs.connection"),render:function(){return d.createElement(l.M$.Pane,{controlledSegmentation:!0,attached:!1},d.createElement(y.NY,{readOnly:q(),update:X,type:_,id:R,properties:null==P?void 0:P.connection,"data-testid":"".concat(O,"-userstore-connection-details-edit"),userStore:M}))}},{menuItem:V("userstores:pageLayout.edit.tabs.user"),render:function(){return d.createElement(l.M$.Pane,{controlledSegmentation:!0,attached:!1},d.createElement(y.HD,{readOnly:q(),update:X,id:R,properties:null==P?void 0:P.user,"data-testid":"".concat(O,"-userstore-user-details-edit")}))}},{menuItem:V("userstores:pageLayout.edit.tabs.group"),render:function(){return d.createElement(l.M$.Pane,{controlledSegmentation:!0,attached:!1},d.createElement(y.YV,{readOnly:q(),update:X,type:_,id:R,properties:null==P?void 0:P.group,"data-testid":"".concat(O,"-userstore-group-details-edit")}))}}];return d.createElement(l.O9,{isLoading:C,image:d.createElement(l.dn,{defaultIcon:!0,size:"x60",relaxed:"very",shape:"rounded",hoverable:!1,icon:(0,h.jw)()}),title:(null==M?void 0:M.name)===E.XS?i.ss.CUSTOMER_USER_STORE_MAPPING:null==M?void 0:M.name,pageTitle:(null==M?void 0:M.name)===E.XS?i.ss.CUSTOMER_USER_STORE_MAPPING:null==M?void 0:M.name,description:V("userstores:pageLayout.edit.description"),backButton:{onClick:function(){o.m.push(a.$.getPaths().get("USERSTORES"))},text:V("userstores:pageLayout.edit.back")},titleTextAlign:"left",bottomMargin:!1,"data-testid":"".concat(O,"-page-layout")},d.createElement(l.M$,{isLoading:C,panes:z,onTabChange:function(){X()},"data-testid":"".concat(O,"-tabs")}))};R.defaultProps={"data-testid":"userstores-edit"};const I=R}}]);