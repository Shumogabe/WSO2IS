"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[3564],{11305:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(96124),o=n(76271),a=n(6833);const r=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,s={headers:{Accept:"application/json","Content-Type":"application/json"},method:a.f2.GET,params:{filter:t,limit:r,offset:n},url:"".concat(o.h.getState().config.endpoints.organizations,"/organizations/discovery")},l=(0,i.Z)(e?s:null,{shouldRetryOnError:!1}),c=l.data,u=l.error;return{data:c,error:u,isLoading:!u&&!c,isValidating:l.isValidating,mutate:l.mutate}}},38316:(e,t,n)=>{n.d(t,{w:()=>i});var i=n(68799).r},71108:(e,t,n)=>{n.d(t,{R:()=>u});var i,o=n(60507);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,c(i.key),i)}}function s(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}var u=s((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));i=u,l(u,"ORGANIZATION_DOMAIN_ASSIGN_ERROR_CODE","CON-ODA-10001"),l(u,"ORGANIZATION_DOMAIN_ASSIGN_INVALID_STATUS_CODE_ERROR_CODE","CON-ODA-10002"),l(u,"ORGANIZATION_DOMAIN_ASSIGN_FORM_ID","organization-domain-assign-form"),l(u,"ErrorMessages",{ORGANIZATION_DOMAIN_ASSIGN_ERROR:new o.O(i.ORGANIZATION_DOMAIN_ASSIGN_ERROR_CODE,"An error occurred while assigning email domains for the organization.","Error while assigning domains",null),ORGANIZATION_DOMAIN_ASSIGN_INVALID_STATUS_CODE_ERROR:new o.O(i.ORGANIZATION_DOMAIN_ASSIGN_INVALID_STATUS_CODE_ERROR_CODE,"An invalid status code was received while assigning email domains for the organization.","Invalid status code while assigning domains",null)}),l(u,"FEATURE_DICTIONARY",(new Map).set("ORGANIZATION_DISCOVERY_CREATE","organizationDiscovery.create").set("ORGANIZATION_DISCOVERY_UPDATE","organizationDiscovery.update").set("ORGANIZATION_DISCOVERY_DELETE","organizationDiscovery.delete").set("ORGANIZATION_DISCOVERY_READ","organizationDiscovery.read").set("ORGANIZATION_DISCOVERY_EMAIL_DOMAIN_FOR_SELF_REG","organizationDiscovery.emailDomainDiscoveryForSelfReg"))},83564:(e,t,n)=>{n.r(t),n.d(t,{default:()=>De});var i=n(87172),o=n(55007),a=n(60486),r=n(90302),s=n(40838),l=n(86105),c=n(6833),u=n(82406),d=n(79438),m=n(78132),g=n(44194),f=n(10479),v=n(59673),p=n(47245),y=n(39114),E=n(62508),D=n(73269),O=n(2292),h=n(76271),b=O.AsgardeoSPAClient.getInstance().httpRequest.bind(O.AsgardeoSPAClient.getInstance());const S=function(e){var t={data:e,headers:{"Content-Type":"application/json"},method:c.f2.POST,url:"".concat(h.h.getState().config.endpoints.organizations,"/organization-configs/discovery")};return b(t).then((function(e){return 201!==e.status?Promise.reject(new Error("Failed to add organization discovery configs.")):Promise.resolve(null==e?void 0:e.data)})).catch((function(e){var t;return Promise.reject(null==e||null===(t=e.response)||void 0===t?void 0:t.data)}))};var R=O.AsgardeoSPAClient.getInstance().httpRequest.bind(O.AsgardeoSPAClient.getInstance());const I=function(){var e={headers:{Accept:"application/json","Content-Type":"application/json"},method:"DELETE",url:"".concat(h.h.getState().config.endpoints.organizations,"/organization-configs/discovery")};return R(e).then((function(e){return 204!==(null==e?void 0:e.status)?Promise.reject(new Error("Failed to delete organization discovery configs.")):Promise.resolve(null==e?void 0:e.data)})).catch((function(e){return Promise.reject(e)}))};var _=O.AsgardeoSPAClient.getInstance().httpRequest.bind(O.AsgardeoSPAClient.getInstance());const A=function(e){var t={data:e,headers:{"Content-Type":"application/json"},method:c.f2.PUT,url:"".concat(h.h.getState().config.endpoints.organizations,"/organization-configs/discovery")};return _(t).then((function(e){return 200!==e.status?Promise.reject(new Error("Failed to update organization discovery configs.")):Promise.resolve(null==e?void 0:e.data)})).catch((function(e){var t;return Promise.reject(null==e||null===(t=e.response)||void 0===t?void 0:t.data)}))};var N=n(11305),C=n(96124);function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function T(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,L(i.key),i)}}function P(e,t,n){return t&&T(e.prototype,t),n&&T(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function w(e,t,n){return(t=L(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e){var t=function(e,t){if("object"!=z(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=z(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==z(t)?t:t+""}var M=P((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=V(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=V(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==V(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}w(M,"EMAIL_DOMAIN_DISCOVERY_PROPERTY_KEY","emailDomain.enable"),w(M,"EMAIL_DOMAIN_DISCOVERY_SELF_REG_PROPERTY_KEY","emailDomainBasedSelfSignup.enable"),w(M,"DEFAULT_DISCOVERY_PARAM","defaultParam"),w(M,"ORGANIZATION_DISCOVERY_DOMAINS_NOT_CONFIGURED_ERROR_CODE","OCM-60002");const Y=function(){var e,t,n,i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o={headers:{Accept:"application/json","Content-Type":"application/json"},method:c.f2.GET,url:"".concat(h.h.getState().config.endpoints.organizations,"/organization-configs/discovery")},a=(0,C.Z)(i?o:null,{shouldRetryOnError:!1}),r=a.data,s=a.error,l=a.isValidating,u=a.mutate,d=!1,m=!1;null!=r&&r.properties&&(null===(n=r.properties)||void 0===n||n.forEach((function(e){e.key===M.EMAIL_DOMAIN_DISCOVERY_PROPERTY_KEY&&"true"===e.value&&(d=!0),e.key===M.EMAIL_DOMAIN_DISCOVERY_SELF_REG_PROPERTY_KEY&&"true"===e.value&&(m=!0),e.key===M.DEFAULT_DISCOVERY_PARAM&&(t=e.value)})));return(null==s||null===(e=s.response)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.code)===M.ORGANIZATION_DISCOVERY_DOMAINS_NOT_CONFIGURED_ERROR_CODE?{data:k({isOrganizationDiscoveryEnabled:d=!1},r),error:s,isLoading:!s&&!r,isValidating:l,mutate:u}:{data:k({defaultParam:t,isEmailDomainBasedSelfRegistrationEnabled:m,isOrganizationDiscoveryEnabled:d},r),error:s,isLoading:!s&&!r,isValidating:l,mutate:u}};var U=n(25134),Z=n(43974),F=n(61444),x=n(90408),Q=n(26154),B=n(15997),K=n(50699),$=n(12638),q=n(38316),H=n(71108),J=function(e){var t=e.defaultListItemLimit,n=e.isLoading,i=e.list,c=e.onEmptyListPlaceholderActionClick,u=e.onSearchQueryClear,d=e.searchQuery,v=e.selection,y=e.showListItemActions,E=e.isRenderedOnPortal,D=e["data-componentid"],O=(0,f.$)().t,h=(0,p.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),b=(0,p.v9)((function(e){var t;return null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.organizationDiscovery})),S=(0,p.v9)((function(e){return e.config.ui.features})),R=Z.l.getInstance(),I=function(e){s.m.push({pathname:a.$.getPaths().get("UPDATE_ORGANIZATION_DISCOVERY_DOMAINS").replace(":id",e)})},_=function(){return d&&((0,K.Z)(i)||0===(null==i?void 0:i.totalResults))?g.createElement(m.$J,{action:g.createElement(m.Qj,{onClick:u},O("console:manage.placeholders.emptySearchResult.action")),image:(0,B.jF)().emptySearch,imageSize:"tiny",title:O("console:manage.placeholders.emptySearchResult.title"),subtitle:[O("console:manage.placeholders.emptySearchResult.subtitles.0",{query:d.split(" ").pop()}),O("console:manage.placeholders.emptySearchResult.subtitles.1")],"data-componentid":"".concat(D,"-empty-search-placeholder")}):(0,K.Z)(i)||0===(null==i?void 0:i.totalResults)?g.createElement(m.$J,{className:E?"":"list-placeholder mr-0",action:c&&g.createElement(o.di,{when:null==S||null===(e=S.organizationDiscovery)||void 0===e||null===(e=e.scopes)||void 0===e?void 0:e.create},g.createElement(m.KM,{onClick:function(){R.publish(D+"-click-assign-email-domain-button"),c()}},g.createElement(Q.Z,{name:"add"}),O("organizationDiscovery:placeholders.emptyList.action"))),image:(0,B.jF)().newList,imageSize:"tiny",title:O("console:manage.placeholders.emptySearchResult.title"),subtitle:[O("organizationDiscovery:placeholders.emptyList.subtitles")],"data-componentid":"".concat(D,"-empty-placeholder")}):null;var e};return g.createElement(m.wQ,{className:"organizations-table",isLoading:n,loadingStateOptions:{count:null!=t?t:r.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,imageType:"square"},actions:function(){if(y)return[{"data-componentid":"".concat(D,"-item-edit-button"),hidden:function(){return!(0,l.cr)(b,H.R.FEATURE_DICTIONARY.get("ORGANIZATION_DISCOVERY_UPDATE"))},icon:function(){var e;return(0,l.Xr)(b,null==b||null===(e=b.scopes)||void 0===e?void 0:e.update,h)?"pencil alternate":"eye"},onClick:function(e,t){return I(t.organizationId)},popupText:function(){var e;return(0,l.Xr)(b,null==b||null===(e=b.scopes)||void 0===e?void 0:e.update,h)?O("common:edit"):O("common:view")},renderer:"semantic-icon"}]}(),columns:[{allowToggleVisibility:!1,dataIndex:"name",id:"name",key:"name",render:function(e){return g.createElement($.Z,{image:!0,as:"h6",className:"header-with-icon","data-componentid":"".concat(D,"-item-heading")},g.createElement(m.dn,{defaultIcon:!0,relaxed:"very",size:"micro",shape:"rounded",spaced:"right",hoverable:!1,icon:q.w}),g.createElement($.Z.Content,null,e.organizationName))},title:O("organizations:list.columns.name")},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:O("organizations:list.columns.actions")}],data:null==i?void 0:i.organizations,onRowClick:function(e,t){I(t.organizationId)},placeholders:_(),selectable:v,showHeader:!1,transparent:!n&&null!==_(),"data-componentid":D})};J.defaultProps={"data-componentid":"discoverable-organizations-list",selection:!0,showListItemActions:!0};const X=J;var W=n(51835),ee=n.n(W),te=n(27975),ne=n.n(te),ie=n(55900),oe=n.n(ie),ae=n(21555),re=n.n(ae),se=n(3621),le=n.n(se),ce=n(5062),ue=n.n(ce),de=n(53502),me={};me.styleTagTransform=ue(),me.setAttributes=re(),me.insert=oe().bind(null,"head"),me.domAPI=ne(),me.insertStyleElement=le();ee()(de.Z,me);de.Z&&de.Z.locals&&de.Z.locals;function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}const ve=function(e){var t,n,i,r,l,c=e.discoverableOrganizations,u=e.listItemLimit,d=e.isDiscoverableOrganizationsFetchRequestLoading,v=e.featureConfig,p=e.searchQuery,y=e.onListItemLimitChange,E=e.onListOffsetChange,D=e.onSearchQueryChange,O=e["data-componentid"],h=void 0===O?"discoverable-organizations-list-layout":O,b=[{key:0,text:F.I18n.instance.t("organizationDiscovery:advancedSearch.form.dropdown.filterAttributeOptions.organizationName"),value:"organizationName"}],S=Z.l.getInstance(),R=(0,f.$)().t,I=ge((0,g.useState)(!1),2),_=I[0],A=I[1],N=ge((0,g.useState)(b[0]),2),C=N[0],z=N[1],T=(0,g.useCallback)((function(e){D(e)}),[D]),P=(0,g.useCallback)((function(){A(!_),D("")}),[D,_]);return g.createElement(m.PS,{advancedSearch:g.createElement(U.n,{onFilter:T,filterAttributeOptions:[{key:0,text:R("organizationDiscovery:advancedSearch.form.dropdown.filterAttributeOptions.organizationName"),value:"organizationName"}],filterAttributePlaceholder:R("organizationDiscovery:advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:R("organizationDiscovery:advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:R("organizationDiscovery:advancedSearch.form.inputs.filterValue.placeholder"),placeholder:R("organizationDiscovery:advancedSearch.placeholder"),defaultSearchAttribute:"organizationName",defaultSearchOperator:"co",triggerClearQuery:_,"data-componentid":"".concat(h,"-list-advanced-search")}),currentListSize:null==c||null===(t=c.organizations)||void 0===t?void 0:t.length,listItemLimit:u,onItemsPerPageDropdownChange:function(e,t){y(t.value)},onPageChange:function(e,t){var n=(t.activePage-1)*u;E(n)},onSortStrategyChange:function(e,t){z((0,x.Z)(b,(function(e){return t.value===e.value})))},showTopActionPanel:d||!(!p&&(null==c||null===(n=c.organizations)||void 0===n?void 0:n.length)<=0),sortOptions:b,sortStrategy:C,topActionPanelExtension:g.createElement(o.di,{when:null==v||null===(i=v.organizationDiscovery)||void 0===i||null===(i=i.scopes)||void 0===i?void 0:i.create},g.createElement(m.KM,{disabled:d,loading:d,onClick:function(){S.publish("organization-click-assign-email-domain-button"),s.m.push(a.$.getPaths().get("ASSIGN_ORGANIZATION_DISCOVERY_DOMAINS"))},"data-componentid":"".concat(h,"-assign-button")},g.createElement(Q.Z,{name:"add"}),R("organizationDiscovery:emailDomains.actions.assign"))),totalPages:10,totalListSize:null==c||null===(r=c.organizations)||void 0===r?void 0:r.length,isLoading:d,paginationOptions:{disableNextButton:(l=c,!((null==l?void 0:l.startIndex)+(null==l?void 0:l.count)!==(null==l?void 0:l.totalResults)+1))},"data-componentid":"".concat(h,"-list-layout"),className:"discoverable-organizations-list-layout",showPagination:!0},g.createElement(X,{list:c,onEmptyListPlaceholderActionClick:function(){s.m.push(a.$.getPaths().get("ASSIGN_ORGANIZATION_DISCOVERY_DOMAINS"))},onSearchQueryClear:P,searchQuery:p,"data-componentid":"organization-list-with-discovery"}))};function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ye(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ye(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var Ee=function(e){var t,n,O,h=e["data-componentid"],b=(0,f.$)().t,R=(0,p.I0)(),_=(0,p.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.features})),C=(0,l.cr)(null==_?void 0:_.organizationDiscovery,H.R.FEATURE_DICTIONARY.get("ORGANIZATION_DISCOVERY_EMAIL_DOMAIN_FOR_SELF_REG")),z=(0,o.EV)(null==_||null===(t=_.organizationDiscovery)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.update),T=(0,o.EV)(null==_||null===(n=_.organizationDiscovery)||void 0===n||null===(n=n.scopes)||void 0===n?void 0:n.create),P=(0,o.EV)(null==_||null===(O=_.organizationDiscovery)||void 0===O||null===(O=O.scopes)||void 0===O?void 0:O.delete),w=!(z||T&&P),L=pe((0,g.useState)(""),2),V=L[0],j=L[1],k=pe((0,g.useState)(r.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),2),G=k[0],U=k[1],Z=pe((0,g.useState)(0),2),F=Z[0],x=Z[1],Q=(0,g.useMemo)((function(){return V}),[V]),B=Y(),K=B.data,$=B.error,q=B.mutate,J=(0,N.Z)(!0,Q,F,G),X=J.data,W=J.error,ee=J.isLoading,te=(0,D.P5)(D.vH.USER_ONBOARDING_CONNECTOR_ID,D.vH.SELF_SIGN_UP_CONNECTOR_ID).data,ne=K.isOrganizationDiscoveryEnabled,ie=K.isEmailDomainBasedSelfRegistrationEnabled,oe=K.defaultParam,ae=pe((0,g.useState)(!1),2),re=ae[0],se=ae[1];(0,g.useEffect)((function(){var e,t=null==te||null===(e=te.properties)||void 0===e?void 0:e.find((function(e){return e.name===D.vH.SELF_REGISTRATION_ENABLE}));se("true"===(null==t?void 0:t.value))}),[te]);(0,g.useEffect)((function(){var e;$&&404!==(null===(e=$.response)||void 0===e?void 0:e.status)&&R((0,u.V_)({description:b("organizationDiscovery:notifications.getEmailDomainDiscovery.error.description"),level:c.QU.ERROR,message:b("organizationDiscovery:notifications.getEmailDomainDiscovery.error.message")}))}),[$]),(0,g.useEffect)((function(){W&&R((0,u.V_)({description:b("organizationDiscovery:notifications.getOrganizationListWithDiscovery.error.description"),level:c.QU.ERROR,message:b("organizationDiscovery:notifications.getOrganizationListWithDiscovery.error.message")}))}),[W]);var le=function(e,t){var n={properties:[]};!0===t.checked?n.properties.push({key:M.EMAIL_DOMAIN_DISCOVERY_PROPERTY_KEY,value:"true"}):(n.properties.push({key:M.EMAIL_DOMAIN_DISCOVERY_PROPERTY_KEY,value:"false"}),n.properties.push({key:M.EMAIL_DOMAIN_DISCOVERY_SELF_REG_PROPERTY_KEY,value:"false"})),null!=oe&&n.properties.push({key:M.DEFAULT_DISCOVERY_PARAM,value:oe}),z?A(n).then((function(){R((0,u.V_)({description:t.checked?b("organizationDiscovery:notifications.enableEmailDomainDiscovery.success.description"):b("organizationDiscovery:notifications.disableEmailDomainDiscovery.success.description"),level:c.QU.SUCCESS,message:t.checked?b("organizationDiscovery:notifications.enableEmailDomainDiscovery.success.message"):b("organizationDiscovery:notifications.disableEmailDomainDiscovery.success.message")})),q()})).catch((function(){R((0,u.V_)({description:t.checked?b("organizationDiscovery:notifications.enableEmailDomainDiscovery.error.description"):b("organizationDiscovery:notifications.disableEmailDomainDiscovery.error.description"),level:c.QU.ERROR,message:t.checked?b("organizationDiscovery:notifications.enableEmailDomainDiscovery.error.message"):b("organizationDiscovery:notifications.disableEmailDomainDiscovery.error.message")}))})):T&&P&&(t.checked?S(n).then((function(){R((0,u.V_)({description:b("organizationDiscovery:notifications.enableEmailDomainDiscovery.success.description"),level:c.QU.SUCCESS,message:b("organizationDiscovery:notifications.enableEmailDomainDiscovery.success.message")})),q()})).catch((function(){R((0,u.V_)({description:b("organizationDiscovery:notifications.enableEmailDomainDiscovery.error.description"),level:c.QU.ERROR,message:b("organizationDiscovery:notifications.enableEmailDomainDiscovery.error.message")}))})):I().then((function(){R((0,u.V_)({description:b("organizationDiscovery:notifications.disableEmailDomainDiscovery.success.description"),level:c.QU.SUCCESS,message:b("organizationDiscovery:notifications.disableEmailDomainDiscovery.success.message")})),q()})).catch((function(){R((0,u.V_)({description:b("organizationDiscovery:notifications.disableEmailDomainDiscovery.error.description"),level:c.QU.ERROR,message:b("organizationDiscovery:notifications.disableEmailDomainDiscovery.error.message")}))})))};return g.createElement(m.Xg,{pageTitle:b("pages:emailDomainDiscovery.title"),title:b("pages:emailDomainDiscovery.title"),description:b("pages:emailDomainDiscovery.subTitle"),"data-componentid":"".concat(h,"-page-layout"),backButton:{"data-testid":"".concat(h,"-page-back-button"),onClick:function(){s.m.push(a.$.getPaths().get("LOGIN_AND_REGISTRATION"))},text:b("governanceConnectors:goBackLoginAndRegistration")}},g.createElement(y.Z,{label:b("organizationDiscovery:emailDomains.actions.enable"),toggle:!0,onChange:le,checked:ne,"data-testId":"".concat(h,"-enable-toggle"),readOnly:w}),g.createElement(E.Z,{hidden:!0}),g.createElement(i.Z,{severity:"info"},b("organizationDiscovery:message")),g.createElement(E.Z,{hidden:!0}),ne&&g.createElement(g.Fragment,null,C&&g.createElement(m.pJ,{padded:!0},g.createElement(d.l0,null,g.createElement(d.gN.Checkbox,{ariaLabel:"emailDomainBasedSelfRegistration",name:"emailDomainBasedSelfRegistration",label:b("organizationDiscovery:selfRegistration.label"),listen:function(e){return function(e){var t={properties:[]};t.properties.push({key:M.EMAIL_DOMAIN_DISCOVERY_PROPERTY_KEY,value:ne.toString()}),t.properties.push({key:M.EMAIL_DOMAIN_DISCOVERY_SELF_REG_PROPERTY_KEY,value:e.toString()}),null!=oe&&t.properties.push({key:M.DEFAULT_DISCOVERY_PARAM,value:oe}),A(t).then((function(){R((0,u.V_)({description:b(e?"organizationDiscovery:notifications.enableEmailDomainBasedSelfRegistration.success.description":"organizationDiscovery:notifications.disableEmailDomainBasedSelfRegistration.success.description"),level:c.QU.SUCCESS,message:b(e?"organizationDiscovery:notifications.enableEmailDomainBasedSelfRegistration.success.message":"organizationDiscovery:notifications.disableEmailDomainBasedSelfRegistration.success.message")})),q()})).catch((function(){R((0,u.V_)({description:b(e?"organizationDiscovery:notifications.enableEmailDomainBasedSelfRegistration.error.description":"organizationDiscovery:notifications.disableEmailDomainBasedSelfRegistration.error.description"),level:c.QU.ERROR,message:b(e?"organizationDiscovery:notifications.enableEmailDomainBasedSelfRegistration.error.message":"organizationDiscovery:notifications.disableEmailDomainBasedSelfRegistration.error.message")}))}))}(e)},checked:ie,disabled:!re||!z,width:16,"data-testid":"".concat(h,"-notify-account-confirmation"),hint:re&&b("organizationDiscovery:selfRegistration.labelHint")}),!re&&g.createElement(i.Z,{severity:"info"},g.createElement(v.c,{i18nKey:"organizationDiscovery:selfRegistration.message"},"Enable",g.createElement(m.rU,{external:!1,onClick:function(){s.m.push(a.$.getPaths().get("GOVERNANCE_CONNECTOR_EDIT").replace(":categoryId",D.vH.USER_ONBOARDING_CONNECTOR_ID).replace(":connectorId",D.vH.SELF_SIGN_UP_CONNECTOR_ID))}},"self-registration"),"to allow domain discovery for self-registration.")))),g.createElement(ve,{discoverableOrganizations:X,listItemLimit:G,isDiscoverableOrganizationsFetchRequestLoading:ee,featureConfig:_,onListItemLimitChange:U,onListOffsetChange:x,searchQuery:V,onSearchQueryChange:j})))};Ee.defaultProps={"data-componentid":"organization-discovery-domains-page"};const De=Ee},53502:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(81611),o=n.n(i),a=n(83948),r=n.n(a)()(o());r.push([e.id,".discoverable-organizations-list-layout .top-action-panel{display:flex;flex-direction:row-reverse;flex-wrap:nowrap;align-content:center;justify-content:flex-start;align-items:center;gap:10px}.discoverable-organizations-list-layout .top-action-panel>.ui.grid{flex-grow:1}",""]);const s=r}}]);