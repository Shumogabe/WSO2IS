/*! For license information please see 8875.c4fe9663.chunk.js.LICENSE.txt */
(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[8875,5933],{18875:(e,t,n)=>{"use strict";n.d(t,{dA:()=>w,Qm:()=>gu,Eg:()=>U.Eg,y7:()=>ci});var o=n(214),i=n(11419),a=n(82963),r=n(24871),l=n(41147),s=n(52983),c=n(9202),u=n(5295),d=n(97860),p=n(73949),f=n(74691),m=n(91185),v=n(21628),h=n(84786),g=n(42690),b=n(52120),y=n(27668),E=n(3447),S=n(8642),C=n(63450);function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var w=function(e){var t=e.advancedSearch,n=e.featureConfig,O=e.isLoading,w=e.list,I=e.onApplicationDelete,T=e.onListItemClick,R=e.onEmptyListPlaceholderActionClick,L=e.onSearchQueryClear,N=e.searchQuery,k=e.selection,P=e.showListItemActions,U=e.isSetStrongerAuth,M=e.isRenderedOnPortal,x=e["data-testid"],_=e["data-componentid"],D=(0,c.$)().t,Z=(0,u.I0)(),j=(0,u.v9)((function(e){return e.application.templates})),F=(0,u.v9)((function(e){var t;return null==e||null===(t=e.application)||void 0===t?void 0:t.groupedTemplates})),V=(0,u.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),H=(0,u.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t?void 0:t.ui})),z=(0,u.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.tenantDomain})),B=(0,b.B)(),q=A((0,s.useState)(!1),2),W=q[0],G=q[1],Q=A((0,s.useState)(void 0),2),K=Q[0],$=Q[1],Y=A((0,s.useState)(!1),2),X=Y[0],J=Y[1],ee=A((0,s.useState)(!1),2),te=ee[0],ne=ee[1],oe=A((0,l.ZK)(),3),ie=oe[0],ae=oe[1],re=oe[2],le=h.lD.getInstance();(0,s.useEffect)((function(){void 0===j&&(ne(!0),C.e7.getApplicationTemplates().finally((function(){ne(!1)})))}),[j,F]);var se=function(e,t){U?h.m8.push({pathname:h.$x.getPaths().get("APPLICATION_EDIT").replace(":id",e),search:"?".concat(E.jo.APP_STATE_STRONG_AUTH_PARAM_KEY,"=").concat(E.jo.APP_STATE_STRONG_AUTH_PARAM_VALUE)}):h.m8.push({pathname:h.$x.getPaths().get("APPLICATION_EDIT").replace(":id",e),search:t===S.Ch.READ?"?".concat(E.jo.APP_READ_ONLY_STATE_URL_SEARCH_PARAM_KEY,"=true"):""})},ce=function(){return N&&0===(null==w?void 0:w.totalResults)?s.createElement(l.$J,{action:s.createElement(l.Qj,{onClick:L},D("console:develop.placeholders.emptySearchResult.action")),image:(0,h.jF)().emptySearch,imageSize:"tiny",title:D("console:develop.placeholders.emptySearchResult.title"),subtitle:[D("console:develop.placeholders.emptySearchResult.subtitles.0",{query:N}),D("console:develop.placeholders.emptySearchResult.subtitles.1")],"data-testid":"".concat(x,"-empty-search-placeholder-icon")}):0===(null==w?void 0:w.totalResults)?s.createElement(l.$J,{className:M?"":"list-placeholder",action:R&&B!==g.$B.SUBORGANIZATION&&s.createElement(o.di,{when:o.TA.APPLICATION_WRITE},s.createElement(l.KM,{onClick:function(){le.publish(_+"-click-new-application-button"),R()}},s.createElement(f.Z,{name:"add"}),D("console:develop.features.applications.placeholders.emptyList.action"))),image:(0,h.jF)().newList,imageSize:"tiny",subtitle:[D("console:develop.features.applications.placeholders.emptyList.subtitles.0")],"data-testid":"".concat(x,"-empty-placeholder")}):null};return s.createElement(s.Fragment,null,s.createElement(l.wQ,{className:"applications-table",externalSearch:t,isLoading:O||te,actions:!U&&function(){if(P)return[{"data-testid":"".concat(x,"-item-edit-button"),hidden:function(){return!(0,i.cr)(null==n?void 0:n.applications,E.jo.FEATURE_DICTIONARY.get("APPLICATION_EDIT"))},icon:function(e){var t,o;return(null==e?void 0:e.access)!==S.Ch.READ&&(0,i.Xr)(null==n?void 0:n.applications,null==n||null===(t=n.applications)||void 0===t||null===(o=t.scopes)||void 0===o?void 0:o.update,V)?"pencil alternate":"eye"},onClick:function(e,t){return se(t.id,t.access)},popupText:function(e){var t,o;return(null==e?void 0:e.access)!==S.Ch.READ&&(0,i.Xr)(null==n?void 0:n.applications,null==n||null===(t=n.applications)||void 0===t||null===(o=t.scopes)||void 0===o?void 0:o.update,V)?D("common:edit"):D("common:view")},renderer:"semantic-icon"},{"data-testid":"".concat(x,"-item-delete-button"),hidden:function(e){var t,o,a,r=!(0,i.Xr)(null==n?void 0:n.applications,null==n||null===(t=n.applications)||void 0===t||null===(o=t.scopes)||void 0===o?void 0:o.delete,V),l=z===h.$x.getSuperTenant()&&H.systemAppsIdentifiers.includes(null==e?void 0:e.name),s=(null===(a=e.advancedConfigurations)||void 0===a?void 0:a.fragment)||!1;return r||l||(null==e?void 0:e.access)===S.Ch.READ||!m.applicationConfig.editApplication.showDeleteButton(e)||s},icon:function(){return"trash alternate"},onClick:function(e,t){G(!0),$(t)},popupText:function(){return D("common:delete")},renderer:"semantic-icon"}]}(),columns:[{allowToggleVisibility:!1,dataIndex:"name",id:"name",key:"name",render:function(e){var t,n="";if(new Set([E.jo.CUSTOM_APPLICATION_SAML,E.jo.CUSTOM_APPLICATION_OIDC,E.jo.CUSTOM_APPLICATION_PASSIVE_STS]).has(e.templateId))n=j&&j instanceof Array&&j.length>0&&j.find((function(e){return e.id===E.jo.CUSTOM_APPLICATION})).name;else{var o=j&&j instanceof Array&&j.length>0&&j.find((function(t){return t.id===e.templateId}));if(null!=o&&o.templateGroup){var i=o.templateGroup;n=F&&F instanceof Array&&F.length>0&&F.find((function(e){return e.id===i||e.templateGroup===i})).name}else{var a;n=j&&j instanceof Array&&(null==j?void 0:j.length)>0&&(null===(a=j.find((function(t){return(null==t?void 0:t.id)===(null==e?void 0:e.templateId)})))||void 0===a?void 0:a.name)}}return s.createElement(d.Z,{image:!0,as:"h6",className:"header-with-icon","data-testid":"".concat(x,"-item-heading")},e.image?s.createElement(l.JT,{size:"mini",name:e.name,image:e.image,spaced:"right","data-testid":"".concat(x,"-item-image")}):s.createElement(l.JT,{image:s.createElement(l.Xo,{name:e.name,size:"mini","data-testid":"".concat(x,"-item-image-inner")}),size:"mini",spaced:"right","data-testid":"".concat(x,"-item-image")}),s.createElement(d.Z.Content,null,e.name,(null===(t=e.advancedConfigurations)||void 0===t?void 0:t.fragment)&&s.createElement(p.Z,{size:"mini"},D("console:develop.features.applications.list.labels.fragment")),s.createElement("div",null,n&&s.createElement(p.Z,{className:"no-margin-left",size:"mini"},n))))},title:D("console:develop.features.applications.list.columns.name")},{allowToggleVisibility:!1,dataIndex:"inboundKey",id:"inboundKey",key:"inboundKey",render:function(e){var t,n="",o="";return e.clientId?(n=e.clientId,t=S.B8.CLIENTID,o="client-id-label"):e.issuer&&(n=e.issuer,t=S.B8.ISSUER,o="issuer-label"),s.createElement(d.Z,{as:"h6","data-testid":"".concat(x,"-col-2-item-heading")},s.createElement(d.Z.Content,null,s.createElement(d.Z.Subheader,{"data-testid":"".concat(x,"-col-2-item-sub-heading")},n,t&&s.createElement(p.Z,{pointing:"left",size:"mini",className:o},t))))},title:D("console:develop.features.applications.list.columns.inboundKey")},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:D("console:develop.features.applications.list.columns.actions")}],data:null==w?void 0:w.applications,onRowClick:function(e,t){se(t.id,t.access),T&&T(e,t)},placeholders:ce(),selectable:k,showHeader:v.applicationListConfig.enableTableHeaders,transparent:!(O||te)&&null!==ce(),"data-testid":x}),K&&s.createElement(l.cV,{primaryActionLoading:X,onClose:function(){return G(!1)},type:"negative",open:W,assertionHint:D("console:develop.features.applications.confirmations.deleteApplication.assertionHint"),assertionType:"checkbox",primaryAction:D("common:confirm"),secondaryAction:D("common:cancel"),onSecondaryActionClick:function(){G(!1),ae(null)},onPrimaryActionClick:function(){return e=K.id,J(!0),void(0,y.rw)(e).then((function(){Z((0,r.V_)({description:D("console:develop.features.applications.notifications.deleteApplication.success.description"),level:a.QU.SUCCESS,message:D("console:develop.features.applications.notifications.deleteApplication.success.message")})),G(!1),I()})).catch((function(e){e.response&&e.response.data&&e.response.data.description?Z(ae({description:e.response.data.description,level:a.QU.ERROR,message:D("console:develop.features.applications.notifications.deleteApplication.error.message")})):Z(ae({description:D("console:develop.features.applications.notifications.deleteApplication.genericError.description"),level:a.QU.ERROR,message:D("console:develop.features.applications.notifications.deleteApplication.genericError.message")}))})).finally((function(){J(!1)}));var e},"data-testid":"".concat(x,"-delete-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(x,"-delete-confirmation-modal-header")},D("console:develop.features.applications.confirmations.deleteApplication.header")),s.createElement(l.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(x,"-delete-confirmation-modal-message")},D("console:develop.features.applications.confirmations.deleteApplication.message")),s.createElement(l.cV.Content,{"data-testid":"".concat(x,"-delete-confirmation-modal-content")},s.createElement("div",{className:"modal-alert-wrapper"}," ",ie&&re),D("console:develop.features.applications.confirmations.deleteApplication.content"))))};w.defaultProps={"data-componentid":"application","data-testid":"application-list",selection:!0,showListItemActions:!0};var I=n(76004),T=n.n(I),R=n(56024),L=n(67127),N=n(73030),k=n(16029),P=n(94635),U=n(48394),M=n(5043),x=n(80254),_=n(39990),D=n(10594),Z=n(14969),j=n(21228),F=n(88171),V=n(48684),H=n(28056);function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},z.apply(this,arguments)}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var W=function(e){var t=e.claimURI,n=e.displayName,o=e.localClaimDisplayName,i=e.localDialect,a=e.updateMapping,r=e.addToMapping,u=e.selectMandatory,d=e.selectRequested,p=e.isDefaultMappingChanged,m=e.mapping,v=e.initialMandatory,h=e.initialRequested,g=e.claimMappingOn,b=e.claimMappingError,y=e.readOnly,E=e.deleteAttribute,S=e.subject,C=e.label,A=e.isOIDCMapping,O=e.duplicatedMappingValues,w=e["data-testid"],I=(0,c.$)().t,T=B((0,s.useState)(!1),2),R=T[0],N=T[1],k=B((0,s.useState)(!1),2),P=k[0],U=k[1],M=B((0,s.useState)(!1),2),x=M[0],_=M[1],F=B((0,s.useState)(!0),2),V=F[0],H=F[1],q=B((0,s.useState)(t),2),W=q[0],G=q[1],Q=B((0,s.useState)(W),1)[0],K="http://wso2.org/claims";return(0,s.useEffect)((function(){_(v)}),[v]),(0,s.useEffect)((function(){H(h)}),[h]),(0,s.useEffect)((function(){(0,L.Z)(null==m?void 0:m.applicationClaim)&&(0,L.Z)(m)&&U(b)}),[b]),(0,s.useEffect)((function(){N(g),G(t),m&&(r(t,g),null!=m&&m.applicationClaim?(G(null==m?void 0:m.applicationClaim),a(t,null==m?void 0:m.applicationClaim),p(!0)):a(t,Q))}),[g]),s.createElement(D.Z.Row,{"data-testid":w},!i&&s.createElement(D.Z.Cell,null),s.createElement(D.Z.Cell,null,s.createElement("div",null,i?n:o),A?s.createElement(l.kW,{warning:!0,popup:!0},I("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.listItem.faultyAttributeMappingHint")):"",s.createElement(l.GI,{content:A&&t.startsWith(K)?I("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.listItem.faultyAttributeMapping"):t,inverted:!0,trigger:i?s.createElement(l.EK,{compact:!0,withBackground:!1},A&&t.startsWith(K)?I("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.listItem.faultyAttributeMapping"):t):s.createElement(l.EK,null,A&&t.startsWith(K)?I("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.listItem.faultyAttributeMapping"):t),position:"bottom left"}),s.createElement(l.kW,{warning:!0,hidden:!C},C)),i&&R&&s.createElement(s.Fragment,null,s.createElement(D.Z.Cell,{error:P},s.createElement(Z.Z,{placeholder:I("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.listItem.fields.claim.placeholder",{name:n}),value:R?W:Q,onChange:!y&&function(e){var n,o=null===(n=e.target)||void 0===n?void 0:n.value.replace(/[^\w+$:/.]/g,"");G(o),a(t,o,!0),U((0,L.Z)(o)),b&&!(0,L.Z)(o)&&U(!1),p(!0)},disabled:!R,readOnly:y,required:!0,error:P||O.includes(W)||O.includes(Q)}))),!i&&s.createElement(D.Z.Cell,z({},i&&!R&&{textAlign:"center"},i&&R&&{textAlign:"center"},!i&&{textAlign:"center"}),s.createElement(j.Z,{checked:h||V||S,onClick:!y&&function(){i||(V?(d(t,!1),H(!1),u(t,!1),_(!1)):(H(!0),d(t,!0)))},disabled:!!R&&!x,readOnly:S||y||A})),s.createElement(D.Z.Cell,z({},i&&!R&&{textAlign:"center"},i&&R&&{textAlign:"center"},!i&&{textAlign:"center"}),s.createElement(j.Z,{checked:v||x||S,onClick:!y&&function(){i?x?(u(t,!1),_(!1)):(_(!0),u(t,!0)):x?(u(t,!1),_(!1)):(_(!0),u(t,!0),H(!0),d(t,!0))},disabled:!!R&&!V,readOnly:S||y||A})),y&&!A||!E?null:s.createElement(D.Z.Cell,{textAlign:"right"},s.createElement(l.GI,{trigger:s.createElement(f.Z,{link:!0,className:"list-icon pr-4",size:"large",color:"grey",name:"trash alternate",onClick:E}),position:"top right",content:I("common:remove"),inverted:!0})))},G=n(21921);function Q(e){return function(e){if(Array.isArray(e))return Y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||$(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var X=function(e){var t=e.selectedClaims,n=e.showAddModal,o=e.setShowAddModal,i=e.availableClaims,a=e.setAvailableClaims,r=e.setInitialSelectedClaims,u=e.updateMappings,d=e["data-testid"],p=(0,c.$)().t,f=K((0,s.useState)([]),2),m=f[0],v=f[1],h=K((0,s.useState)([]),2),g=h[0],b=h[1],y=K((0,s.useState)([]),2),E=y[0],S=y[1],C=K((0,s.useState)(!1),2),A=C[0],O=C[1];(0,s.useEffect)((function(){b(A?E:[])}),[A]),(0,s.useEffect)((function(){if(n){if(t.length>0){var e=(0,M.Z)((0,x.Z)(t,i),"displayName");v(e),S(e)}else{var o=(0,M.Z)(i,"displayName");v(o),S(o)}b(t)}else v([]),S([]),b([])}),[n]);return s.createElement(G.Z,{open:n,size:"large",className:"user-roles attribute-modal","data-testid":d},s.createElement(G.Z.Header,null,p("console:develop.features.applications.edit.sections.attributes.selection.addWizard.header"),s.createElement(l.X6,{subHeading:!0,ellipsis:!0,as:"h6"},p("console:develop.features.applications.edit.sections.attributes.selection.addWizard.subHeading"))),s.createElement(G.Z.Content,{image:!0},s.createElement(l.IX,{selectionComponent:!0,searchPlaceholder:p("console:develop.features.applications.edit.sections.attributes.selection.addWizard.steps.select.transfer.searchPlaceholders.attribute"),handleHeaderCheckboxChange:function(){O(!A)},isHeaderCheckboxChecked:A,handleUnelectedListSearch:function(e){var n=e.target.value;if(n.length>0){var o=m.filter((function(e){return-1!==e.displayName.toLowerCase().indexOf(n.toLowerCase())})),a=m.filter((function(e){return-1!==e.claimURI.toLowerCase().indexOf(n.toLowerCase())}));S((0,M.Z)((0,x.Z)(o,a),"displayName"))}else t.length>0?S((0,M.Z)((0,x.Z)(t,i),"displayName")):S((0,M.Z)(m,"displayName"))},"data-testid":"".concat(d,"-transfer-component")},s.createElement(l.Jv,{selectionComponent:!0,isListEmpty:!(E.length>0),listType:"unselected","data-testid":"".concat(d,"-unselected-transfer-list"),emptyPlaceholderDefaultContent:p("console:manage.features.transferList.list.emptyPlaceholders.default")},null==E?void 0:E.map((function(e,t){return s.createElement(l.qT,{handleItemChange:function(){return function(e){var t=Q(g);null!=t&&t.includes(e)?(t.splice(t.indexOf(e),1),b(t)):(e.requested=!0,t.push(e),b(t))}(e)},key:e.claimURI,listItem:e.displayName,listItemId:e.id,listItemIndex:e.claimURI,isItemChecked:g.includes(e),showSecondaryActions:!1,showListSubItem:!0,listSubItem:s.createElement(l.EK,{compact:!0,withBackground:!1},e.claimURI),"data-testid":"".concat(d,"-unselected-transfer-list-item-").concat(t)})}))))),s.createElement(G.Z.Actions,null,s.createElement(l.Qj,{onClick:function(){o(!1)},"data-testid":"".concat(d,"-cancel-button")},p("common:cancel")),s.createElement(l.KM,{onClick:function(){var e=Q(g),n=t.filter((function(t){return!(null!=e&&e.includes(t))})),i=e.filter((function(e){return!(null!=t&&t.includes(e))}));u(i,n),r(e),a(Q(m)),o(!1)},"data-testid":"".concat(d,"-save-button")},p("common:save"))))};X.defaultProps={"data-testid":"application-attribute-selection-wizard"};var J=n(85974);function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oe(e){return function(e){if(Array.isArray(e))return re(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ae(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||ae(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){if(e){if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?re(e,t):void 0}}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var le=function(e){var t=e.claims,n=e.setClaims,o=e.externalClaims,i=e.selectedClaims,a=e.setExternalClaims,r=e.selectedExternalClaims,d=e.setSelectedClaims,p=e.setSelectedExternalClaims,v=e.selectedDialect,g=e.selectedSubjectValue,b=e.setClaimMapping,y=e.createMapping,E=e.removeMapping,S=e.getCurrentMapping,C=e.updateClaimMapping,A=e.addToClaimMapping,O=e.claimConfigurations,w=e.claimMappingOn,I=e.defaultSubjectAttribute,T=e.showClaimMappingRevertConfirmation,R=e.setClaimMappingOn,L=e.claimMappingError,N=e.readOnly,k=e.updateMappings,U=e.isUserAttributesLoading,z=e.setUserAttributesLoading,B=e.onlyOIDCConfigured,q=e.duplicatedMappingValues,G=e["data-testid"],Q=(0,c.$)().t,K=(0,l.fQ)().getLink,$=ie((0,s.useState)([]),2),Y=$[0],ee=$[1],ne=ie((0,s.useState)([]),2),ae=ne[0],re=ne[1],le=ie((0,s.useState)(!1),2),se=le[0],ce=le[1],ue=ie((0,s.useState)([]),2),de=ue[0],pe=ue[1],fe=ie((0,s.useState)([]),2),me=fe[0],ve=fe[1],he=ie((0,s.useState)(!1),2),ge=he[0],be=he[1],ye=ie((0,s.useState)(!1),2),Ee=ye[0],Se=ye[1],Ce=ie((0,s.useState)(!1),2),Ae=Ce[0],Oe=Ce[1],we=ie((0,s.useState)(),2),Ie=we[0],Te=we[1],Re=(0,s.useRef)(!1),Le=h.lD.getInstance(),Ne=(0,u.v9)((function(e){return e.config})),ke=ie((0,s.useState)(o),1)[0];(0,s.useEffect)((function(){var e,t=oe(me);null==O||null===(e=O.claimMappings)||void 0===e||e.map((function(e){if(!me.find((function(t){return(null==t?void 0:t.mappedLocalClaimURI)===e.localClaim.uri}))){var n=ae.find((function(t){return(null==t?void 0:t.mappedLocalClaimURI)===e.localClaim.uri}));n&&t.push(n)}})),p(t),ve(t)}),[O]),(0,s.useEffect)((function(){ge&&O&&(v.localDialect&&(Y.length>0||i.length>0)&&z(!1),!v.localDialect&&(ae.length>0||r.length>0)&&z(!1))}),[Y,ae,O,ge]);var Pe=function(e,t){if(v.localDialect){var n=oe(i);n.forEach((function(n){n.claimURI===e&&(n.mandatory=t)})),d(n)}else{var o=oe(r);o.forEach((function(n){n.claimURI===e&&(n.mandatory=t)})),p(o)}},Ue=function(e,t){if(v.localDialect){var n=oe(i);n.forEach((function(n){n.claimURI===e&&(n.requested=t)})),d(n)}},Me=function(){var e,t=[];"CUSTOM"===(null==O?void 0:O.dialect)?null===(e=O.claimMappings)||void 0===e||e.map((function(e){t.push(e.localClaim.uri)})):"LOCAL"===(null==O?void 0:O.dialect)&&O.requestedClaims.map((function(e){t.push(e.claim.uri)}));return t},xe=function(e){var t;if("CUSTOM"===O.dialect){var n,o=null===(n=O.claimMappings.find((function(t){var n;return(null==t||null===(n=t.localClaim)||void 0===n?void 0:n.uri)===e})))||void 0===n?void 0:n.applicationClaim;if(o){var i=O.requestedClaims.find((function(e){var t;return(null==e||null===(t=e.claim)||void 0===t?void 0:t.uri)===o}));if(i)return i.mandatory}}return null===(t=O.requestedClaims.find((function(t){var n;return(null==t||null===(n=t.claim)||void 0===n?void 0:n.uri)===e})))||void 0===t?void 0:t.mandatory},_e=function(e){if("CUSTOM"===O.dialect){var t,n=null===(t=O.claimMappings.find((function(t){var n;return(null==t||null===(n=t.localClaim)||void 0===n?void 0:n.uri)===e})))||void 0===t?void 0:t.applicationClaim;return!!(n?O.requestedClaims.find((function(e){var t;return(null==e||null===(t=e.claim)||void 0===t?void 0:t.uri)===n})):O.requestedClaims.find((function(t){var n;return(null==t||null===(n=t.claim)||void 0===n?void 0:n.uri)===e})))}return!0},De=function(){var e,t,n;return(null==O||null===(e=O.subject)||void 0===e||null===(t=e.claim)||void 0===t?void 0:t.uri)===I&&(null===(n=O.requestedClaims)||void 0===n?void 0:n.findIndex((function(e){var t;return(null==e||null===(t=e.claim)||void 0===t?void 0:t.uri)===I})))<0},Ze=function(){Le.publish("application-user-attribute-click-add"),Se(!0)};(0,s.useEffect)((function(){t&&ee(oe(m.applicationConfig.attributeSettings.attributeSelection.getClaims(t))),o&&re(oe(m.applicationConfig.attributeSettings.attributeSelection.getExternalClaims(o)))}),[t,o]),(0,s.useEffect)((function(){i&&pe(oe(i)),r&&ve(oe(r))}),[i,r]),(0,s.useEffect)((function(){Re.current||(be(!1),function(){if(z(!0),v.localDialect){var e=Me(),i=[],r=[];if(m.applicationConfig.attributeSettings.attributeSelection.getClaims(t).map((function(t){if(!e.includes(t.claimURI)||t.claimURI===I&&De())r.push(t);else{var n=te(te({},t),{},{mandatory:xe(t.claimURI),requested:_e(t.claimURI)});i.push(n)}})),d(i),n(r),ee(r),"CUSTOM"===(null==O?void 0:O.dialect)){var l=[];O.claimMappings.map((function(e){if(e&&e.localClaim&&(e.localClaim.uri!==I||!De())){var t={addMapping:!0,applicationClaim:e.applicationClaim,localClaim:{displayName:e.localClaim.displayName,id:e.localClaim.id,uri:e.localClaim.uri}};l.push(t)}})),b(l)}else{var s=[];i.map((function(e){var t={addMapping:!1,applicationClaim:"",localClaim:{displayName:e.displayName,id:e.id,uri:e.claimURI}};s.push(t)})),b(s)}be(!0)}else{var c,u=Me(),f=[],h=[];m.applicationConfig.attributeSettings.attributeSelection.getExternalClaims(o).map((function(e){if(u.includes(e.mappedLocalClaimURI)){var t=te(te({},e),{},{mandatory:xe(e.mappedLocalClaimURI),requested:!0});f.push(t)}else h.push(e)}));var g=oe(me);null==O||null===(c=O.claimMappings)||void 0===c||c.map((function(e){null==t||t.map((function(t){if(e.localClaim.uri===t.claimURI){var n={claimDialectURI:t.dialectURI,claimURI:t.claimURI,id:t.id,localClaimDisplayName:t.displayName,mandatory:t.mandatory,mappedLocalClaimURI:e.localClaim.uri,requested:t.requested};f.find((function(t){return(null==t?void 0:t.mappedLocalClaimURI)===e.localClaim.uri}))||f.push(n)}}))})),ve(g),p(f),a(h),re(h),be(!0)}}(),Re.current=!0)}),[O]);var je,Fe,Ve=function(e){if(v.localDialect){var l=i.find((function(t){return t.claimURI===e}));d(i.filter((function(t){return t.claimURI!==e}))),t.find((function(t){return t.claimURI===e}))||n([l].concat(oe(t))),w&&E(e)}else{var s=r.find((function(t){return t.mappedLocalClaimURI===e}));p(r.filter((function(t){return t.mappedLocalClaimURI!==e}))),ve(me.filter((function(t){return t.mappedLocalClaimURI!==e})));var c=o.find((function(t){return t.mappedLocalClaimURI===e}));c||a([s].concat(oe(o)))}},He=function(e){Te(e),g===ze(e)&&I!==e?Oe(!0):Ve(e)},ze=function(e){if(w){var t=S(e);return void 0!==t?t.applicationClaim:e}return e},Be=function(e){var t=!1;return null==ke||ke.map((function(n){n.mappedLocalClaimURI!==e.mappedLocalClaimURI&&e.mappedLocalClaimURI!==I||(t=!0)})),t};return!U&&O&&ge?s.createElement(s.Fragment,null,s.createElement(P.Z.Row,{"data-testid":G},s.createElement(P.Z.Column,{computer:16,tablet:16,largeScreen:12,widescreen:12},s.createElement(l.X6,{as:"h4"},Q("console:develop.features.applications.edit.sections.attributes.selection.heading")),s.createElement(l.X6,{as:"h6",color:"grey"},Q("console:develop.features.applications.edit.sections.attributes.selection.description"),(Fe=void 0,Fe=v.localDialect?K("develop.applications.editApplication.samlApplication.attributes.learnMore"):K("develop.applications.editApplication.oidcApplication.attributes.learnMore"),s.createElement(l.eb,{link:Fe},Q("common:learnMore")))),i.length>0||r.length>0?s.createElement(s.Fragment,null,s.createElement(P.Z.Row,{className:"user-role-edit-header-segment clearing attributes"},s.createElement(D.Z,{"data-testid":"".concat(G,"-action-bar"),basic:"very",compact:!0},s.createElement(D.Z.Body,null,s.createElement(D.Z.Row,null,s.createElement(D.Z.Cell,{collapsing:!0,width:"6"},s.createElement(Z.Z,{icon:s.createElement(f.Z,{name:"search"}),iconPosition:"left",onChange:function(e){var t=e.target.value;t.length>0?function(e){if(v.localDialect){var t=i.filter((function(t){return-1!==t.displayName.toLowerCase().indexOf(e.toLowerCase())})),n=i.filter((function(t){return-1!==t.claimURI.toLowerCase().indexOf(e.toLowerCase())}));pe((0,M.Z)((0,x.Z)(t,n),"displayName"))}else{var o=r.filter((function(t){return-1!==t.localClaimDisplayName.toLowerCase().indexOf(e.toLowerCase())})),a=r.filter((function(t){return-1!==t.claimURI.toLowerCase().indexOf(e.toLowerCase())}));ve((0,M.Z)((0,x.Z)(o,a),"localClaimDisplayName"))}}(t):v.localDialect?pe(i):ve(r)},placeholder:Q("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.searchPlaceholder"),floated:"left",size:"small","data-testid":"".concat(G,"-search")})),v.localDialect&&s.createElement(D.Z.Cell,{textAlign:"right"},s.createElement(j.Z,{slider:!0,checked:w,onChange:function(){w?se?T(!0):R(!1):R(!0)},label:Q("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.actions.enable"),readOnly:N,"data-testid":"".concat(G,"-cliam-mapping-toggle")})),!N&&s.createElement(D.Z.Cell,{textAlign:"right"},s.createElement(F.Z,{size:"medium",icon:"pencil",floated:"right",onClick:Ze,"data-testid":"".concat(G,"-update-button")})))))),q.length>0&&s.createElement(l.v0,{type:"error",content:Q("console:develop.features.applications.notifications.updateClaimConfig.error.description")}),s.createElement(V.Z,{className:"user-role-edit-header-segment attributes"},s.createElement(P.Z.Row,null,v.localDialect?s.createElement(D.Z,{singleLine:!0,compact:!0,"data-testid":"".concat(G,"-list"),fixed:!0},s.createElement(D.Z.Header,null,w?s.createElement(D.Z.Row,null,s.createElement(D.Z.HeaderCell,{width:"8"},s.createElement("strong",null,Q("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.columns.attribute"))),s.createElement(D.Z.HeaderCell,{width:"8"},s.createElement("strong",null,Q("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.columns.appAttribute")),s.createElement(l.kW,{icon:"info circle",popup:!0},Q("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.mappedAtributeHint"))),s.createElement(D.Z.HeaderCell,{width:"4",textAlign:"center"},s.createElement("strong",null,Q("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.columns.mandatory")),s.createElement(l.kW,{icon:"info circle",popup:!0},Q("console:develop.features.applications.edit.sections.attributes.selection.mandatoryAttributeHint",{productName:Ne.ui.productName}))),s.createElement(D.Z.HeaderCell,{width:"2"})):s.createElement(D.Z.Row,null,s.createElement(D.Z.HeaderCell,{width:"10"},s.createElement("strong",null,Q("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.columns.attribute"))),s.createElement(D.Z.HeaderCell,{width:"8",textAlign:"center"},s.createElement("strong",null,Q("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.columns.mandatory")),s.createElement(l.kW,{icon:"info circle",popup:!0},Q("console:develop.features.applications.edit.sections.attributes.selection.mandatoryAttributeHint",{productName:Ne.ui.productName}))),s.createElement(D.Z.HeaderCell,{width:"2"}))),s.createElement(D.Z.Body,null,null==de?void 0:de.map((function(e){return s.createElement(W,{key:e.id,claimURI:e.claimURI,displayName:e.displayName,mappedURI:e.claimURI,localDialect:v.localDialect,updateMapping:C,addToMapping:A,mapping:S(e.claimURI),isDefaultMappingChanged:ce,initialMandatory:g===ze(e.claimURI)||e.mandatory,initialRequested:e.requested,selectMandatory:Pe,selectRequested:Ue,claimMappingOn:w,claimMappingError:L,readOnly:N,subject:g===ze(e.claimURI),deleteAttribute:function(){He(e.claimURI)},duplicatedMappingValues:q,"data-testid":e.claimURI})})))):s.createElement(D.Z,{singleLine:!0,compact:!0,"data-testid":"".concat(G,"-list"),fixed:!0},s.createElement(D.Z.Header,null,s.createElement(D.Z.Row,null,s.createElement(D.Z.HeaderCell,{width:"10"},s.createElement("strong",null,Q("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.columns.attribute"))),s.createElement(D.Z.HeaderCell,{textAlign:"center",width:"8"},s.createElement("strong",null,Q("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.columns.mandatory")),s.createElement(l.kW,{icon:"info circle",popup:!0},Q("console:develop.features.applications.edit.sections.attributes.selection.mandatoryAttributeHint",{productName:Ne.ui.productName}))),s.createElement(D.Z.HeaderCell,{width:"2"}))),s.createElement(D.Z.Body,null,null==me?void 0:me.map((function(e){return s.createElement(W,{key:e.id,claimURI:e.claimURI,displayName:e.claimURI,mappedURI:e.mappedLocalClaimURI,localDialect:v.localDialect,initialMandatory:g===e.mappedLocalClaimURI&&!B||e.mandatory,selectMandatory:Pe,initialRequested:e.requested,"data-testid":e.claimURI,readOnly:g===e.mappedLocalClaimURI&&!B||!Be(e)||N,localClaimDisplayName:e.localClaimDisplayName,deleteAttribute:function(){return He(e.mappedLocalClaimURI)},subject:g===e.mappedLocalClaimURI&&!B,isOIDCMapping:!Be(e)})}))))))):s.createElement(V.Z,null,s.createElement(l.$J,{title:m.applicationConfig.attributeSettings.attributeSelection.showAttributePlaceholderTitle&&Q("console:develop.features.applications.placeholders.emptyAttributesList.title"),subtitle:[Q("console:develop.features.applications.placeholders.emptyAttributesList.subtitles")],action:!N&&s.createElement(l.KM,{basic:!0,onClick:Ze},s.createElement(f.Z,{name:"plus"}),Q("console:develop.features.applications.placeholders.emptyAttributesList.action")),image:(0,h.jF)().emptyList,imageSize:"tiny","data-testid":"".concat(G,"-empty-placeholder")})),!N&&m.applicationConfig.attributeSettings.attributeSelection.showShareAttributesHint(v)?s.createElement(l.kW,null,s.createElement(_.c,{i18nKey:"console:develop.features.applications.edit.sections.attributes.selection.attributeComponentHint"},"Manage the user attributes you want to share with this application via",s.createElement(l.rU,{external:!1,onClick:function(){h.m8.push(h.$x.getPaths().get("OIDC_SCOPES"))}}," OpenID Connect Scopes."),"You can map additional attributes under",s.createElement(l.rU,{external:!1,onClick:function(){h.m8.push(h.$x.getPaths().get("ATTRIBUTE_MAPPINGS").replace(":type",J.Q.OIDC))}}," Attribute."))):s.createElement(l.kW,null,s.createElement(_.c,{i18nKey:"console:develop.features.applications.edit.sections.attributes.selection.attributeComponentHintAlt"},"Manage the user attributes you want to share with this application. You can add new attributes and mappings by navigating to",s.createElement(l.rU,{external:!1,onClick:function(){h.m8.push(h.$x.getPaths().get("LOCAL_CLAIMS"))}}," Attribute."))))),v.localDialect?s.createElement(X,{selectedClaims:i,setSelectedClaims:pe,setInitialSelectedClaims:d,showAddModal:Ee,setShowAddModal:Se,availableClaims:m.applicationConfig.attributeSettings.attributeSelection.getClaims(t),setAvailableClaims:n,createMapping:y,removeMapping:E,updateMappings:k,"data-testid":"".concat(G,"-wizard")}):s.createElement(H.K,{selectedExternalClaims:r,setSelectedExternalClaims:ve,setInitialSelectedExternalClaims:p,showAddModal:Ee,setShowAddModal:Se,availableExternalClaims:m.applicationConfig.attributeSettings.attributeSelection.getExternalClaims(o),setAvailableExternalClaims:a,"data-testid":"".concat(G,"-wizard-other-dialects")}),(je=t.find((function(e){return e.claimURI===I})),s.createElement(l.cV,{onClose:function(){return Oe(!1)},type:"negative",open:Ae,primaryAction:Q("common:confirm"),secondaryAction:Q("common:cancel"),onSecondaryActionClick:function(){Oe(!1)},onPrimaryActionClick:function(){Ve(Ie),Oe(!1)},"data-testid":"".concat(G,"-delete-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(G,"-delete-confirmation-modal-header")},Q("console:develop.features.applications.confirmations.removeApplicationUserAttribute.header")),s.createElement(l.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(G,"-delete-confirmation-modal-message")},Q("console:develop.features.applications.confirmations.removeApplicationUserAttribute.subHeader")),s.createElement(l.cV.Content,{"data-testid":"".concat(G,"-delete-confirmation-modal-content")},s.createElement(_.c,{i18nKey:"console:develop.features.applications.confirmations.removeApplicationUserAttribute.content",i18nOptions:{default:null==je?void 0:je.displayName}},"If you remove this, the subject attribute will be set to the ",s.createElement("strong",null,null==je?void 0:je.displayName)))))):null};function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function de(e){return function(e){if(Array.isArray(e))return me(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||fe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||fe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){if(e){if("string"==typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?me(e,t):void 0}}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}le.defaultProps={"data-testid":"application-attribute-selection"};var ve=function(e){var t=e.claims,n=e.externalClaims,o=e.externalClaimsGroupedByScopes,i=e.setExternalClaimsGroupedByScopes,a=e.setExternalClaims,r=e.unfilteredExternalClaimsGroupedByScopes,p=e.setUnfilteredExternalClaimsGroupedByScopes,v=e.selectedExternalClaims,g=e.selectedDialect,b=e.setSelectedExternalClaims,y=e.selectedSubjectValue,E=e.claimConfigurations,S=e.defaultSubjectAttribute,C=e.readOnly,A=e.isUserAttributesLoading,O=e.setUserAttributesLoading,w=e.onlyOIDCConfigured,I=e["data-testid"],T=e["data-componentid"],R=(0,c.$)().t,L=(0,l.fQ)().getLink,N="openid",U=pe((0,s.useState)([]),2),M=U[0],x=U[1],j=pe((0,s.useState)([]),2),F=j[0],V=j[1],H=pe((0,s.useState)([]),2),z=H[0],B=H[1],q=pe((0,s.useState)(""),2),G=q[0],Q=q[1],K=pe((0,s.useState)(!1),2),$=K[0],Y=K[1],X=(0,s.useRef)(!1),ee=(0,u.v9)((function(e){return e.config})),te=pe((0,s.useState)(n),1)[0],ne=pe((0,s.useState)([N]),2),oe=ne[0],ie=ne[1];(0,s.useEffect)((function(){var e,t=de(F);null==E||null===(e=E.claimMappings)||void 0===e||e.map((function(e){if(!F.find((function(t){return(null==t?void 0:t.mappedLocalClaimURI)===e.localClaim.uri}))){var n=M.find((function(t){return(null==t?void 0:t.mappedLocalClaimURI)===e.localClaim.uri}));n&&t.push(n)}})),b(t),V(t)}),[E]),(0,s.useEffect)((function(){if(0!=r.length){var e=[N];r.map((function(t){t.selected&&""!==t.name&&e.push(t.name)})),ie(e)}}),[r]),(0,s.useEffect)((function(){$&&E&&(M.length>0||v.length>0)&&O(!1)}),[M,E,$]),(0,s.useEffect)((function(){n&&x(de(m.applicationConfig.attributeSettings.attributeSelection.getExternalClaims(n)))}),[n]),(0,s.useEffect)((function(){v&&V(de(v))}),[v]),(0,s.useEffect)((function(){X.current||(Y(!1),me(),X.current=!0)}),[E]);var ae,re=function(e,t){var n=de(r);n.forEach((function(n){n.claims.forEach((function(n){n.claimURI===e&&(n.mandatory=t)}))})),i(n),p(n),fe(G)},le=function(e,t){var n=de(r);n.forEach((function(n){var o=!1;n.claims.forEach((function(n){n.claimURI===e&&(n.requested=t),n.requested&&(o=!0)})),n.selected=o})),i(n),p(n),fe(G)},se=function(e,t){var n;null===(n=de(r).find((function(e){if(e.name===t.value)return e.selected=t.checked,e})))||void 0===n||n.claims.map((function(e){le(e.claimURI,t.checked),t.checked||re(e.claimURI,t.checked)}))},ue=function(e){var t;if("CUSTOM"===E.dialect){var n,o=null===(n=E.claimMappings.find((function(t){var n;return(null==t||null===(n=t.localClaim)||void 0===n?void 0:n.uri)===e})))||void 0===n?void 0:n.applicationClaim;if(o){var i=E.requestedClaims.find((function(e){var t;return(null==e||null===(t=e.claim)||void 0===t?void 0:t.uri)===o}));if(i)return i.mandatory}}return null===(t=E.requestedClaims.find((function(t){var n;return(null==t||null===(n=t.claim)||void 0===n?void 0:n.uri)===e})))||void 0===t?void 0:t.mandatory},fe=function(e){if(""!==e){var t=r.filter((function(t){var n,o;return-1!==(null===(n=t.name)||void 0===n?void 0:n.toLowerCase().indexOf(e.toLowerCase()))||-1!==(null===(o=t.displayName)||void 0===o?void 0:o.toLowerCase().indexOf(e.toLowerCase()))})),n=de(r),o=[],a=[];n.forEach((function(n){var i=n.claims.filter((function(t){var n,o,i,a;return-1!==(null===(n=t.claimURI)||void 0===n?void 0:n.toLowerCase().indexOf(e.toLowerCase()))||-1!==(null===(o=t.claimDialectURI)||void 0===o?void 0:o.toLowerCase().indexOf(e.toLowerCase()))||-1!==(null===(i=t.localClaimDisplayName)||void 0===i?void 0:i.toLowerCase().indexOf(e.toLowerCase()))||-1!==(null===(a=t.mappedLocalClaimURI)||void 0===a?void 0:a.toLowerCase().indexOf(e.toLowerCase()))}));if(void 0!==i&&0!==i.length){o.includes(n.name)||o.push(n.name);var r=ce(ce({},n),{},{claims:i});a.push(r)}t.map((function(e){e.name===n.name&&0===i.length&&a.push(n)}))})),i(a),B(o)}},me=function(){var e;O(!0);var o,i,r=(i=[],"CUSTOM"===(null==E?void 0:E.dialect)?null===(o=E.claimMappings)||void 0===o||o.map((function(e){i.push(e.localClaim.uri)})):"LOCAL"===(null==E?void 0:E.dialect)&&E.requestedClaims.map((function(e){i.push(e.claim.uri)})),i),l=[],s=[];m.applicationConfig.attributeSettings.attributeSelection.getExternalClaims(n).map((function(e){if(r.includes(e.mappedLocalClaimURI)){var t=ce(ce({},e),{},{mandatory:ue(e.mappedLocalClaimURI),requested:!0});l.push(t)}else s.push(e)}));var c=de(F);null==E||null===(e=E.claimMappings)||void 0===e||e.map((function(e){null==t||t.map((function(t){if(e.localClaim.uri===t.claimURI){var n={claimDialectURI:t.dialectURI,claimURI:t.claimURI,id:t.id,localClaimDisplayName:t.displayName,mandatory:t.mandatory,mappedLocalClaimURI:t.claimURI,requested:t.requested};l.find((function(t){var n;return(null==t?void 0:t.mappedLocalClaimURI)===(null==e||null===(n=e.localClaim)||void 0===n?void 0:n.uri)}))||l.push(n)}}))})),V(c),b(l),x(s),a(s.concat(l)),Y(!0)},ve=function(e){var t=!1;return null==te||te.map((function(n){n.mappedLocalClaimURI!==e.mappedLocalClaimURI&&e.mappedLocalClaimURI!==S||(t=!0)})),t},he=function(e){var t;return s.createElement(d.Z,{image:!0,as:"h6",className:"header-with-icon","data-testid":"".concat(I,"-item-heading"),"data-componentId":"".concat(T,"-item-heading")},s.createElement(l.JT,{image:s.createElement(l.Xo,{name:e.displayName,size:"mini","data-testid":"".concat(I,"-item-image-inner"),"data-componentId":"".concat(T,"-item-image-inner")}),size:"mini",spaced:"right","data-testid":"".concat(I,"-item-image"),"data-componentId":"".concat(T,"-item-image")}),""===e.name?s.createElement(d.Z.Content,{className:"align-self-center"},s.createElement(l.kW,{warning:!0,popup:!0,compact:!0},R("console:develop.features.applications.edit.sections.attributes.selection.scopelessAttributes.hint")),e.displayName,s.createElement(d.Z.Subheader,null," "+(null!==(t=e.description)&&void 0!==t?t:""))):s.createElement(d.Z.Content,null,e.displayName,s.createElement(d.Z.Subheader,null,s.createElement(l.EK,{withBackground:!0},e.name))))},ge=function(e){return s.createElement(D.Z,{singleLine:!0,compact:!0,"data-testid":"".concat(I,"-list"),"data-componentId":"".concat(T,"-list"),fixed:!0},s.createElement(D.Z.Header,{className:"table-header-oidc-user-attribute"},s.createElement(D.Z.Row,null,s.createElement(D.Z.HeaderCell,{width:"1"}),s.createElement(D.Z.HeaderCell,{width:"10"},R("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.columns.attribute")),s.createElement(D.Z.HeaderCell,{textAlign:"center",width:"4"},R("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.columns.requested")),s.createElement(D.Z.HeaderCell,{width:"4"},R("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.columns.mandatory"),s.createElement(l.kW,{icon:"info circle",popup:!0},R("console:develop.features.applications.edit.sections.attributes.selection.mandatoryAttributeHint",{productName:ee.ui.productName}))))),s.createElement(D.Z.Body,null,s.createElement(s.Fragment,null,e.map((function(e){return s.createElement(W,{key:e.id,"data-testid":"".concat(I,"-").concat(e.claimURI),claimURI:e.claimURI,displayName:e.claimURI,mappedURI:e.mappedLocalClaimURI,localDialect:g.localDialect,initialMandatory:y===e.mappedLocalClaimURI&&!w||e.mandatory,selectMandatory:re,selectRequested:le,initialRequested:e.requested,readOnly:y===e.mappedLocalClaimURI&&!w||!ve(e)||C,localClaimDisplayName:e.localClaimDisplayName,subject:y===e.mappedLocalClaimURI&&!w,isOIDCMapping:!ve(e)})})))))},be=function(e){var t=de(z);null!=z&&z.includes(e.name)?t=t.filter((function(t){return t!==e.name})):t.push(e.name),B(t)},ye=function(e){return[{checked:e.selected,defaultChecked:e.selected,disabled:!1,onChange:se,popoverText:e.selected?R("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.listItem.actions.removeScopeRequested"):R("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.listItem.actions.makeScopeRequested"),type:"checkbox popup",value:e.name}]};return!A&&E&&$?s.createElement(s.Fragment,null,s.createElement(P.Z.Row,{"data-testid":I,"data-componentid":T},s.createElement(P.Z.Column,{computer:16,tablet:16,largeScreen:12,widescreen:12},s.createElement(l.X6,{as:"h4"},R("console:develop.features.applications.edit.sections.attributes.selection.heading")),s.createElement(l.X6,{as:"h6",color:"grey"},R("console:develop.features.applications.edit.sections.attributes.selection.description"),(ae=L("develop.applications.editApplication.oidcApplication.attributes.learnMore"),s.createElement(l.eb,{link:ae},R("common:learnMore")))),s.createElement(s.Fragment,null,s.createElement(P.Z.Row,{className:"user-role-edit-header-segment clearing attributes"},s.createElement(D.Z,{"data-testid":"".concat(I,"-action-bar"),"data-componentid":"".concat(T,"-action-bar"),basic:"very",compact:!0},s.createElement(D.Z.Body,null,s.createElement(D.Z.Row,null,s.createElement(D.Z.Cell,{collapsing:!0,width:"16"},s.createElement(Z.Z,{icon:s.createElement(f.Z,{name:"search"}),iconPosition:"left",onChange:function(e){var t=e.target.value;Q(t),t.length>0?fe(t):(B([]),i(r))},placeholder:R("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.searchPlaceholder"),floated:"left",size:"small","data-testid":"".concat(I,"-search"),"data-componentid":"".concat(T,"-search")})),s.createElement(D.Z.Cell,{textAlign:"right"}))))),s.createElement(P.Z.Row,{className:"mb-5"},0!==o.length?s.createElement(l.el,{fluid:!0,"data-testid":"".concat(I,"-oidc-scopes"),"data-componentid":"".concat(T,"-oidc-scopes"),viewType:"table-view"},o.map((function(e){if(""!==e.name)return s.createElement(s.Fragment,{key:e.name},s.createElement(l.el.Title,{id:e.name,"data-testid":"".concat(I,"-").concat(e.name,"-title"),"data-componentid":"".concat(T,"-").concat(e.name,"\n                                                                                    -title"),active:(null==z?void 0:z.includes(e.name))||!1,accordionIndex:e.name,onClick:function(){return be(e)},content:he(e),hideChevron:!1,actions:ye(e)}),s.createElement(l.el.Content,{active:(null==z?void 0:z.includes(e.name))||!1,"data-testid":"".concat(I,"-").concat(e.name,"-content"),"data-componentid":"".concat(T,"-").concat(e.name,"\n                                                                                    -content"),children:ge(e.claims)}))}))):s.createElement(l.$J,{image:(0,h.jF)().emptySearch,imageSize:"tiny",title:R("console:develop.features.applications.edit.sections.attributes.emptySearchResults.title"),subtitle:[R("console:develop.features.applications.edit.sections.attributes.emptySearchResults.subtitles.0",{searchQuery:G}),R("console:develop.features.applications.edit.sections.attributes.emptySearchResults.subtitles.1")],"data-testid":"".concat(I,"-empty-search-placeholder")})),s.createElement(P.Z.Row,null,s.createElement(l.el,{fluid:!0,"data-testid":"".concat(I,"-oidc-scopes"),"data-componentid":"".concat(T,"-oidc-scopes"),viewType:"table-view"},o.map((function(e){if(""===e.name)return s.createElement(s.Fragment,{key:e.name},s.createElement(l.el.Title,{id:e.name,"data-testid":"".concat(I,"-").concat(e.name,"-title"),"data-componentid":"".concat(T,"-").concat(e.name,"\n                                                                    -title"),active:(null==z?void 0:z.includes(e.name))||!1,accordionIndex:e.name,onClick:function(){return be(e)},content:he(e),hideChevron:!1,actions:ye(e)}),s.createElement(l.el.Content,{active:(null==z?void 0:z.includes(e.name))||!1,"data-testid":"".concat(I,"-").concat(e.name,"-content"),"data-componentid":"".concat(T,"-").concat(e.name,"\n                                                                    -content"),children:ge(e.claims)}))}))))),s.createElement(l.kW,null,s.createElement(_.c,{i18nKey:"console:develop.features.applications.edit.sections.attributes.selection.attributeComponentHint"},"Use",s.createElement(l.rU,{external:!1,onClick:function(){h.m8.push(h.$x.getPaths().get("OIDC_SCOPES"))}}," OpenID Connect Scopes"),"to manage user attribute to a scope. You can add new attributes by navigating to",s.createElement(l.rU,{external:!1,onClick:function(){h.m8.push(h.$x.getPaths().get("ATTRIBUTE_MAPPINGS").replace(":type",J.Q.OIDC))}},"Attributes."))))),s.createElement(P.Z.Row,{className:"mt-5"},s.createElement(P.Z.Column,null,s.createElement(P.Z.Row,null,s.createElement(k.Z,null,s.createElement(k.Z.Field,null,s.createElement("div",{className:"display-flex"},s.createElement(l.OR,{className:"copy-input spaced",value:oe.join(" "),"data-componentid":"".concat(T,"-selected-scope-area")}))))))),s.createElement(l.kW,null,s.createElement(_.c,{i18nKey:"console:develop.features.applications.edit.sections.attributes.selection.selectedScopesComponentHint"},"Request these scopes from your application to retrieve the user attributes you selected."),L("develop.applications.editApplication.attributeManagement.manageOIDCScopes")&&s.createElement(l.eb,{link:L("develop.applications.editApplication.attributeManagement.manageOIDCScopes")},R("console:develop.features.applications.edit.sections.attributes.selection.howToUseScopesHint")))):null};ve.defaultProps={"data-componentid":"application-attribute-selection-oidc","data-testid":"application-attribute-selection-oidc"};var he=n(6945),ge=n(43142),be=n(75917);function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Se=function(e){var t,n=e.applicationTemplateId,o=e.dropDownOptions,i=e.setSubmissionValues,a=e.setSelectedValue,r=e.defaultSubjectAttribute,u=e.triggerSubmission,d=e.initialSubject,p=e.initialRole,f=e.claimMappingOn,v=e.readOnly,h=e.technology,g=e.onlyOIDCConfigured,b=e["data-testid"],y=(0,c.$)().t,S=ye((0,s.useState)(),2),C=S[0],A=S[1],O=ye((0,s.useState)(),2),w=O[0],I=O[1];(0,s.useEffect)((function(){if(f&&o&&o.length>0)if(w){var e=o.findIndex((function(e){return(null==e?void 0:e.key)===w}));if(e>-1){var t;A(null===(t=o[e])||void 0===t?void 0:t.value)}else{var n,i,a=o.findIndex((function(e){return(null==e?void 0:e.key)===r}));A(a>-1?null===(n=o[a])||void 0===n?void 0:n.value:null===(i=o[0])||void 0===i?void 0:i.value)}}else if(C){var l,s=null===(l=o.find((function(e){return(null==e?void 0:e.value)===C})))||void 0===l?void 0:l.key;s&&(I(s),A(C))}else{var c,u;A((null==d||null===(c=d.claim)||void 0===c?void 0:c.uri)||(null===(u=o[0])||void 0===u?void 0:u.value))}else if(C)o&&o.length>0&&o.findIndex((function(e){return(null==e?void 0:e.value)===C}))<0&&A(r);else{var p,m;A((null==d||null===(p=d.claim)||void 0===p?void 0:p.uri)||(null===(m=o[0])||void 0===m?void 0:m.value))}}),[o]),(0,s.useEffect)((function(){C&&a(C)}),[C]),(0,s.useEffect)((function(){if(C&&o){var e,t=null===(e=o.find((function(e){return(null==e?void 0:e.value)===C})))||void 0===e?void 0:e.key;I(t)}}),[C]);var T,R,L=function(e,t){var n="";return e.map((function(e){e.value===t&&(n=t)})),n};return p&&d?s.createElement(ge.l0,{id:"application-attributes-advance-settings-form",uncontrolledForm:!1,initialValues:!g&&{subjectAttribute:C},onSubmit:function(e){!function(e){var t={role:{claim:L(o,e.roleAttribute),includeUserDomain:!!e.role,mappings:[]},subject:{claim:L(o,e.subjectAttribute),includeTenantDomain:!!e.subjectIncludeTenantDomain,includeUserDomain:!!e.subjectIncludeUserDomain,useMappedLocalSubject:!!e.subjectUseMappedLocalSubject}},n=m.applicationConfig.attributeSettings.advancedAttributeSettings;!n.showIncludeUserstoreDomainSubject&&delete t.subject.includeUserDomain,!n.showIncludeTenantDomain&&delete t.subject.includeTenantDomain,!n.showUseMappedLocalSubject&&delete t.subject.useMappedLocalSubject,!n.showRoleMapping&&delete t.role.mappings,!n.showIncludeUserstoreDomainRole&&t.role.includeUserDomain,!n.showRoleAttribute&&delete t.role.claim,i(t)}(e)},triggerSubmit:function(e){return u(e)}},s.createElement(l.X6,{hidden:g&&!m.applicationConfig.attributeSettings.advancedAttributeSettings.showSubjectAttribute,as:"h4"},y("console:develop.features.applications.forms.advancedAttributeSettings.sections.subject.heading")),s.createElement(be.Z,{hidden:!0}),s.createElement(ge.gN.Dropdown,{ariaLabel:"Subject attribute",name:"subjectAttribute",label:y("console:develop.features.applications.forms.advancedAttributeSettings.sections.subject.fields.subjectAttribute.label"),required:f,value:C,children:o,hidden:g&&!m.applicationConfig.attributeSettings.advancedAttributeSettings.showSubjectAttribute,readOnly:v,"data-testid":"".concat(b,"-subject-attribute-dropdown"),listen:function(e){A(e?null==e?void 0:e.toString():e)},enableReinitialize:!0,hint:1!==h.length&&n!==E.jo.CUSTOM_APPLICATION_OIDC&&n!==E.jo.CUSTOM_APPLICATION_SAML?s.createElement(l.kW,{compact:!0},y("console:develop.features.applications.forms.advancedAttributeSettings.sections.subject.fields.subjectAttribute.hint")):"oauth2"===(null===(T=h[0])||void 0===T?void 0:T.type)||n===E.jo.CUSTOM_APPLICATION_OIDC?s.createElement(l.kW,{compact:!0},s.createElement(_.c,{i18nKey:"console:develop.features.applications.forms.advancedAttributeSettings.sections.subject.fields.subjectAttribute.hintOIDC"},"Select which of the shared attributes you want to use as the subject identifier of the user. This represents the ",s.createElement(l.EK,{withBackground:!0},"sub")," claim of the",s.createElement(l.EK,{withBackground:!0},"id_token"),".")):"samlsso"===(null===(R=h[0])||void 0===R?void 0:R.type)||n===E.jo.CUSTOM_APPLICATION_SAML?s.createElement(l.kW,{compact:!0},s.createElement(_.c,{i18nKey:"console:develop.features.applications.forms.advancedAttributeSettings.sections.subject.fields.subjectAttribute.hintSAML"},"Select which of the shared attributes you want to use as the subject identifier of the user. This represents the ",s.createElement(l.EK,{withBackground:!0},"subject")," element of the SAML assertion.")):s.createElement(l.kW,{compact:!0},y("console:develop.features.applications.forms.advancedAttributeSettings.sections.subject.fields.subjectAttribute.hint"))}),s.createElement(ge.gN.CheckboxLegacy,{ariaLabel:"Subject include user domain",name:"subjectIncludeUserDomain",label:y("console:develop.features.applications.forms.advancedAttributeSettings.sections.subject.fields.subjectIncludeUserDomain.label"),required:!1,value:null!=d&&d.includeUserDomain?["includeUserDomain"]:[],readOnly:v,"data-testid":"".concat(b,"-subject-iInclude-user-domain-checkbox"),hidden:!m.applicationConfig.attributeSettings.advancedAttributeSettings.showIncludeUserstoreDomainSubject,hint:y("console:develop.features.applications.forms.advancedAttributeSettings.sections.subject.fields.subjectIncludeUserDomain.hint")}),s.createElement(ge.gN.CheckboxLegacy,{ariaLabel:"Subject include tenant domain",name:"subjectIncludeTenantDomain",label:y("console:develop.features.applications.forms.advancedAttributeSettings.sections.subject.fields.subjectIncludeTenantDomain.label"),required:!1,value:null!=d&&d.includeTenantDomain?["includeTenantDomain"]:[],readOnly:v,"data-testid":"".concat(b,"-subject-include-tenant-domain-checkbox"),hidden:!m.applicationConfig.attributeSettings.advancedAttributeSettings.showIncludeTenantDomain,hint:y("console:develop.features.applications.forms.advancedAttributeSettings.sections.subject.fields.subjectIncludeTenantDomain.hint")}),s.createElement(ge.gN.CheckboxLegacy,{ariaLabel:"Subject use mapped local subject",name:"subjectUseMappedLocalSubject",label:y("console:develop.features.applications.forms.advancedAttributeSettings.sections.subject.fields.subjectUseMappedLocalSubject.label"),required:!1,value:null!=d&&d.useMappedLocalSubject?["useMappedLocalSubject"]:[],readOnly:v,"data-testid":"".concat(b,"-subject-use-mapped-local-subject-checkbox"),hidden:!m.applicationConfig.attributeSettings.advancedAttributeSettings.showUseMappedLocalSubject,hint:y("console:develop.features.applications.forms.advancedAttributeSettings.sections.subject.fields.subjectUseMappedLocalSubject.hint")}),m.applicationConfig.attributeSettings.advancedAttributeSettings.showRoleAttribute&&s.createElement(s.Fragment,null,s.createElement(l.X6,{as:"h4"},y("console:develop.features.applications.forms.advancedAttributeSettings.sections.role.heading"))),s.createElement(ge.gN.Dropdown,{ariaLabel:"Role attribute",name:"roleAttribute",label:y("console:develop.features.applications.forms.advancedAttributeSettings.sections.role.fields.roleAttribute.label"),required:f,value:null==p||null===(t=p.claim)||void 0===t?void 0:t.uri,children:o,readOnly:v,"data-testid":"".concat(b,"-role-attribute-dropdown"),hidden:!m.applicationConfig.attributeSettings.advancedAttributeSettings.showRoleAttribute,hint:y("console:develop.features.applications.forms.advancedAttributeSettings.sections.role.fields.roleAttribute.hint")}),s.createElement(ge.gN.CheckboxLegacy,{ariaLabel:"Role",name:"role",label:y("console:develop.features.applications.forms.advancedAttributeSettings.sections.role.fields.role.label"),required:!1,value:null!=p&&p.includeUserDomain?["includeUserDomain"]:[],readOnly:v,"data-testid":"".concat(b,"-role-checkbox"),hidden:!m.applicationConfig.attributeSettings.advancedAttributeSettings.showIncludeUserstoreDomainRole,hint:y("console:develop.features.applications.forms.advancedAttributeSettings.sections.role.fields.role.hint")})):null};Se.defaultProps={"data-testid":"application-advanced-attribute-settings-form"};var Ce=n(85327);function Ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var we=function(e){var t=e.initialMappings,n=e.readOnly,o=e.onChange,i=e["data-testid"],d=(0,c.$)().t,p=(0,u.I0)(),f=Ae((0,s.useState)(),2),m=f[0],v=f[1];return(0,s.useEffect)((function(){(0,Ce.Sd)(null).then((function(e){if(200===e.status){var t=e.data;v(t.Resources)}})).catch((function(){p((0,r.V_)({description:d("console:manage.features.roles.notifications.fetchRoles.genericError.description"),level:a.QU.ERROR,message:d("console:manage.features.roles.notifications.fetchRoles.genericError.message")}))}))}),[t]),s.createElement(s.Fragment,null,s.createElement(P.Z.Row,{columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:8},s.createElement(l.X6,{as:"h4"},d("console:develop.features.applications.edit.sections.attributes.roleMapping.heading")),s.createElement(l.e9,{data:t?t.map((function(e){return{key:e.localRole.includes("/")?e.localRole.split("/")[1]:e.localRole,value:e.applicationRole}})):[],keyType:"dropdown",keyData:m?m.filter((function(e){return!(e.displayName.includes("Application/")||e.displayName.includes("Internal/"))})).map((function(e){return{id:e.displayName,value:e.displayName}})):[],keyName:d("console:develop.features.applications.edit.sections.attributes.forms.fields.dynamic.localRole.label"),valueName:d("console:develop.features.applications.edit.sections.attributes.forms.fields.dynamic.applicationRole.label"),keyRequiredMessage:d("console:develop.features.applications.edit.sections.attributes.forms.fields.dynamic.localRole.validations.empty"),valueRequiredErrorMessage:d("console:develop.features.applications.edit.sections.attributes.forms.fields.dynamic.applicationRole.validations.empty"),duplicateKeyErrorMsg:d("console:develop.features.applications.edit.sections.attributes.forms.fields.dynamic.applicationRole.validations.duplicate"),readOnly:n,"data-testid":"".concat(i,"-dynamic-field"),listen:function(e){if(o){var t,n=null!==(t=null==e?void 0:e.map((function(e){return{applicationRole:e.value,localRole:e.key.includes("/")?e.key:"Internal/"+e.key}})))&&void 0!==t?t:[];o(n)}}}))))};we.defaultProps={"data-testid":"application-role-mapping"};var Ie=n(20164),Te=n(72943);function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){Ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ke(e){return function(e){if(Array.isArray(e))return Me(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ue(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||Ue(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ue(e,t){if(e){if("string"==typeof e)return Me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Me(e,t):void 0}}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var xe="http://wso2.org/claims/username";var _e=function(e){var t,n,o,d,p,f,v,g,b,E,S,C,A,O=e.appId,w=e.applicationTemplateId,I=e.technology,T=e.featureConfig,R=e.claimConfigurations,N=e.onlyOIDCConfigured,k=e.onUpdate,U=e.readOnly,x=e["data-testid"],_=(0,c.$)().t,D=(0,u.I0)(),Z=Pe((0,s.useState)(""),2),j=Z[0],V=Z[1],H=Pe((0,s.useState)([]),2),z=H[0],B=H[1],q=Pe((0,s.useState)(),2),W=q[0],G=q[1],Q=Pe((0,s.useState)(null),2),K=Q[0],$=Q[1],Y=Pe((0,s.useState)(null),2),X=Y[0],J=Y[1],ee=Pe((0,s.useState)([]),2),te=ee[0],ne=ee[1],oe=Pe((0,s.useState)(!0),2),ie=oe[0],ae=oe[1],re=Pe((0,s.useState)([]),2),se=re[0],ce=re[1],ue=Pe((0,s.useState)([]),2),de=ue[0],pe=ue[1],fe=Pe((0,s.useState)([]),2),me=fe[0],ge=fe[1],be=Pe((0,s.useState)(!0),2),ye=be[0],Ee=be[1],Ce=Pe((0,s.useState)([]),2),Ae=Ce[0],Oe=Ce[1],Re=Pe((0,s.useState)([]),2),Ne=Re[0],Ue=Re[1],Me=Pe((0,s.useState)(!1),2),_e=Me[0],De=Me[1],Ze=Pe((0,s.useState)([]),2),je=Ze[0],Fe=Ze[1],Ve=Pe((0,s.useState)(!1),2),He=Ve[0],ze=Ve[1],Be=Pe((0,s.useState)(!1),2),qe=Be[0],We=Be[1],Ge=Pe((0,s.useState)(),2),Qe=Ge[0],Ke=Ge[1],$e=Pe((0,s.useState)(),2),Ye=$e[0],Xe=$e[1],Je=Pe((0,s.useState)(null!==(t=null==R||null===(n=R.role)||void 0===n?void 0:n.mappings)&&void 0!==t?t:[]),2),et=Je[0],tt=Je[1],nt=Pe((0,s.useState)(!0),2),ot=nt[0],it=nt[1],at=Pe((0,s.useState)(void 0),2),rt=at[0],lt=at[1],st=(0,u.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),ct=h.lD.getInstance(),ut=(0,he.KD)(),dt=ut.data,pt=ut.isLoading,ft=Pe((0,s.useState)([]),2),mt=ft[0],vt=ft[1];(0,s.useEffect)((function(){var e=me.filter((function(e){return 0!==se.filter((function(t){return t.claimURI===e.mappedLocalClaimURI})).length}));e.forEach((function(e){var t=e.mappedLocalClaimURI,n=se.filter((function(e){return e.claimURI===t}));n&&n[0]&&n[0].displayName&&(e.localClaimDisplayName=n[0].displayName)})),pe(e)}),[se,me]),(0,s.useEffect)((function(){if(!pt)return $(dt),Et(),St(),void At()}),[pt,dt]),(0,s.useEffect)((function(){yt()}),[de]),(0,s.useEffect)((function(){(0,L.Z)(z)||(ae(!0),N?Ct("http://wso2.org/oidc/claim"):(ae(!1),Ct(j)))}),[N,z]),(0,s.useEffect)((function(){if(Qe){var e=Ot();null!==e&&wt(e)}}),[Qe]),(0,s.useEffect)((function(){"CUSTOM"===(null==R?void 0:R.dialect)&&ze(!0)}),[R]);var ht,gt=function(e){var t=de.find((function(t){return t.claimURI===e}));if(t){var n,o=null===(n=R.requestedClaims.find((function(e){var n;return(null==e||null===(n=e.claim)||void 0===n?void 0:n.uri)===t.mappedLocalClaimURI})))||void 0===n?void 0:n.mandatory;if(void 0!==o)return o}return!1},bt=function(e){var t=de.find((function(t){return t.claimURI===e}));return!!t&&void 0!==R.requestedClaims.find((function(e){var n;return(null==e||null===(n=e.claim)||void 0===n?void 0:n.uri)===t.mappedLocalClaimURI}))},yt=function(){var e=ke(de),t=[],n=[];if(null!=K&&0!==K.length&&0!==se.length){K.map((function(o){if("openid"!==o.name){var i=[],a=!1;o.claims.map((function(t){e.map((function(e){if(t===e.claimURI){var o=Le(Le({},e),{},{mandatory:gt(e.claimURI),requested:bt(e.claimURI)});o.requested&&(a=!0),i.push(o),n.push(e)}}))}));var r=Le(Le({},o),{},{claims:i,selected:a});t.push(r)}}));var o=e.filter((function(e){return!n.includes(e)})),i=[],a=!1;o.map((function(e){var t=bt(e.claimURI);i.push(Le(Le({},e),{},{mandatory:gt(e.claimURI),requested:bt(e.claimURI)})),a=t})),t.push({claims:i,description:_("console:develop.features.applications.edit.sections.attributes.selection.scopelessAttributes.description"),displayName:_("console:develop.features.applications.edit.sections.attributes.selection.scopelessAttributes.displayName"),name:_("console:develop.features.applications.edit.sections.attributes.selection.scopelessAttributes.name"),selected:a})}ne((0,M.Z)(t,"name")),J((0,M.Z)(t,"name")),Ee(!1)},Et=function(){it(!0);var e={"exclude-identity-claims":m.applicationConfig.excludeIdentityClaims,filter:null,limit:null,offset:null,sort:null};(0,Ie.WN)(e).then((function(e){ce(e)})).catch((function(){D((0,r.V_)({description:_("console:manage.features.claims.local.notifications.fetchLocalClaims.genericError.description"),level:a.QU.ERROR,message:_("console:manage.features.claims.local.notifications.fetchLocalClaims.genericError.message")}))})).finally((function(){it(!1)}))},St=function(){(0,Ie.jp)(null).then((function(e){B(e)})).catch((function(){D((0,r.V_)({description:_("console:manage.features.claims.dialects.notifications.fetchDialects.genericError.description"),level:a.QU.ERROR,message:_("console:manage.features.claims.dialects.notifications.fetchDialects.genericError.message")}))}))},Ct=function(e){if(null!==e){var t=(i=e,l="",z.map((function(e){e.dialectURI===i&&(l=e.id)})),l),n=!0;e!==j&&(n=!1),G({dialectURI:e,id:t,localDialect:n}),n||null!==(o=t)&&(0,Ie.gR)(o,null).then((function(e){ae(!0),Ee(!0),ge(e)})).catch((function(){D((0,r.V_)({description:_("console:manage.features.claims.external.notifications.fetchExternalClaims.genericError.description"),level:a.QU.ERROR,message:_("console:manage.features.claims.external.notifications.fetchExternalClaims.genericError.message")}))})).finally((function(){ae(!1)}))}var o,i,l},At=function(){var e;(0,L.Z)(j)&&V((e="http://wso2.org/claims",(0,Ie.WN)(null).then((function(t){var n=t.slice(0,1)[0].dialectURI;(0,L.Z)(n)||(e=n)})),e))},Ot=function(){var e=[],t=!0;return We(!1),ke(je).map((function(n){if(n.addMapping)if((0,L.Z)(null==n?void 0:n.applicationClaim))We(!0),t=!1;else{var o,i={applicationClaim:null==n?void 0:n.applicationClaim,localClaim:{uri:null==n||null===(o=n.localClaim)||void 0===o?void 0:o.uri}};e.push(i)}})),t?e:null},wt=function(e){var t,n=!1,o=[],i=null==Qe||null===(t=Qe.subject)||void 0===t?void 0:t.claim;if(W.localDialect?Ae.map((function(t){var n,a,r,l,s=e.length>0?(n=t.claimURI,l=n,(a=e).length>0&&(l=null===(r=a.find((function(e){var t;return(null==e||null===(t=e.localClaim)||void 0===t?void 0:t.uri)===n})))||void 0===r?void 0:r.applicationClaim),l):null;if(s){if(t.requested){var c={claim:{uri:s},mandatory:i&&s===i.toString()?m.applicationConfig.attributeSettings.makeSubjectMandatory:t.mandatory};o.push(c)}}else{var u={claim:{uri:t.claimURI},mandatory:i&&t.claimURI===i.toString()?m.applicationConfig.attributeSettings.makeSubjectMandatory:t.mandatory};o.push(u)}})):te.map((function(e){null==e||e.claims.map((function(e){if(e.requested){var t={claim:{uri:e.mappedLocalClaimURI},mandatory:e.mandatory};o.find((function(e){return e.claim.uri===t.claim.uri}))||o.push(t)}}))})),e.findIndex((function(e){return e.localClaim.uri===xe}))<0&&i&&i.toString()===xe&&(n=!0),e.length>0&&n){var l={applicationClaim:xe,localClaim:{uri:xe}};e.push(l)}var s={claimConfiguration:{claimMappings:e.length>0?e:[],dialect:e.length>0?"CUSTOM":"LOCAL",requestedClaims:o,role:{claim:{uri:null==Qe?void 0:Qe.role.claim},includeUserDomain:null==Qe?void 0:Qe.role.includeUserDomain,mappings:et.length>0?et:[]},subject:{claim:{uri:null==Qe?void 0:Qe.subject.claim},includeTenantDomain:null==Qe?void 0:Qe.subject.includeTenantDomain,includeUserDomain:null==Qe?void 0:Qe.subject.includeUserDomain,useMappedLocalSubject:null==Qe?void 0:Qe.subject.useMappedLocalSubject}}};(0,L.Z)(s.claimConfiguration.claimMappings)&&delete s.claimConfiguration.claimMappings,(0,L.Z)(s.claimConfiguration.role.mappings)&&delete s.claimConfiguration.role.mappings,m.applicationConfig.attributeSettings.roleMapping||delete s.claimConfiguration.role,m.applicationConfig.excludeSubjectClaim&&N&&delete s.claimConfiguration.subject,(0,y.aA)(O,s).then((function(){k(O),D((0,r.V_)({description:_("console:develop.features.applications.notifications.updateClaimConfig.success.description"),level:a.QU.SUCCESS,message:_("console:develop.features.applications.notifications.updateClaimConfig.success.message")}))})).catch((function(){D((0,r.V_)({description:_("console:develop.features.applications.notifications.updateClaimConfig.genericError.description"),level:a.QU.ERROR,message:_("console:develop.features.applications.notifications.updateClaimConfig.genericError.message")}))}))},It=function(e){e?(ze(!0),De(!1)):(ze(!1),De(!1))};return ie||!W||ot&&(0,L.Z)(de)||ye?s.createElement(l.pJ,{padded:"very"},s.createElement(l.pO,{inline:"centered",active:!0})):s.createElement(l.pJ,{padded:"very"},s.createElement(P.Z,{className:"claim-mapping"},s.createElement("div",{className:"form-container with-max-width"},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:12},N?s.createElement(ve,{claims:se,externalClaims:de,externalClaimsGroupedByScopes:X,setExternalClaimsGroupedByScopes:J,unfilteredExternalClaimsGroupedByScopes:te,setUnfilteredExternalClaimsGroupedByScopes:ne,setExternalClaims:pe,selectedExternalClaims:Ne,setSelectedExternalClaims:Ue,selectedDialect:W,selectedSubjectValue:Ye,claimMapping:je,claimConfigurations:R,defaultSubjectAttribute:xe,readOnly:U||!(0,i.Xr)(null==T?void 0:T.applications,null==T||null===(o=T.applications)||void 0===o||null===(d=o.scopes)||void 0===d?void 0:d.update,st),isUserAttributesLoading:rt,setUserAttributesLoading:lt,onlyOIDCConfigured:N,"data-testid":"".concat(x,"-attribute-selection-oidc"),"data-componentid":"".concat(x,"-attribute-selection-oidc")}):s.createElement(le,{claims:se,setClaims:ce,externalClaims:de,setExternalClaims:pe,selectedClaims:Ae,selectedExternalClaims:Ne,setSelectedClaims:Oe,setSelectedExternalClaims:Ue,selectedDialect:W,selectedSubjectValue:Ye,claimMapping:je,setClaimMapping:Fe,createMapping:function(e){if(W.localDialect){var t=ke(je);e.map((function(e){var n={addMapping:!1,applicationClaim:"",localClaim:{displayName:e.displayName,id:e.id,uri:e.claimURI}};t.some((function(t){return t.localClaim.uri===e.claimURI}))||t.push(n),Fe(t)}))}},removeMapping:function(e){var t,n=ke(je);n.map((function(n){n.localClaim.uri===e&&(t=n)})),t&&(n.splice(n.indexOf(t),1),Fe(n))},updateMappings:function(e,t){if(W.localDialect){var n=ke(je);e.map((function(e){var t={addMapping:!1,applicationClaim:"",localClaim:{displayName:e.displayName,id:e.id,uri:e.claimURI}};n.some((function(t){return t.localClaim.uri===e.claimURI}))||n.push(t)})),t.map((function(e){var t;n.map((function(n){n.localClaim.uri===e.claimURI&&(t=n)})),t&&n.splice(n.indexOf(t),1)})),Fe(n)}},getCurrentMapping:function(e){var t;return ke(je).map((function(n){n.localClaim.uri===e&&(t=n)})),t},updateClaimMapping:function(e,t,n){var o=ke(je),i={},a=[];o.forEach((function(o){o.localClaim.uri===e&&(o.applicationClaim=t),n&&(i[o.applicationClaim]?a.push(o.applicationClaim):i[o.applicationClaim]=!0)})),n&&vt(a),Fe(o)},addToClaimMapping:function(e,t){var n=ke(je);n.forEach((function(n){n.localClaim.uri===e&&(n.addMapping=t)})),Fe(n)},claimConfigurations:R,claimMappingOn:He,defaultSubjectAttribute:xe,showClaimMappingRevertConfirmation:De,setClaimMappingOn:ze,claimMappingError:qe,readOnly:U||!(0,i.Xr)(null==T?void 0:T.applications,null==T||null===(p=T.applications)||void 0===p||null===(f=p.scopes)||void 0===f?void 0:f.update,st),isUserAttributesLoading:rt,setUserAttributesLoading:lt,onlyOIDCConfigured:N,"data-testid":"".concat(x,"-attribute-selection"),duplicatedMappingValues:mt})))),!1===rt?s.createElement(P.Z,null,s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Se,{dropDownOptions:function(){var e=[];if(W.localDialect){if(He){var t=!1,n=[],o=ke(je);if(je.map((function(e){if(e&&e.localClaim){var o={key:null==e?void 0:e.localClaim.uri,text:s.createElement(Te.EP,{key:e.localClaim.id,displayName:e.applicationClaim?e.applicationClaim:e.localClaim.uri,claimURI:e.localClaim.uri,value:e.applicationClaim}),value:e.applicationClaim};e.localClaim.uri===xe&&(t=!0),n.push(o)}})),0===o.length||!t){var i=se.filter((function(e){return e.claimURI===xe}))[0];if(null!=i){var a={key:i.claimURI,text:s.createElement(Te.EP,{key:i.id,displayName:i.displayName,claimURI:i.claimURI,value:i.claimURI}),value:i.claimURI};n.push(a)}}return(0,M.Z)(n,"key")}var r=!1;if(Ae.map((function(t){var n={key:t.claimURI,text:s.createElement(Te.EP,{key:t.id,displayName:t.displayName,claimURI:t.claimURI,value:t.claimURI}),value:t.claimURI};e.push(n),t.claimURI===xe&&(r=!0)})),!r){var l=se.filter((function(e){return e.claimURI===xe}))[0];if(null!=l){var c={key:l.claimURI,text:s.createElement(Te.EP,{key:l.id,displayName:l.displayName,claimURI:l.claimURI,value:l.claimURI}),value:l.claimURI};e.push(c)}}}else{var u=!1;if(Ne.map((function(t){var n={key:t.claimURI,text:s.createElement(Te.EP,{key:t.id,displayName:t.localClaimDisplayName,claimURI:t.claimURI,value:t.mappedLocalClaimURI}),value:t.mappedLocalClaimURI};e.push(n),t.mappedLocalClaimURI===xe&&(u=!0)})),!u){var d=[].concat(ke(de),ke(Ne)).filter((function(e){return e.mappedLocalClaimURI===xe}))[0];if(null!=d){var p={key:d.claimURI,text:s.createElement(Te.EP,{key:d.id,displayName:d.localClaimDisplayName,claimURI:d.claimURI,value:d.mappedLocalClaimURI}),value:d.mappedLocalClaimURI};e.push(p)}}}return(0,M.Z)(e,"value")}(),triggerSubmission:function(e){ht=e},setSubmissionValues:Ke,setSelectedValue:Xe,defaultSubjectAttribute:xe,initialRole:null==R?void 0:R.role,initialSubject:null==R?void 0:R.subject,claimMappingOn:He,readOnly:U||!(0,i.Xr)(null==T?void 0:T.applications,null==T||null===(v=T.applications)||void 0===v||null===(g=v.scopes)||void 0===g?void 0:g.update,st),technology:I,applicationTemplateId:w,onlyOIDCConfigured:N,"data-testid":"".concat(x,"-advanced-attribute-settings-form")}))),s.createElement(l.cV,{onClose:function(){return De(!1)},type:"warning",open:_e,primaryAction:_("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.mappingRevert.confirmPrimaryAction"),secondaryAction:_("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.mappingRevert.confirmSecondaryAction"),onSecondaryActionClick:function(){return It(!0)},onPrimaryActionClick:function(){return It(!1)}},s.createElement(l.cV.Header,null,_("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.mappingRevert.confirmationHeading")),s.createElement(l.cV.Message,{warning:!0},_("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.mappingRevert.confirmationMessage")),s.createElement(l.cV.Content,null,_("console:develop.features.applications.edit.sections.attributes.selection.mappingTable.mappingRevert.confirmationContent"))),m.applicationConfig.attributeSettings.roleMapping&&s.createElement(we,{onChange:tt,initialMappings:null==R||null===(b=R.role)||void 0===b?void 0:b.mappings,readOnly:U||!(0,i.Xr)(null==T?void 0:T.applications,null==T||null===(E=T.applications)||void 0===E||null===(S=E.scopes)||void 0===S?void 0:S.update,st),"data-testid":"".concat(x,"-role-mapping")}),!U&&(0,i.Xr)(null==T?void 0:T.applications,null==T||null===(C=T.applications)||void 0===C||null===(A=C.scopes)||void 0===A?void 0:A.update,st)&&s.createElement(P.Z.Row,null,s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(F.Z,{primary:!0,size:"small",onClick:function(){ct.publish("application-user-attribute-click-update-button");var e=new Set(je.map((function(e){return e.applicationClaim})));He&&e.size!==je.length?D((0,r.V_)({description:_("console:develop.features.applications.notifications.updateClaimConfig.error.description",{description:"Mapped user attributes cannot be duplicated."}),level:a.QU.ERROR,message:_("console:develop.features.applications.notifications.updateClaimConfig.error.message")})):ht()},"data-testid":"".concat(x,"-submit-button")},_("common:update"))))):null)};_e.defaultProps={"data-testid":"application-attribute-settings"};var De=n(36657),Ze=n(47793),je=n(50274),Fe="application-advanced-configuration-form",Ve=function(e){var t=e.config,n=e.onSubmit,o=e.readOnly,i=e.template,a=e.isSubmitting,r=e["data-testid"],l=(0,c.$)().t,u=function(e){var t={advancedConfigurations:{enableAuthorization:!!e.enableAuthorization,returnAuthenticatedIdpList:!!e.returnAuthenticatedIdpList,saas:!!e.saas,skipLoginConsent:!!e.skipConsentLogin,skipLogoutConsent:!!e.skipConsentLogout}};!m.applicationConfig.advancedConfigurations.showSaaS&&delete t.advancedConfigurations.saas,!m.applicationConfig.advancedConfigurations.showEnableAuthorization&&delete t.advancedConfigurations.enableAuthorization,!m.applicationConfig.advancedConfigurations.showReturnAuthenticatedIdPs&&delete t.advancedConfigurations.returnAuthenticatedIdpList,n(t)};return s.createElement(ge.l0,{id:Fe,uncontrolledForm:!1,onSubmit:function(e){u(e)}},s.createElement(ge.gN.CheckboxLegacy,{ariaLabel:"Saas application",name:"saas",label:l("console:develop.features.applications.forms.advancedConfig.fields.saas.label"),required:!1,value:null!=t&&t.saas?["saas"]:[],readOnly:o,"data-testid":"".concat(r,"-sass-checkbox"),hint:l("console:develop.features.applications.forms.advancedConfig.fields.saas.hint"),hidden:!m.applicationConfig.advancedConfigurations.showSaaS}),s.createElement(ge.gN.CheckboxLegacy,{ariaLabel:"Skip consent login",name:"skipConsentLogin",label:l("console:develop.features.applications.forms.advancedConfig.fields.skipConsentLogin.label"),required:!1,value:null!=t&&t.skipLoginConsent?["skipLoginConsent"]:[],readOnly:o,"data-testid":"".concat(r,"-skip-login-consent-checkbox"),hint:l("console:develop.features.applications.forms.advancedConfig.fields.skipConsentLogin.hint")}),(null==je?void 0:je.id)!==(null==i?void 0:i.id)&&s.createElement(ge.gN.CheckboxLegacy,{ariaLabel:"Skip consent logout",name:"skipConsentLogout",label:l("console:develop.features.applications.forms.advancedConfig.fields.skipConsentLogout.label"),required:!1,value:null!=t&&t.skipLogoutConsent?["skipLogoutConsent"]:[],readOnly:o,"data-testid":"".concat(r,"-skip-logout-consent-checkbox"),hint:l("console:develop.features.applications.forms.advancedConfig.fields.skipConsentLogout.hint")}),s.createElement(ge.gN.CheckboxLegacy,{ariaLabel:"Return authenticated IDP list",name:"returnAuthenticatedIdpList",label:l("console:develop.features.applications.forms.advancedConfig.fields.returnAuthenticatedIdpList.label"),required:!1,value:null!=t&&t.returnAuthenticatedIdpList?["returnAuthenticatedIdpList"]:[],readOnly:o,"data-testid":"".concat(r,"-return-authenticated-idp-list-checkbox"),hidden:!m.applicationConfig.advancedConfigurations.showReturnAuthenticatedIdPs,hint:l("console:develop.features.applications.forms.advancedConfig.fields.returnAuthenticatedIdpList.hint")}),s.createElement(ge.gN.CheckboxLegacy,{ariaLabel:"Enable authorization",name:"enableAuthorization",label:l("console:develop.features.applications.forms.advancedConfig.fields.enableAuthorization.label"),required:!1,value:null!=t&&t.enableAuthorization?["enableAuthorization"]:[],readOnly:o,"data-testid":"".concat(r,"-enable-authorization-checkbox"),hidden:!m.applicationConfig.advancedConfigurations.showEnableAuthorization,hint:l("console:develop.features.applications.forms.advancedConfig.fields.enableAuthorization.hint")}),s.createElement(ge.gN.Button,{form:Fe,size:"small",buttonType:"primary_btn",ariaLabel:"Update button",name:"update-button","data-testid":"".concat(r,"-submit-button"),disabled:a,loading:a,hidden:o,label:l("common:update")}))};Ve.defaultProps={"data-testid":"application-advanced-configurations-form"};var He=n(10559),ze=n(38523),Be=n(41498),qe=n(62049),We=["certificate","data-testid"];function Ge(){return Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ge.apply(this,arguments)}function Qe(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Ke=function(e){var t=e.certificate,n=e["data-testid"],o=Qe(e,We),i=(0,c.$)().t,a=s.createElement(V.Z,{className:"certificate","data-testid":n},s.createElement("p",{className:"certificate-field"},"We were unable to read this certificate. Currently we only support displaying public key information in certificate types of ",He.lu.SUPPORTED_KEY_ALGORITHMS.map((function(e,t){return s.createElement("span",{key:"".concat(e,"+").concat(t)},s.createElement(l.EK,null,e),"\xa0")}))," key algorithms. Support for ",s.createElement("strong",null,"Elliptic Curve Cryptography"),"\xa0 key algorithms will be enabled soon."));return s.createElement(G.Z,Ge({closeOnDimmerClick:!0,className:"certificate-display",dimmer:"blurring",size:"tiny","data-testid":"".concat(n,"-view-certificate-modal")},o),s.createElement(G.Z.Header,null,s.createElement("div",{className:"certificate-ribbon"},s.createElement(l.dn,{inline:!0,transparent:!0,size:"auto",icon:(0,h._5)().ribbon}),s.createElement("div",{className:"certificate-alias"},"View Certificate - ",null!=t&&t.alias?null==t?void 0:t.alias:(null==t?void 0:t.issuerDN)&&ze.CertificateManagementUtils.searchIssuerDNAlias(null==t?void 0:t.issuerDN)),s.createElement("br",null),s.createElement("div",{className:"certificate-serial"},"Serial Number: ",null==t?void 0:t.serialNumber))),s.createElement(G.Z.Content,{className:"certificate-content"},null!=t&&t.infoUnavailable?a:s.createElement(l.KB,{certificate:t,labels:{issuerDN:i("console:manage.features.certificates.keystore.summary.issuerDN"),subjectDN:i("console:manage.features.certificates.keystore.summary.subjectDN"),validFrom:i("console:manage.features.certificates.keystore.summary.validFrom"),validTill:i("console:manage.features.certificates.keystore.summary.validTill"),version:i("console:manage.features.certificates.keystore.summary.version")}})))};function $e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||Ye(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(e,t){if(e){if("string"==typeof e)return Xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xe(e,t):void 0}}function Xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Ke.defaultProps={"data-testid":"certificate-form-field-modal"};var Je=function(e){var t=e.certificate,n=e.metadata,o=e.initialValues,i=e.onSubmit,d=e.readOnly,p=e.isLoading,f=e["data-testid"],m=(0,c.$)().t,v=(0,u.I0)(),h=$e((0,s.useState)(!1),2),g=h[0],b=h[1],y=$e((0,s.useState)(!1),2),C=y[0],A=y[1],O=$e((0,s.useState)(void 0),2),w=O[0],I=O[1],T=$e((0,s.useState)(null),2),R=T[0],N=T[1];(0,s.useEffect)((function(){S.el.PEM===(null==t?void 0:t.type)&&(b(!0),null!=t&&t.value&&I(t.value))}),[t]);var k=function(){if(n){var e=null==n?void 0:n.properties;return e.length>0&&e.sort((function(e,t){return e.displayOrder>t.displayOrder?1:-1})),e.map((function(e){var t=o.properties.find((function(t){return t.key===e.name}));return function(e,t){var n;return(null==e||null===(n=e.availableValues)||void 0===n?void 0:n.length)>0?s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{label:null==e?void 0:e.displayName,name:null==e?void 0:e.name,type:"dropdown",value:null==t?void 0:t.value,required:null==e?void 0:e.required,requiredErrorMessage:m("console:develop.features.applications.forms.inboundCustom.fields.dropdown.validations.empty",{name:null==e?void 0:e.displayName}),default:null==e?void 0:e.defaultValue,children:U(null==e?void 0:e.availableValues),"data-testid":"".concat(f,"-").concat(null==e?void 0:e.name,"-dropdown")}))):null!=e&&e.isConfidential?s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{label:null==e?void 0:e.displayName,name:null==e?void 0:e.name,hidePassword:m("common:hide")+" "+(null==e?void 0:e.displayName),showPassword:m("common:show")+" "+(null==e?void 0:e.displayName),value:null==t?void 0:t.value,required:null==e?void 0:e.required,requiredErrorMessage:m("console:develop.features.applications.forms.inboundCustom.fields.password.validations.empty",{name:null==e?void 0:e.displayName}),placeholder:m("console:develop.features.applications.forms.inboundCustom.fields.password.placeholder",{name:null==e?void 0:e.displayName}),type:"password",default:null==e?void 0:e.defaultValue,"data-testid":"".concat(f,"-").concat(null==e?void 0:e.name,"-password-input")}))):(null==e?void 0:e.type)===S.og.BOOLEAN?s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{name:null==e?void 0:e.name,label:"",required:null==e?void 0:e.required,requiredErrorMessage:m("console:develop.features.applications.forms.inboundCustom.fields.checkbox.validations.empty",{user:null==e?void 0:e.displayName}),value:null!=t&&t.value?[e.name]:[],type:"checkbox",children:[{label:e.displayName,value:e.name}],"data-testid":"".concat(f,"-").concat(null==e?void 0:e.name,"-checkbox")}))):s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{label:null==e?void 0:e.displayName,name:null==e?void 0:e.name,required:null==e?void 0:e.required,value:null==t?void 0:t.value,requiredErrorMessage:m("console:develop.features.applications.forms.inboundCustom.fields.generic.validations.empty",{name:null==e?void 0:e.displayName}),placeholder:m("console:develop.features.applications.forms.inboundCustom.fields.generic.placeholder",{name:null==e?void 0:e.displayName}),type:(null==e?void 0:e.type)===S.og.INTEGER?"number":"text","data-testid":"".concat(f,"-").concat(null==e?void 0:e.name,"-input")})))}(e,t)}))}},U=function(e){var t=[];return e&&e.map((function(n){t.push({key:e.indexOf(n),text:n,value:n})})),t},M=function(e){var t,n=[],i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ye(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){l=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw a}}}}(e);try{for(i.s();!(t=i.n()).done;){var a=$e(t.value,2),r=a[0],l=a[1],s=void 0;s=l instanceof Array?{key:r,value:l.length>0}:{key:r,value:l},n.push(s)}}catch(c){i.e(c)}finally{i.f()}return{general:{advancedConfigurations:{certificate:{type:e.get("type"),value:g?e.get("certificateValue"):e.get("jwksValue")}}},inbound:{configName:null==o?void 0:o.configName,name:null==o?void 0:o.name,properties:[].concat(n)}}};(0,s.useEffect)((function(){n&&k()}),[n]);return s.createElement(Be.Es,{onSubmit:function(e){i(M(e))}},s.createElement(P.Z,null,k(),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(be.Z,null)),s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h5"},m("console:develop.features.applications.forms.advancedConfig.sections.certificate.heading")),s.createElement(Be.gN,{label:m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.label"),name:"type",default:S.el.JWKS,listen:function(e){b("PEM"===e.get("type"))},type:"radio",value:null==t?void 0:t.type,children:[{label:m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.jwks.label"),value:S.el.JWKS},{label:m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.pem.label"),value:S.el.PEM}],readOnly:d,"data-testid":"".concat(f,"-certificate-type-radio-group")}))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},g?s.createElement(s.Fragment,null,s.createElement(Be.gN,{name:"certificateValue",label:m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.label"),required:!1,requiredErrorMessage:m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.validations.empty"),placeholder:E.jo.PEM_CERTIFICATE_PLACEHOLDER,type:"textarea",value:S.el.PEM===(null==t?void 0:t.type)&&(null==t?void 0:t.value),listen:function(e){I(e.get("certificateValue"))},readOnly:d,"data-testid":"".concat(f,"-certificate-textarea")}),s.createElement(l.kW,null,m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.hint")),s.createElement(l.Qj,{className:"certificate-info-link-button",onClick:function(e){var t;e.preventDefault(),g&&w&&((t=ze.CertificateManagementUtils.canSafelyParseCertificate(w)?ze.CertificateManagementUtils.displayCertificate(null,w):He.lu.DUMMY_DISPLAY_CERTIFICATE)?(N(t),A(!0)):v((0,r.V_)({description:m("console:common.notifications.invalidPEMFile.genericError.description"),level:a.QU.ERROR,message:m("console:common.notifications.invalidPEMFile.genericError.message")})))},disabled:(0,L.Z)(w),"data-testid":"".concat(f,"-certificate-info-button")},m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.actions.view"))):s.createElement(s.Fragment,null,s.createElement(Be.gN,{name:"jwksValue",label:m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.label"),required:!1,requiredErrorMessage:m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.validations.empty"),placeholder:m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.placeholder"),type:"text",validation:function(e,t){qe.I.url(e)||(t.isValid=!1,t.errorMessages.push(m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.validations.invalid")))},value:S.el.JWKS===(null==t?void 0:t.type)&&(null==t?void 0:t.value),readOnly:d,"data-testid":"".concat(f,"-jwks-input")})))),C&&s.createElement(Ke,{open:C,certificate:R,onClose:function(){A(!1)}}),!d&&s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(F.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:p,disabled:p},m("common:update"))))))};Je.defaultProps={"data-testid":"inbound-custom-protocol-form"};var et=n(17),tt=n(3271),nt=n(28579),ot=n(93092),it=n(30898);const at=(0,ot.Z)((function(e){var t=(0,tt.Z)(e,it.Z);return t.length&&t[0]===e[0]?(0,nt.Z)(t):[]}));var rt=n(56299),lt=n(85833),st=n(90751),ct=n(6042),ut=n(61375),dt=n(41780),pt=n(45690),ft=n(23865),mt=n(20334),vt=n.n(mt);function ht(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var bt=function(e){var t=e.triggerCertificateUpload,n=e.onSubmit,o=e.setShowFinishButton,i=e["data-testid"],a=ht((0,s.useState)(""),2),r=a[0],l=a[1],c=ht((0,s.useState)(""),2),u=c[0],d=c[1],p=ht((0,s.useState)(""),2),f=p[0],m=p[1],v=ht((0,s.useState)(null),2),g=v[0],b=v[1],y=ht((0,s.useState)(null),2),E=y[0],S=y[1],C=ht((0,s.useState)(""),2),A=C[0],O=C[1];(0,s.useEffect)((function(){""!==A&&n(A)}),[A]);var w=function(e,t,n,o,i,a){l(t),m(n),d(o),b(i),S(a),O(btoa(ze.CertificateManagementUtils.enclosePem(e.certificate)))};return s.createElement(s.Fragment,null,s.createElement(Be.Es,{"data-testid":"".concat(i,"-form")},s.createElement(P.Z,null,s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(h.e,{submit:w,triggerSubmit:t,pemData:f,nameData:r,fileDecodedData:u,fileData:g,forgeCertificateData:E,"data-testid":"".concat(i,"-upload"),hideAliasInput:!0,setShowFinishButton:o}))))))};bt.defaultProps={"data-testid":"add-application-certificate-form"};var yt=n(21395);function Et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return St(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return St(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function St(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Ct=function(e){var t=e.closeWizard,n=e.currentStep,o=e.updatePEMValue,i=e["data-testid"],a=(0,c.$)().t,r=Et((0,Be.cC)(),2),u=r[0],d=r[1],p=Et((0,Be.cC)(),2),f=p[0],m=p[1],v=Et((0,s.useState)(void 0),1)[0],h=Et((0,s.useState)(n),2),g=h[0],b=h[1],y=Et((0,s.useState)(!1),2),E=y[0],S=y[1],C=Et((0,l.IK)(),3),A=C[0],O=C[2];(0,s.useEffect)((function(){void 0!==v&&b(g-1)}),[v]);var w=[{content:s.createElement(bt,{triggerCertificateUpload:f,triggerSubmit:u,onSubmit:function(e){!function(e){o(e),t()}(e)},setShowFinishButton:S}),icon:(0,yt.ot)().general,title:a("console:manage.features.certificates.keystore.wizard.steps.upload")}];return s.createElement(G.Z,{open:!0,className:"wizard application-create-wizard",dimmer:"blurring",size:"small",onClose:t,"data-testid":i,closeOnDimmerClick:!1,closeOnEscape:!0},s.createElement(G.Z.Header,{className:"wizard-header"},a("console:develop.features.applications.wizards.applicationCertificateWizard.heading"),s.createElement(l.X6,{as:"h6"},a("console:develop.features.applications.wizards.applicationCertificateWizard.subHeading"))),s.createElement(G.Z.Content,{className:"content-container",scrolling:!0},A&&O,w[g].content),s.createElement(G.Z.Actions,null,s.createElement(P.Z,null,s.createElement(P.Z.Row,{column:1},s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:8},s.createElement(l.Qj,{floated:"left",onClick:function(){return t()},"data-testid":"".concat(i,"-cancel-button")},a("common:cancel"))),s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:8},g===w.length-1&&s.createElement(l.KM,{disabled:!E,floated:"right",onClick:function(){if(0===g)m(),d()},"data-testid":"".concat(i,"-finish-button")},a("common:finish")))))))};function At(e){return At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},At(e)}function Ot(){Ot=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",r=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,n){return e[t]=n}}function s(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),r=new A(o||[]);return a._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return w()}for(n.method=i,n.arg=a;;){var r=n.delegate;if(r){var l=E(r,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=c(e,t,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}(e,n,r),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=s;var u={};function d(){}function p(){}function f(){}var m={};l(m,i,(function(){return this}));var v=Object.getPrototypeOf,h=v&&v(v(O([])));h&&h!==t&&n.call(h,i)&&(m=h);var g=f.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function o(i,a,r,l){var s=c(e[i],e,a);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==At(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,r,l)}),(function(e){o("throw",e,r,l)})):t.resolve(d).then((function(e){u.value=e,r(u)}),(function(e){return o("throw",e,r,l)}))}l(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){o(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var o=c(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,u;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:w}}function w(){return{value:void 0,done:!0}}return p.prototype=f,l(g,"constructor",f),l(f,"constructor",p),p.displayName=l(f,r,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,r,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(y.prototype),l(y.prototype,a,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,o,i,a){void 0===a&&(a=Promise);var r=new y(s(t,n,o,i),a);return e.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},b(g),l(g,r,"Generator"),l(g,i,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=O,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],r=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(l&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(n),!0).forEach((function(t){Tt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rt(e,t,n,o,i,a,r){try{var l=e[a](r),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(o,i)}function Lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Ct.defaultProps={currentStep:0,"data-testid":"add-application-certificate-wizard"};var kt=function(e){var t=e.deleteAllowed,n=e.reasonInsideTooltipWhyDeleteIsNotAllowed,o=e.onUpdate,i=e.application,d=e.applicationCertificate,p=e.updatePEMValue,m=e["data-testid"],v=(0,c.$)().t,g=(0,u.I0)(),b=Lt((0,s.useState)(null),2),E=b[0],C=b[1],A=Lt((0,s.useState)(!1),2),O=A[0],w=A[1],I=Lt((0,s.useState)(null),2),T=I[0],R=I[1],L=Lt((0,s.useState)(!1),2),N=L[0],k=L[1],U=Lt((0,s.useState)(!1),2),M=U[0],x=U[1],_=Lt((0,s.useState)(!1),2),D=_[0],Z=_[1];(0,s.useEffect)((function(){if(d){var e=[];ze.CertificateManagementUtils.canSafelyParseCertificate(d)?null==e||e.push(ze.CertificateManagementUtils.displayCertificate(null,d)):null==e||e.push(He.lu.DUMMY_DISPLAY_CERTIFICATE),C(e)}}),[d]),(0,s.useEffect)((function(){T&&w(!0)}),[T]),(0,s.useEffect)((function(){O||R(null)}),[O]);var j=function(e){R(e)},F=function(){var e,t=(e=Ot().mark((function e(){var t;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(!0),p(""),C(null),e.prev=4,t={general:{advancedConfigurations:{certificate:{type:S.el.PEM,value:""}}}},e.next=8,(0,y.hN)(It({id:null==i?void 0:i.id},t.general));case 8:g((0,r.V_)({description:v("console:develop.features.applications.notifications.deleteCertificateSuccess.description"),level:a.QU.SUCCESS,message:v("console:develop.features.applications.notifications.deleteCertificateSuccess.message")})),e.next=17;break;case 11:if(e.prev=11,e.t0=e.catch(4),!(e.t0.response&&e.t0.response.data&&e.t0.response.data.description)){e.next=16;break}return g((0,r.V_)({description:e.t0.response.data.description,level:a.QU.ERROR,message:e.t0.response.data.message})),e.abrupt("return");case 16:g((0,r.V_)({description:v("console:develop.features.applications.notifications.deleteCertificateGenericError.description"),level:a.QU.ERROR,message:v("console:develop.features.applications.notifications.deleteCertificateGenericError.message")}));case 17:return e.prev=17,x(!1),Z(!1),o(i.id),e.finish(17);case 22:case"end":return e.stop()}}),e,null,[[4,11,17,22]])})),function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function r(e){Rt(a,o,i,r,l,"next",e)}function l(e){Rt(a,o,i,r,l,"throw",e)}r(void 0)}))});return function(){return t.apply(this,arguments)}}(),H=s.createElement(l.cV,{onClose:function(){return x(!1)},onSecondaryActionClick:function(){return x(!1)},primaryActionLoading:D,onPrimaryActionClick:F,open:M,type:"negative",primaryAction:v("console:develop.features.applications.confirmations.certificateDelete.primaryAction"),secondaryAction:v("console:develop.features.applications.confirmations.certificateDelete.secondaryAction"),"data-testid":"".concat(m,"-delete-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(m,"-delete-confirmation-modal-header")},v("console:develop.features.applications.confirmations.certificateDelete.header")),s.createElement(l.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(m,"-delete-confirmation-modal-message")},v("console:develop.features.applications.confirmations.certificateDelete.message"))),z=function(e,t,n){var o,i,r=vt()(t);switch(ze.CertificateManagementUtils.determineCertificateValidityState({from:e,to:t})){case a.WE.VALID:o="check circle",i="green";break;case a.WE.WILL_EXPIRE_SOON:o="exclamation circle",i="yellow";break;default:o="times circle",i="red"}return s.createElement(s.Fragment,null,n+He.lu.SPACE_CHARACTER,s.createElement(l.GI,{trigger:s.createElement(f.Z,{name:o,color:i}),content:"Expiry date: "+r.format("DD/MM/YYYY"),inverted:!0,position:"top left",size:"mini"}))},B=function(e){return s.createElement(l.Yt,{name:null!=e&&e.infoUnavailable?He.lu.QUESTION_MARK:ze.CertificateManagementUtils.searchIssuerDNAlias(null==e?void 0:e.issuerDN),size:"mini",floated:"left"})},q=function(e){return s.createElement("span",{className:"with-muted-list-item-header"},"Unable to visualize the certificate details\xa0",s.createElement(l.GI,{trigger:s.createElement(f.Z,{onClick:function(){return j(e)},name:"info circle",color:"grey"}),content:"Click for more info",inverted:!0,position:"top left",size:"mini"}))};return s.createElement(Be.Es,null,E?s.createElement(P.Z,null,s.createElement(P.Z.Row,null,s.createElement(P.Z.Column,{width:16},s.createElement(be.Z,{hidden:!0}),s.createElement(l.Db,{fill:!0,relaxed:!1,className:"application-list",loadingStateOptions:{count:h.ru.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,imageType:"circular"}},null==E?void 0:E.map((function(e,o){return s.createElement(l.zA,{key:o,actionsColumnWidth:3,descriptionColumnWidth:9,actions:[{"data-testid":"".concat(m,"-edit-cert-").concat(o,"-button"),icon:"pencil",onClick:function(){return k(!0)},popupText:"Change certificate",type:"button"},{"data-testid":"".concat(m,"-edit-cert-").concat(o,"-button"),disabled:null==e?void 0:e.infoUnavailable,hidden:null==e?void 0:e.infoUnavailable,icon:"eye",onClick:function(){return j(e)},popupText:"View certificate",type:"button"},{"data-testid":"".concat(m,"-delete-cert-").concat(o,"-button"),disabled:!t,icon:"trash alternate",onClick:function(){return x(!0)},popupText:t?v("console:manage.features.users.usersList.list.iconPopups.delete"):n,type:"button"}],actionsFloated:"right",avatar:B(e),itemHeader:null!=e&&e.infoUnavailable?q(e):z(e.validFrom,e.validTill,ze.CertificateManagementUtils.searchIssuerDNAlias(null==e?void 0:e.issuerDN)),itemDescription:null!=e&&e.infoUnavailable?null:ze.CertificateManagementUtils.getValidityPeriodInHumanReadableFormat(e.validFrom,e.validTill)})})))))):s.createElement(P.Z,null,s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{width:16},s.createElement(be.Z,{hidden:!0}),s.createElement(V.Z,null,s.createElement(l.$J,{title:v("console:develop.features.applications.wizards.applicationCertificateWizard.emptyPlaceHolder.title"),image:(0,h.jF)().emptyList,subtitle:[v("console:develop.features.applications.wizards.applicationCertificateWizard.emptyPlaceHolder.description1"),v("console:develop.features.applications.wizards.applicationCertificateWizard.emptyPlaceHolder.description2")],imageSize:"tiny",action:s.createElement(l.KM,{onClick:function(){return k(!0)},"data-testid":"".concat(m,"-emptyPlaceholder-add-certificate-button"),type:"button"},s.createElement(f.Z,{name:"add"}),v("console:develop.features.authenticationProvider.buttons.addCertificate")),"data-testid":"".concat(m,"-empty-placeholder")})),s.createElement(be.Z,{hidden:!0})))),N&&s.createElement(Ct,{closeWizard:function(){return k(!1)},updatePEMValue:p,"data-testid":"".concat(m,"-add-certificate-wizard")}),H,O&&s.createElement(Ke,{open:O,certificate:T,onClose:function(){return w(!1)}}))};function Pt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ut(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}kt.defaultProps={"data-testid":"application-certificate-list",deleteAllowed:!0,reasonInsideTooltipWhyDeleteIsNotAllowed:null};var Mt=function(e){var t=e.protocol,n=e.deleteAllowed,o=e.reasonInsideTooltipWhyDeleteIsNotAllowed,i=e.onUpdate,d=e.application,p=e.certificate,f=e.triggerSubmit,v=e.hidden,h=e.hideJWKS,g=e.readOnly,b=e.updateCertFinalValue,y=e.updateCertType,E=e.canDiscardCertificate,C=e["data-testid"],A=(0,c.$)().t,O=(0,u.I0)(),w=Pt((0,s.useState)(!1),2),I=w[0],T=w[1],R=Pt((0,s.useState)(S.el.NONE),2),N=R[0],k=R[1],U=Pt((0,s.useState)(void 0),2),M=U[0],x=U[1],D=Pt((0,s.useState)(void 0),2),Z=D[0],j=D[1],F=Pt((0,s.useState)(!1),2),V=F[0],H=F[1],z=Pt((0,s.useState)(!1),2),B=z[0],q=z[1];(0,s.useEffect)((function(){null!=p&&p.type&&k(null==p?void 0:p.type)}),[p]),(0,s.useEffect)((function(){S.el.PEM===N?(b(M),(0,L.Z)(M)||T(!1)):S.el.JWKS===N&&b(Z)}),[M,Z]),(0,s.useEffect)((function(){S.el.PEM===(null==p?void 0:p.type)?null!=p&&p.value&&x(p.value):S.el.JWKS===(null==p?void 0:p.type)&&null!=p&&p.value&&j(p.value)}),[p]),(0,s.useEffect)((function(){W(N),S.el.PEM===N?j(""):S.el.JWKS===N&&x("")}),[N]);var W=function(e){e!==S.el.PEM||(0,L.Z)(Z)?e!==S.el.JWKS||(0,L.Z)(M)||O((0,r.V_)({description:A("console:develop.features.authenticationProvider.notifications.changeCertType.jwks.description"),level:a.QU.WARNING,message:A("console:develop.features.authenticationProvider.notifications.changeCertType.jwks.message")})):O((0,r.V_)({description:A("console:develop.features.authenticationProvider.notifications.changeCertType.pem.description"),level:a.QU.WARNING,message:A("console:develop.features.authenticationProvider.notifications.changeCertType.pem.message")})),N===S.el.NONE&&p?q(!0):q(!1),y(e)};return v?null:s.createElement(Be.Es,{onSubmit:function(){W(N),N===S.el.PEM&&(0,L.Z)(M)&&T(!0)},submitState:f},s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(be.Z,null)),s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h4"},A("console:develop.features.applications.forms.advancedConfig.sections.certificate.heading")),s.createElement(Be.gN,{label:A("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.label"),name:"certificateType",default:S.el.NONE,listen:function(e){k(e.get("certificateType")),W(e.get("certificateType"))},onBefore:function(e,t){var n=t;return!(S.el.NONE===n&&E&&!E())||(H(!0),!1)},type:"radio",value:null==p?void 0:p.type,children:h?[{label:"None",value:S.el.NONE},{hint:{content:A("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.description"),header:A("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.pem.label")},label:A("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.pem.label"),value:S.el.PEM}]:[{label:"None",value:S.el.NONE},{hint:{content:A("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.description"),header:A("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.jwks.label")},label:A("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.jwks.label"),value:S.el.JWKS},{hint:{content:A("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.description"),header:A("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.pem.label")},label:A("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.pem.label"),value:S.el.PEM}],readOnly:g,"data-testid":"".concat(C,"-certificate-type-radio-group")}),B&&s.createElement(l.v0,{"data-componentid":"application-certificate-removal-warning-message",type:"warning",header:"Warning",content:s.createElement(s.Fragment,null,A("console:develop.features.applications.forms.inboundSAML.sections.certificates.certificateRemoveConfirmation.content"))}))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},N===S.el.PEM&&s.createElement(kt,{deleteAllowed:n,reasonInsideTooltipWhyDeleteIsNotAllowed:o,onUpdate:i,application:d,updatePEMValue:function(e){x(e)},applicationCertificate:M}),N===S.el.JWKS&&!h&&s.createElement(Be.gN,{name:"jwksValue",displayErrorOn:"blur",label:A("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.label"),required:S.el.JWKS===N,requiredErrorMessage:A("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.validations.empty"),placeholder:A("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.placeholder"),type:"text",validation:function(e,t){qe.I.url(e)||(t.isValid=!1,t.errorMessages.push(A("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.validations.invalid"))),null!==m.commonConfig&&void 0!==m.commonConfig&&m.commonConfig.blockLoopBackCalls&&ze.URLUtils.isLoopBackCall(e)&&(t.isValid=!1,t.errorMessages.push(A("console:develop.features.idp.forms.common.internetResolvableErrorMessage")))},listen:function(e){j(e.get("jwksValue"))},value:S.el.JWKS===(null==p?void 0:p.type)&&(null==p?void 0:p.value),readOnly:g,"data-testid":"".concat(C,"-jwks-input")}),I&&(0,L.Z)(M)&&S.el.PEM===N&&s.createElement(l.v0,{type:"error","data-testid":"".concat(C,"-error-message"),content:A("console:manage.features.certificates.keystore.errorEmpty")}),t&&s.createElement(l.kW,null,function(e){switch(e){case S.AI.OAUTH2_OIDC:case S.AI.OIDC:return s.createElement(_.c,{i18nKey:"console:develop.features.applications.forms.advancedConfig.sections.certificate.hint.customOidc"},"This certificate is used to encrypt the ",s.createElement(l.EK,null,"id_token"),"returned after the authentication.");case S.AI.SAML:return A("console:develop.features.applications.forms.advancedConfig.sections.certificate.hint.customSaml");default:return null}}(t)))),V&&s.createElement(l.cV,{onClose:function(){return H(!1)},type:"negative",open:V,primaryAction:A("common:okay"),onPrimaryActionClick:function(){H(!1)},closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(C,"-invalid-operation-modal-header")},A("console:develop.features.applications.forms.advancedConfig.sections.certificate.invalidOperationModal.header")),s.createElement(l.cV.Content,{"data-testid":"".concat(C,"-invalid-operation-modal-content")},A("console:develop.features.applications.forms.advancedConfig.sections.certificate.invalidOperationModal.message"))))};function xt(e){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xt(e)}function _t(){_t=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",r=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,n){return e[t]=n}}function s(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),r=new A(o||[]);return a._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return w()}for(n.method=i,n.arg=a;;){var r=n.delegate;if(r){var l=E(r,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=c(e,t,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}(e,n,r),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=s;var u={};function d(){}function p(){}function f(){}var m={};l(m,i,(function(){return this}));var v=Object.getPrototypeOf,h=v&&v(v(O([])));h&&h!==t&&n.call(h,i)&&(m=h);var g=f.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function o(i,a,r,l){var s=c(e[i],e,a);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==xt(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,r,l)}),(function(e){o("throw",e,r,l)})):t.resolve(d).then((function(e){u.value=e,r(u)}),(function(e){return o("throw",e,r,l)}))}l(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){o(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var o=c(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,u;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:w}}function w(){return{value:void 0,done:!0}}return p.prototype=f,l(g,"constructor",f),l(f,"constructor",p),p.displayName=l(f,r,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,r,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(y.prototype),l(y.prototype,a,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,o,i,a){void 0===a&&(a=Promise);var r=new y(s(t,n,o,i),a);return e.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},b(g),l(g,r,"Generator"),l(g,i,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=O,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],r=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(l&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function Dt(e,t,n,o,i,a,r){try{var l=e[a](r),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(o,i)}function Zt(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function r(e){Dt(a,o,i,r,l,"next",e)}function l(e){Dt(a,o,i,r,l,"throw",e)}r(void 0)}))}}function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(n),!0).forEach((function(t){Vt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ht(e){return function(e){if(Array.isArray(e))return qt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Bt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||Bt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bt(e,t){if(e){if("string"==typeof e)return qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qt(e,t):void 0}}function qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Mt.defaultProps={"data-testid":"application-certificate-wrapper",deleteAllowed:!0,hidden:!1,hideJWKS:!1,isRequired:!1,protocol:null,reasonInsideTooltipWhyDeleteIsNotAllowed:null};var Wt=function(e){var t=e.onUpdate,n=e.application,o=e.certificate,i=e.metadata,d=e.initialValues,f=e.onSubmit,v=e.onApplicationRegenerate,h=e.onApplicationRevoke,b=e.readOnly,y=e.allowedOriginList,A=e.tenantDomain,O=e.template,w=e.isLoading,I=e.setIsLoading,T=e.containerRef,R=e["data-testid"],N=(0,c.$)().t,U=(0,u.I0)(),M=(0,u.v9)((function(e){return e.config.ui.isClientSecretHashEnabled})),D=(0,u.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organizationType})),Z=(0,u.v9)((function(e){return e.organization.organization})),j=(0,u.v9)((function(e){return e.organization.isFirstLevelOrganization})),V=zt((0,s.useState)(!1),2),H=V[0],z=V[1],B=zt((0,s.useState)(""),2),q=B[0],W=B[1],G=zt((0,s.useState)(""),2),Q=G[0],K=G[1],$=zt((0,s.useState)(!1),2),Y=$[0],X=$[1],J=zt((0,s.useState)(!1),2),ee=J[0],te=J[1],ne=zt((0,s.useState)(!1),2),oe=ne[0],ie=ne[1],ae=zt((0,s.useState)(void 0),2),re=ae[0],le=ae[1],se=zt((0,s.useState)(void 0),2),ce=se[0],ue=se[1],de=zt((0,s.useState)(!1),2),pe=de[0],fe=de[1],me=zt((0,s.useState)(void 0),2),ve=me[0],he=me[1],ge=zt((0,s.useState)(!1),2),ye=ge[0],Ee=ge[1],Se=zt((0,s.useState)(!1),2),Ce=Se[0],Ae=Se[1],Oe=zt((0,s.useState)(!1),2),we=Oe[0],Ie=Oe[1],Te=zt((0,s.useState)(!1),2),Re=Te[0],Le=Te[1],Ne=zt((0,s.useState)(!1),2),ke=Ne[0],Pe=Ne[1],Ue=zt((0,s.useState)(null),2),Me=Ue[0],xe=Ue[1],_e=zt((0,s.useState)(""),2),De=_e[0],Ze=_e[1],je=zt((0,s.useState)(!1),2),Fe=je[0],Ve=je[1],He=zt((0,s.useState)(null),2),We=He[0],Ge=He[1],Qe=zt((0,s.useState)(null),2),Ke=Qe[0],$e=Qe[1],Ye=zt((0,s.useState)(!1),2)[1],Xe=zt((0,s.useState)(void 0),2)[1],Je=zt((0,s.useState)(!1),2),tt=Je[0],nt=Je[1],ot=(0,u.v9)((function(e){return e.config})),it=(0,s.useRef)(),mt=(0,s.useRef)(),vt=(0,s.useRef)(),ht=(0,s.useRef)(),gt=(0,s.useRef)(),bt=(0,s.useRef)(),yt=(0,s.useRef)(),Et=(0,s.useRef)(),St=(0,s.useRef)(),Ct=(0,s.useRef)(),At=(0,s.useRef)(),Ot=(0,s.useRef)(),wt=(0,s.useRef)(),It=(0,s.useRef)(),Tt=(0,s.useRef)(),Rt=(0,s.useRef)(),Lt=(0,s.useRef)(),Nt=(0,s.useRef)(),kt=(0,s.useRef)(),Pt=(0,s.useRef)(),Ut=(0,s.useRef)(),xt=(0,s.useRef)(),Dt=(0,s.useRef)(),jt=(0,s.useRef)(),Vt=(0,s.useRef)(),qt=zt((0,s.useState)(!1),2),Wt=qt[0],Gt=qt[1],Qt=zt((0,s.useState)(!1),2),Kt=Qt[0],$t=Qt[1],Yt=zt((0,s.useState)(!1),2),Xt=Yt[0],Jt=Yt[1],en=zt((0,s.useState)(!1),2),tn=en[0],nn=en[1],on=zt((0,s.useState)(void 0),2),an=on[0],rn=on[1],ln=zt((0,s.useState)(S.el.NONE),2),sn=ln[0],cn=ln[1],un=zt((0,s.useState)(!1),2),dn=un[0],pn=un[1],fn=zt((0,s.useState)(!1),2),mn=fn[0],vn=fn[1],hn=zt((0,s.useState)(void 0),2),gn=hn[0],bn=hn[1],yn=zt((0,Be.cC)(),2),En=yn[0],Sn=yn[1],Cn=function(){var e,t;!1===(null==d||null===(e=d.idToken)||void 0===e||null===(t=e.encryption)||void 0===t?void 0:t.enabled)&&(d.idToken.encryption={algorithm:"",enabled:!1,method:""})};Cn();var An=zt((0,s.useState)(!1),2),On=An[0],wn=An[1],In="PKCE",Tn="mandatory",Rn="supportPlainTransformAlgorithm",Ln=function(e){e.has(In)&&(e.get(In).find((function(e){return e===Tn}))?wn(!0):(e.set(In,[]),wn(!1)))};(0,s.useEffect)((function(){!gn&&j&&(0,st.DM)(Z.id,n.id).then((function(e){bn(e.data.organizations)})).catch((function(e){e.response.data.description?U((0,r.V_)({description:e.response.data.description,level:a.QU.ERROR,message:N("console:develop.features.applications.edit.sections.shareApplication.getSharedOrganizations.genericError.message")})):U((0,r.V_)({description:N("console:develop.features.applications.edit.sections.shareApplication.getSharedOrganizations.genericError.description"),level:a.QU.ERROR,message:N("console:develop.features.applications.edit.sections.shareApplication.getSharedOrganizations.genericError.message")}))}))}),[n]),(0,s.useEffect)((function(){var e,t,o=null==n||null===(e=n.advancedConfigurations)||void 0===e||null===(t=e.additionalSpProperties)||void 0===t?void 0:t.filter((function(e){return"shareWithAllChildren"===(null==e?void 0:e.name)}));((null==gn?void 0:gn.length)>0||(null==o?void 0:o.length)>0&&JSON.parse(o[0].value))&&vn(!0)}),[gn]),(0,s.useEffect)((function(){null!=O&&O.id&&null!=ft&&ft.id?(O.id==ft.id&&Gt(!0),I(!1)):I(!1)}),[O]),(0,s.useEffect)((function(){null!=O&&O.id&&null!=pt&&pt.id&&O.id==pt.id&&$t(!0)}),[O]),(0,s.useEffect)((function(){null!=O&&O.id&&null!=dt&&dt.id?((null==O?void 0:O.id)==(null==dt?void 0:dt.id)&&Jt(!0),I(!1)):I(!1)}),[O]),(0,s.useEffect)((function(){null!=ve&&ve.includes("authorization_code")||null!=ve&&ve.includes("implicit")?ue(!0):ue(!1),!at(E.jo.IS_REFRESH_TOKEN_GRANT_TYPE_ALLOWED,ve).length&&null!=ve&&ve.includes("refresh_token")?nt(!0):nt(!1)}),[ve,ye]),(0,s.useEffect)((function(){le(!1),null!=ve&&ve.includes(E.jo.AUTHORIZATION_CODE_GRANT)&&le(!0)}),[ve,ye]),(0,s.useEffect)((function(){fe(!1),Nn(ve)&&fe(!0)}),[ve,ye]);var Nn=function(e){return!!(0===(null==e?void 0:e.length)||null!=e&&e.includes("implicit")&&1===(null==e?void 0:e.length))||(!(null==e||!e.includes("implicit")||null==e||!e.includes("refresh_token")||2!==(null==e?void 0:e.length))||(null==e?void 0:e.includes("refresh_token"))&&1===(null==e?void 0:e.length))};(0,s.useEffect)((function(){void 0===ve&&(null!=d&&d.grantTypes&&he(Ht(null==d?void 0:d.grantTypes)),null!=d&&d.allowedOrigins&&Ze(null==d?void 0:d.allowedOrigins.toString()))}),[d]),(0,s.useEffect)((function(){null!=o&&o.type&&cn(null==o?void 0:o.type)}),[o]),(0,s.useEffect)((function(){var e,t;null!=d&&d.accessToken&&!(0,L.Z)(d.accessToken)&&(null!=d&&null!==(e=d.accessToken)&&void 0!==e&&e.bindingType?(null==d||null===(t=d.accessToken)||void 0===t?void 0:t.bindingType)!==(null===S.ti||void 0===S.ti?void 0:S.ti.NONE)&&Ve(!0):Ve(!1))}),[null==d?void 0:d.accessToken]),(0,s.useEffect)((function(){S.el.PEM===(null==o?void 0:o.type)&&(Ye(!0),null!=o&&o.value&&Xe(o.value))}),[o]),(0,s.useEffect)((function(){(0,L.Z)(an)||sn===S.el.NONE?pn(!1):pn(!0)}),[an,sn]);var kn=function(e){switch(e.toLowerCase()){case"none":return N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.bindingType.valueDescriptions.none",{productName:ot.ui.productName});case"cookie":return N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.bindingType.valueDescriptions.cookie");case"sso-session":return N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.bindingType.valueDescriptions.sso_session",{productName:ot.ui.productName});case"default":return N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.type.valueDescriptions.default");case"jwt":return N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.type.valueDescriptions.jwt");default:return}},Pn=function(e){return"sso-session"===e.toLowerCase()?N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.bindingType.children.ssoBinding.label"):e},Un=function(e,t){var n=[];return e&&(t?e.options.map((function(e){n.push({hint:{content:kn(e)},label:Pn(e),value:e})})):e.options.map((function(e){n.push({text:e,value:e})}))),t?n.sort((function(e,t){return e.label<t.label?-1:e.label>t.label?1:0})):n},Mn=function(e,t){var n=[];return e&&e.options.map((function(e){if("Default"!==e||t){if((Wt||Kt)&&t&&"cookie"===e)return!1;n.push({hint:{content:kn(e)},label:Pn(e),value:e})}else n.push({hint:{content:kn(e)},label:"Opaque",value:e})})),n.sort((function(e,t){return e.label<t.label?-1:e.label>t.label?1:0}))},xn=function(e){var t=[];if(e&&e.options.map((function(e){var n=e.name,o=e.displayName;if(!E.jo.HIDDEN_GRANT_TYPES.includes(n)&&(n!==E.jo.ORGANIZATION_SWITCH_GRANT||isOrganizationManagementEnabled&&D!==g.$B.TENANT&&mn)&&(!(O&&O.id&&(0,et.Z)(E.jo.TEMPLATE_WISE_ALLOWED_GRANT_TYPES,O.id))||E.jo.TEMPLATE_WISE_ALLOWED_GRANT_TYPES[O.id].includes(n))){var i,a,r={label:(i=n,a=o,i===E.jo.IMPLICIT_GRANT||i===E.jo.PASSWORD||i===E.jo.CLIENT_CREDENTIALS_GRANT?s.createElement(s.Fragment,null,s.createElement("label",null,a,s.createElement(l.dn,{icon:(0,ct.s_)().warning,defaultIcon:!0,colored:!0,transparent:!0,spaced:"left",floated:"right"}))):a),value:n},c=function(e){switch(e){case E.jo.IMPLICIT_GRANT:return N("console:develop.features.applications.forms.inboundOIDC.fields.grant.children.implicit.hint");case E.jo.PASSWORD:return N("console:develop.features.applications.forms.inboundOIDC.fields.grant.children.password.hint");case E.jo.CLIENT_CREDENTIALS_GRANT:return N("console:develop.features.applications.forms.inboundOIDC.fields.grant.children.client_credential.hint");case E.jo.REFRESH_TOKEN_GRANT:return N("console:develop.features.applications.forms.inboundOIDC.fields.grant.validation.refreshToken");default:return null}}(n);c&&(r.hint={content:c,header:""}),pe&&"refresh_token"===r.value&&(r.disabled=!0),t.push(r)}})),O&&O.id){var n=E.jo.TEMPLATE_WISE_ALLOWED_GRANT_TYPE_ARRANGE_ORDER[O.id];if(n&&n.size===t.length){var o,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Bt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){l=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw a}}}}(t);try{for(i.s();!(o=i.n()).done;){var a=o.value,r=n.get(a.value);a.index=null!=r?r:1/0}}catch(u){i.e(u)}finally{i.f()}t.sort((function(e,t){return e.index-t.index}))}}if(m.applicationConfig.inboundOIDCForm.disabledGrantTypes&&m.applicationConfig.inboundOIDCForm.disabledGrantTypes[O.id]){var c=m.applicationConfig.inboundOIDCForm.disabledGrantTypes[O.id];return t.filter((function(e){return!c.includes(e.value)}))}return t},_n=function(e){var t;return e.get("RevokeAccessToken")?(null===(t=e.get("RevokeAccessToken"))||void 0===t?void 0:t.length)>0:e.get("bindingType")!==S.ti.NONE},Dn=function(e,t,n){var a,r,l,s,c,u,p={accessToken:{applicationAccessTokenExpiryInSeconds:e.get("applicationAccessTokenExpiryInSeconds")?Number(e.get("applicationAccessTokenExpiryInSeconds")):Number(i.defaultApplicationAccessTokenExpiryTime),bindingType:e.get("bindingType"),revokeTokensWhenIDPSessionTerminated:(null===(a=e.get("RevokeAccessToken"))||void 0===a?void 0:a.length)>0,type:e.get("type"),userAccessTokenExpiryInSeconds:Number(e.get("userAccessTokenExpiryInSeconds")),validateTokenBinding:(null===(r=e.get("ValidateTokenBinding"))||void 0===r?void 0:r.length)>0},grantTypes:e.get("grant"),idToken:{audience:""!==Q?Q.split(","):[],encryption:{algorithm:H&&dn?e.get("algorithm"):i.idTokenEncryptionAlgorithm.defaultValue,enabled:dn&&(null===(l=e.get("encryption"))||void 0===l?void 0:l.includes("enableEncryption")),method:H&&dn?e.get("method"):i.idTokenEncryptionMethod.defaultValue},expiryInSeconds:Number(e.get("idExpiryInSeconds"))},logout:{backChannelLogoutUrl:e.get("backChannelLogoutUrl"),frontChannelLogoutUrl:e.get("frontChannelLogoutUrl")},publicClient:!!Xt||(null===(s=e.get("supportPublicClients"))||void 0===s?void 0:s.length)>0,refreshToken:{expiryInSeconds:e.get("expiryInSeconds")?parseInt(e.get("expiryInSeconds"),10):Number(i.defaultRefreshTokenExpiryTime),renewRefreshToken:(null===(c=e.get("RefreshToken"))||void 0===c?void 0:c.length)>0},scopeValidators:e.get("scopeValidator"),validateRequestObjectSignature:(null===(u=e.get("enableRequestObjectSignatureValidation"))||void 0===u?void 0:u.length)>0};!m.applicationConfig.inboundOIDCForm.showFrontChannelLogout&&delete p.logout.frontChannelLogoutUrl,!m.applicationConfig.inboundOIDCForm.showScopeValidators&&delete p.scopeValidators,!m.applicationConfig.inboundOIDCForm.showIdTokenEncryption&&delete p.idToken.encryption,!m.applicationConfig.inboundOIDCForm.showBackChannelLogout&&delete p.logout.backChannelLogoutUrl,!m.applicationConfig.inboundOIDCForm.showRequestObjectSignatureValidation&&delete p.validateRequestObjectSignature,p=Ft(Ft({},p),{},ce?{allowedOrigins:C.yf.resolveAllowedOrigins(n||De),callbackURLs:[C.yf.buildCallBackUrlWithRegExp(t||q)]}:{allowedOrigins:[],callbackURLs:[]}),p=Ft(Ft({},p),{},re?{pkce:{mandatory:e.get("PKCE").includes("mandatory"),supportPlainTransformAlgorithm:!!e.get("PKCE").includes("supportPlainTransformAlgorithm")}}:{pkce:{mandatory:!1,supportPlainTransformAlgorithm:!1}}),null!=d&&d.clientId&&null!=d&&d.clientSecret&&(p=Ft(Ft({},p),{},{clientId:null==d?void 0:d.clientId,clientSecret:null==d?void 0:d.clientSecret}));var f={general:{advancedConfigurations:{certificate:{type:sn!==S.el.NONE?sn:null==o?void 0:o.type,value:sn!==S.el.NONE?an:""}}},inbound:Ft({},p)};return!m.applicationConfig.inboundOIDCForm.showCertificates&&delete f.general.advancedConfigurations.certificate,f},Zn=function(e,t,n){var o,a={accessToken:{applicationAccessTokenExpiryInSeconds:Number(i.defaultApplicationAccessTokenExpiryTime),bindingType:e.get("bindingType"),revokeTokensWhenIDPSessionTerminated:_n(e),type:e.get("type"),userAccessTokenExpiryInSeconds:Number(e.get("userAccessTokenExpiryInSeconds"))},grantTypes:e.get("grant"),idToken:{audience:""!==Q?Q.split(","):[],expiryInSeconds:Number(e.get("idExpiryInSeconds"))},publicClient:!0,refreshToken:{expiryInSeconds:e.get("expiryInSeconds")?parseInt(e.get("expiryInSeconds"),10):Number(i.defaultRefreshTokenExpiryTime),renewRefreshToken:(null===(o=e.get("RefreshToken"))||void 0===o?void 0:o.length)>0}};return a=Ft(Ft({},a),{},ce?{allowedOrigins:C.yf.resolveAllowedOrigins(n||De),callbackURLs:[C.yf.buildCallBackUrlWithRegExp(t||q)]}:{allowedOrigins:[],callbackURLs:[]}),a=Ft(Ft({},a),{},re?{pkce:{mandatory:e.get("PKCE").includes("mandatory"),supportPlainTransformAlgorithm:!!e.get("PKCE").includes("supportPlainTransformAlgorithm")}}:{pkce:{mandatory:!1,supportPlainTransformAlgorithm:!1}}),m.applicationConfig.inboundOIDCForm.showScopeValidators&&(a=Ft(Ft({},a),{},{scopeValidators:e.get("scopeValidator")})),null!=d&&d.clientId&&null!=d&&d.clientSecret?{inbound:Ft(Ft({},a),{},{clientId:null==d?void 0:d.clientId,clientSecret:null==d?void 0:d.clientSecret})}:a};(0,s.useEffect)((function(){var e,t;null!=d&&null!==(e=d.idToken)&&void 0!==e&&e.encryption&&z(null===(t=d.idToken.encryption)||void 0===t?void 0:t.enabled)}),[d]);var jn,Fn,Vn,Hn,zn,Bn,qn,Wn,Gn,Qn,Kn,$n,Yn,Xn,Jn,eo,to,no,oo,io=function(e){var t=De;Ze(t=""!==t?t+","+e:e)},ao=function(e){var t={behavior:"smooth",block:"center"};switch(e){case"clientSecret":it.current.scrollIntoView(t);break;case"grant":mt.current.scrollIntoView(t);break;case"url":vt.current.scrollIntoView(t);break;case"allowedOrigin":ht.current.scrollIntoView(t);break;case"supportPublicClients":gt.current.scrollIntoView(t);break;case"pkce":bt.current.scrollIntoView(t);break;case"bindingType":yt.current.scrollIntoView(t);break;case"type":Et.current.scrollIntoView(t);break;case"validateTokenBinding":St.current.scrollIntoView(t);break;case"revokeAccessToken":Ct.current.scrollIntoView(t);break;case"userAccessTokenExpiryInSeconds":At.current.scrollIntoView(t);break;case"refreshToken":wt.current.scrollIntoView(t);break;case"expiryInSeconds":It.current.scrollIntoView(t);break;case"audience":Tt.current.scrollIntoView(t);break;case"encryption":Rt.current.scrollIntoView(t);break;case"algorithm":Lt.current.scrollIntoView(t);break;case"method":Nt.current.scrollIntoView(t);break;case"idExpiryInSeconds":kt.current.scrollIntoView(t);break;case"backChannelLogoutUrl":Pt.current.scrollIntoView(t);break;case"frontChannelLogoutUrl":Ut.current.scrollIntoView(t);break;case"enableRequestObjectSignatureValidation":xt.current.scrollIntoView(t);break;case"scopeValidator":Dt.current.scrollIntoView(t)}},ro=function(e){var t=Math.floor(Number(e.toString()));return t!==1/0&&String(t)===e&&t>0},lo=function(e,t,n){var o=parseInt(e.get("userAccessTokenExpiryInSeconds"),10)<60,i=parseInt(e.get("expiryInSeconds"),10)<60,a=parseInt(e.get("idExpiryInSeconds"),10)<60;return o||i||a?(Pe(!0),xe(s.createElement(l.cV,{onClose:function(){return Pe(!1)},type:"warning",open:!0,skipAssertion:!0,primaryAction:N("common:confirm"),secondaryAction:N("common:cancel"),onSecondaryActionClick:function(){return Pe(!1)},onPrimaryActionClick:function(){f(Wt?Zn(e,t,n):Dn(e,t,n)),Pe(!1)},"data-testid":"".concat(R,"-low-expiry-times-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(R,"-low-expiry-times-confirmation-modal-header")},N("console:develop.features.applications.confirmations.lowOIDCExpiryTimes.header")),s.createElement(l.cV.Message,{attached:!0,warning:!0,"data-testid":"".concat(R,"-low-expiry-times-confirmation-modal-message")},N("console:develop.features.applications.confirmations.lowOIDCExpiryTimes.message")),s.createElement(l.cV.Content,{"data-testid":"".concat(R,"-low-expiry-times-confirmation-modal-content")},s.createElement(l.xv,null,N("console:develop.features.applications.confirmations.lowOIDCExpiryTimes.content")),s.createElement(rt.Z,{bulleted:!0},o&&s.createElement(rt.Z.Item,null,N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.expiry.label")),i&&s.createElement(rt.Z.Item,null,N("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.expiry.label")),a&&s.createElement(rt.Z.Item,null,N("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.expiry.label"))),s.createElement(l.xv,null,N("console:develop.features.applications.confirmations.lowOIDCExpiryTimes.assertionHint"))))),!0):(Pe(!1),xe(null),!1)};return!w&&i?s.createElement(s.Fragment,null,s.createElement(Be.Es,{onSubmit:function(e){Sn(),!Wt&&m.applicationConfig.inboundOIDCForm.showCertificates&&sn!==S.el.NONE&&(0,L.Z)(an)||(ce?jn((function(t){(0,L.Z)(q)&&(0,L.Z)(t)?(X(!0),ao("url")):Fn((function(n){lo(e,t,n)||f(Wt?Zn(e,t,n):Dn(e,t,n))}))})):(lo(e,void 0,void 0)||f(Dn(e,void 0,void 0)),I(!1)))},onSubmitError:function(e,t){for(var n=e.entries(),o=n.next();!o.done;){if(!o.value[1]||!t.get(o.value[0]).isValid){ao(o.value[0]);break}o=n.next()}},onStaleChange:function(e){nn(e)},ref:jt},s.createElement(P.Z,null,(null==d?void 0:d.state)===S.ZM.REVOKED&&s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.v0,{type:"warning",visible:!0,header:N("console:develop.features.applications.forms.inboundOIDC.messages.revokeDisclaimer.heading"),content:N("console:develop.features.applications.forms.inboundOIDC.messages.revokeDisclaimer.content")}))),(null==d?void 0:d.clientId)&&s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(k.Z.Field,null,s.createElement("label",null,N("console:develop.features.applications.forms.inboundOIDC.fields.clientID.label")),s.createElement("div",{className:"display-flex"},s.createElement(l.OR,{value:null==d?void 0:d.clientId,"data-testid":"".concat(R,"-client-id-readonly-input")}))),m.applicationConfig.inboundOIDCForm.showNativeClientSecretMessage&&(null==d?void 0:d.state)!==S.ZM.REVOKED&&Wt?s.createElement(l.v0,{type:"info",content:s.createElement(_.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.fields.clientSecret.message",values:{productName:ot.ui.productName}},"productName does not issue a\xa0",s.createElement(l.EK,{withBackground:!0},"client_secret")," to native applications or web browser-based applications for the purpose of client authentication.")}):null)),(null==d?void 0:d.clientSecret)&&(null==d?void 0:d.state)!==S.ZM.REVOKED&&!Wt&&!Xt&&s.createElement(P.Z.Row,{columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(k.Z.Field,null,s.createElement("label",null,N("console:develop.features.applications.forms.inboundOIDC.fields.clientSecret.label")),M?s.createElement(l.v0,{visible:!0,type:"info",content:N("console:develop.features.applications.forms.inboundOIDC.fields.clientSecret.hashedDisclaimer")}):s.createElement("div",{className:"display-flex"},s.createElement(l.OR,{secret:!0,value:null==d?void 0:d.clientSecret,hideSecretLabel:N("console:develop.features.applications.forms.inboundOIDC.fields.clientSecret.hideSecret"),showSecretLabel:N("console:develop.features.applications.forms.inboundOIDC.fields.clientSecret.showSecret"),"data-testid":"".concat(R,"-client-secret-readonly-input")}),!b&&s.createElement(F.Z,{color:"red",className:"oidc-action-button",onClick:function(e){e.preventDefault(),Ae(!0)},"data-testid":"".concat(R,"-oidc-regenerate-button")},N("common:regenerate")))))),!b&&(null==d?void 0:d.clientSecret)&&(null==d?void 0:d.state)===S.ZM.REVOKED&&s.createElement(P.Z.Row,{columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(F.Z,{color:"green",className:"oidc-action-button ml-0",onClick:function(e){e.preventDefault(),Le(!0)},"data-testid":"".concat(R,"-oidc-regenerate-button")},N("common:activate")))),((null==d?void 0:d.clientId)||(null==d?void 0:d.clientSecret))&&(null==d?void 0:d.state)!==S.ZM.REVOKED&&s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(be.Z,null)),(null==d?void 0:d.state)!==S.ZM.REVOKED&&s.createElement(s.Fragment,null,!b&&s.createElement(l.PH,{updateButtonRef:Vt,isFormStale:tn,containerRef:T},s.createElement(F.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:w,disabled:w,"data-testid":"".concat(R,"-submit-button-sticky")},N("common:update"))),s.createElement(P.Z.Row,{columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{ref:mt,name:"grant",label:N("console:develop.features.applications.forms.inboundOIDC.fields.grant.label"),type:"checkbox",required:!0,requiredErrorMessage:N("console:develop.features.applications.forms.inboundOIDC.fields.grant.validations.empty"),children:xn(i.allowedGrantTypes),value:null!=ve?ve:null==d?void 0:d.grantTypes,readOnly:b,enableReinitialize:!0,listen:function(e){return function(e){var t=e.get("grant");Nn(ve)&&(t=t.filter((function(e){return"refresh_token"!=e}))),he(t),Ee(!ye)}(e)},"data-testid":"".concat(R,"-grant-type-checkbox-group")}),tt&&s.createElement(p.Z,{basic:!0,color:"orange",className:"mt-2"},N("console:develop.features.applications.forms.inboundOIDC.fields.grant.validation.refreshToken")),s.createElement(l.kW,null,N("console:develop.features.applications.forms.inboundOIDC.fields.grant.hint")))),!Wt&&!Xt&&((null==ve?void 0:ve.includes(E.jo.AUTHORIZATION_CODE_GRANT))||(null==ve?void 0:ve.includes(E.jo.DEVICE_GRANT)))&&s.createElement(s.Fragment,null,s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{ref:gt,name:"supportPublicClients",label:"",required:!1,requiredErrorMessage:N("console:develop.features.applications.forms.inboundOIDC.fields.public.validations.empty"),type:"checkbox",value:null!=d&&d.publicClient?["supportPublicClients"]:[],children:[{label:N("console:develop.features.applications.forms.inboundOIDC.fields.public.label"),value:"supportPublicClients"}],readOnly:b,"data-testid":"".concat(R,"-public-client-checkbox")}),s.createElement(l.kW,null,N("console:develop.features.applications.forms.inboundOIDC.fields.public.hint",{productName:null===(Vn=ot.ui)||void 0===Vn?void 0:Vn.productName}))))),ce&&s.createElement(s.Fragment,null,s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},s.createElement("div",{ref:vt}),s.createElement(l.wE,{isAllowEnabled:Wt,handleAddAllowedOrigin:function(e){return io(e)},handleRemoveAllowedOrigin:function(){},tenantDomain:A,allowedOrigins:(0,x.Z)(y,De.split(",")),labelEnabled:!0,urlState:q,setURLState:function(e){var t;W(e),(null!=d&&null!==(t=d.callbackURLs)&&void 0!==t&&t.toString()?C.yf.buildCallBackURLWithSeparator(d.callbackURLs.toString()):"")!==e&&nn(!0)},labelName:Xt?"Authorized redirect URIs":N("console:develop.features.applications.forms.inboundOIDC.fields.callBackUrls.label"),required:!0,value:null!=d&&null!==(Hn=d.callbackURLs)&&void 0!==Hn&&Hn.toString()?C.yf.buildCallBackURLWithSeparator(d.callbackURLs.toString()):"",placeholder:N(Xt?"console:develop.features.applications.forms.inboundOIDC.mobileApp.mobileAppPlaceholder":"console:develop.features.applications.forms.inboundOIDC.fields.callBackUrls.placeholder"),validationErrorMsg:(null==ut?void 0:ut.id)===(null==O?void 0:O.id)||Xt?N("console:develop.features.applications.forms.inboundOIDC.messages.customInvalidMessage"):N("console:develop.features.applications.forms.inboundOIDC.fields.callBackUrls.validations.invalid"),emptyErrorMessage:N("console:develop.features.applications.forms.inboundOIDC.fields.callBackUrls.validations.empty"),skipInternalValidation:O.templateId===E.jo.MOBILE,validation:function(e){return!!(Xt||(null==ut?void 0:ut.id)===(null==O?void 0:O.id)||ze.URLUtils.isURLValid(e,!0)&&(ze.URLUtils.isHttpUrl(e)||ze.URLUtils.isHttpsUrl(e)))&&!!ze.URLUtils.isMobileDeepLink(e)&&(Ge(null),!0)},showError:Y,setShowError:X,hint:Xt?"The authorized redirect URI determines where the authorization code is sent to upon user authentication, and where the user is redirected to upon user logout. The client app should specify the authorized redirect URI in the authorization or logout request and "+ot.ui.productName+" will validate it against the authorized redirect URLs entered here.":N("console:develop.features.applications.forms.inboundOIDC.fields.callBackUrls.hint",{productName:ot.ui.productName}),readOnly:b,addURLTooltip:N("common:addURL"),duplicateURLErrorMessage:N("common:duplicateURLError"),"data-testid":"".concat(R,"-callback-url-input"),getSubmit:function(e){jn=e},showPredictions:!1,customLabel:We,productName:ot.ui.productName,isCustom:(null==ut?void 0:ut.id)===(null==O?void 0:O.id),popupHeaderPositive:N("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:N("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:N("console:develop.features.URLInput.withLabel.positive.content",{productName:ot.ui.productName}),popupContentNegative:N("console:develop.features.URLInput.withLabel.negative.content",{productName:ot.ui.productName}),popupDetailedContentPositive:N("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:N("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:N("console:common.validations.inSecureURL.description"),showLessContent:N("common:showLess"),showMoreContent:N("common:showMore")}))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},s.createElement("div",{ref:ht}),s.createElement(l.wE,{handleAddAllowedOrigin:function(e){return io(e)},urlState:De,setURLState:function(e){Ze(e),De!==e&&nn(!0)},onlyOrigin:!0,labelName:N("console:develop.features.applications.forms.inboundOIDC.fields.allowedOrigins.label"),placeholder:N("console:develop.features.applications.forms.inboundOIDC.fields.allowedOrigins.placeholder"),value:De,validationErrorMsg:N("console:develop.features.applications.forms.inboundOIDC.fields.allowedOrigins.validations.empty"),validation:function(e){return!(!ze.URLUtils.isHttpsUrl(e)&&!ze.URLUtils.isHttpUrl(e)||!ze.URLUtils.isAValidOriginUrl(e)||!ze.URLUtils.isMobileDeepLink(e)||($e(null),0))},computerWidth:10,setShowError:ie,showError:oe,readOnly:b,addURLTooltip:N("common:addURL"),duplicateURLErrorMessage:N("common:duplicateURLError"),"data-testid":"".concat(R,"-allowed-origin-url-input"),getSubmit:function(e){Fn=e},showPredictions:!1,customLabel:Ke,popupHeaderPositive:N("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:N("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:N("console:develop.features.URLInput.withLabel.positive.content",{productName:ot.ui.productName}),popupContentNegative:N("console:develop.features.URLInput.withLabel.negative.content",{productName:ot.ui.productName}),popupDetailedContentPositive:N("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:N("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:N("console:common.validations.inSecureURL.description"),showLessContent:N("common:showLess"),showMoreContent:N("common:showMore")}),s.createElement(l.kW,null,"B\u1ea1n c\xf3 th\u1ec3 x\xe1c \u0111\u1ecbnh nhi\u1ec1u ngu\u1ed3n g\u1ed1c web b\u1eb1ng c\xe1ch th\xeam ch\xfang ri\xeang bi\u1ec7t.",s.createElement("p",{className:"mt-0"},"(E.g.,\xa0\xa0",s.createElement(l.EK,null,"https://myapp.io, https://localhost:3000"),")"))))),re&&s.createElement(s.Fragment,null,s.createElement(P.Z.Row,{columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(be.Z,null),s.createElement(be.Z,{hidden:!0})),s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h4"},N("console:develop.features.applications.forms.inboundOIDC.sections.pkce.heading")),s.createElement(Be.gN,{ref:bt,name:In,label:"",required:!1,requiredErrorMessage:N("console:develop.features.applications.forms.inboundOIDC.sections.pkce.fields.pkce.validations.empty"),type:"checkbox",value:(null==d?void 0:d.pkce)&&(no=d.pkce,oo=[],no.mandatory&&oo.push(Tn),no.supportPlainTransformAlgorithm&&oo.push(Rn),oo),listen:Ln,children:Wt||Xt?[{label:N("console:develop.features.applications.forms.inboundOIDC.sections.pkce.fields.pkce.children.mandatory.label"),value:Tn}]:[{label:N("console:develop.features.applications.forms.inboundOIDC.sections.pkce.fields.pkce.children.mandatory.label"),value:Tn},{disabled:!On,hint:{content:N("console:develop.features.applications.forms.inboundOIDC.sections.pkce.description",{productName:ot.ui.productName}),header:"PKCE 'Plain'"},label:N("console:develop.features.applications.forms.inboundOIDC.sections.pkce.fields.pkce.children.plainAlg.label"),value:Rn}],readOnly:b,"data-testid":"".concat(R,"-pkce-checkbox-group")}),s.createElement(l.kW,null,N("console:develop.features.applications.forms.inboundOIDC.sections.pkce.hint"))))),s.createElement(P.Z.Row,{columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(be.Z,null),s.createElement(be.Z,{hidden:!0})),s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h4"},N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.heading")),s.createElement(Be.gN,{ref:Et,label:N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.type.label"),name:"type",default:null!=d&&d.accessToken?d.accessToken.type:i.accessTokenType.defaultValue,type:"radio",children:Mn(i.accessTokenType,!1),readOnly:b,"data-testid":"".concat(R,"-access-token-type-radio-group")}))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{ref:yt,label:N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.bindingType.label"),name:"bindingType",default:null!=d&&null!==(zn=d.accessToken)&&void 0!==zn&&zn.bindingType?d.accessToken.bindingType:null!==(Bn=null==i||null===(qn=i.accessTokenBindingType)||void 0===qn?void 0:qn.defaultValue)&&void 0!==Bn?Bn:S.ti.NONE,type:"radio",children:Mn(i.accessTokenBindingType,!0),readOnly:b,"data-testid":"".concat(R,"-access-token-type-radio-group"),listen:function(e){Ve(e.get("bindingType")!==S.ti.NONE)}}),s.createElement(l.kW,null,s.createElement(_.c,{values:{productName:ot.ui.productName},i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.bindingType.description"},"Select type ",s.createElement(l.EK,{withBackground:!0},"SSO-session")," to allow productName to bind the",s.createElement(l.EK,{withBackground:!0},"access_token"),"and the",s.createElement(l.EK,{withBackground:!0},"refresh_token"),"to the login session and issue a new token per session. When the application session ends, the tokens will also be revoked.")))),!Wt&&!Xt&&Fe&&s.createElement(s.Fragment,null,s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{ref:St,name:"ValidateTokenBinding",label:"",required:!1,requiredErrorMessage:"",type:"checkbox",value:null!=d&&null!==(Wn=d.accessToken)&&void 0!==Wn&&Wn.validateTokenBinding?["validateTokenBinding"]:[],children:[{label:N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.validateBinding.label"),value:"validateTokenBinding"}],readOnly:b,"data-testid":"".concat(R,"-access-token-validate-binding-checkbox")}),s.createElement(l.kW,null,s.createElement(_.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.validateBinding.hint"},"Validate the binding attributes at the token validation. The client needs to present the ",s.createElement(l.EK,{withBackground:!0},"access_token")," + cookie for successful authorization.")))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{ref:Ct,name:"RevokeAccessToken",label:"",required:!1,requiredErrorMessage:"",type:"checkbox",value:null!=d&&null!==(Gn=d.accessToken)&&void 0!==Gn&&Gn.revokeTokensWhenIDPSessionTerminated?["revokeAccessToken"]:[],children:[{label:N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.revokeToken.label"),value:"revokeAccessToken"}],readOnly:b,"data-testid":"".concat(R,"-access-token-revoke-token-checkbox")}),s.createElement(l.kW,null,N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.revokeToken.hint"))))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{ref:At,name:"userAccessTokenExpiryInSeconds",label:N(Wt?"console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.expiry.labelForSPA":"console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.expiry.label"),required:!0,requiredErrorMessage:N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.expiry.validations.empty"),validation:function(){var e=Zt(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ro(t.toString())||(n.isValid=!1,n.errorMessages.push(N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.expiry.validations.invalid")));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),value:null!=d&&d.accessToken?d.accessToken.userAccessTokenExpiryInSeconds.toString():i.defaultUserAccessTokenExpiryTime,placeholder:N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.expiry.placeholder"),type:"number",readOnly:b,min:1,"data-testid":"".concat(R,"-access-token-expiry-time-input")}),s.createElement(l.kW,null,s.createElement(_.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.expiry.hint"},"Specify the validity period of the",s.createElement(l.EK,{withBackground:!0},"access_token"),"in seconds.")))),(null==ve?void 0:ve.includes("client_credentials"))&&s.createElement(s.Fragment,null,s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{name:"applicationAccessTokenExpiryInSeconds",ref:Ot,label:N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.applicationTokenExpiry.label"),required:!0,requiredErrorMessage:N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.applicationTokenExpiry.validations.empty"),value:d.accessToken?d.accessToken.applicationAccessTokenExpiryInSeconds.toString():i.defaultApplicationAccessTokenExpiryTime,validation:function(){var e=Zt(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ro(t.toString())||(n.isValid=!1,n.errorMessages.push(N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.applicationTokenExpiry.validations.invalid")));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),placeholder:N("console:develop.features.applications.forms.inboundOIDC.sections.accessToken.fields.applicationTokenExpiry.placeholder"),type:"number",min:1,readOnly:b}),s.createElement(l.kW,null,"Specify the validity period of the",s.createElement(l.EK,{withBackground:!0},"application_access_token"),"in seconds.")))),(null==ve?void 0:ve.includes("refresh_token"))&&s.createElement(s.Fragment,null,s.createElement(P.Z.Row,{columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(be.Z,null),s.createElement(be.Z,{hidden:!0})),s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h4"},N("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.heading")),s.createElement(Be.gN,{ref:wt,name:"RefreshToken",label:"",required:!1,requiredErrorMessage:N("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.renew.validations.empty"),type:"checkbox",value:null!=d&&null!==(Qn=d.refreshToken)&&void 0!==Qn&&Qn.renewRefreshToken?["refreshToken"]:[],children:[{label:N("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.renew.label"),value:"refreshToken"}],readOnly:b,"data-testid":"".concat(R,"-renew-refresh-token-checkbox")}),s.createElement(l.kW,null,s.createElement(_.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.renew.hint"},"Select to issue a new ",s.createElement(l.EK,{withBackground:!0},"refresh_token"),"each time a ",s.createElement(l.EK,{withBackground:!0},"refresh_token")," is exchanged. The existing token will be invalidated.")))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{ref:It,name:"expiryInSeconds",label:N("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.expiry.label"),required:!0,requiredErrorMessage:N("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.expiry.validations.empty"),placeholder:N("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.expiry.placeholder"),validation:function(){var e=Zt(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ro(t.toString())||(n.isValid=!1,n.errorMessages.push(N("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.expiry.validations.invalid")));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),value:null!=d&&d.refreshToken?d.refreshToken.expiryInSeconds.toString():i.defaultRefreshTokenExpiryTime,type:"number",readOnly:b,min:1,"data-testid":"".concat(R,"-refresh-token-expiry-time-input")}),s.createElement(l.kW,null,s.createElement(_.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.expiry.hint"},"Specify the validity period of the ",s.createElement(l.EK,{withBackground:!0},"refresh_token"),"in seconds."))))),s.createElement(P.Z.Row,{columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(be.Z,null),s.createElement(be.Z,{hidden:!0})),s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},s.createElement(l.X6,{as:"h4"},N("console:develop.features.applications.forms.inboundOIDC.sections.idToken.heading")),s.createElement(l.wE,{isAllowEnabled:!1,tenantDomain:A,onlyOrigin:!1,labelEnabled:!1,urlState:Q,setURLState:function(e){var t,n;K(e),(null!=d&&null!==(t=d.idToken)&&void 0!==t&&t.audience.toString()?C.yf.buildCallBackURLWithSeparator(null==d||null===(n=d.idToken)||void 0===n?void 0:n.audience.toString()):"")!==e&&nn(!0)},labelName:N("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.audience.label"),required:!1,value:null!=d&&null!==(Kn=d.idToken)&&void 0!==Kn&&Kn.audience.toString()?C.yf.buildCallBackURLWithSeparator(null==d||null===($n=d.idToken)||void 0===$n?void 0:$n.audience.toString()):"",validation:function(e){return!(null!=e&&e.includes(","))},placeholder:N("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.audience.placeholder"),validationErrorMsg:N("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.audience.validations.invalid"),showError:ee,setShowError:te,hint:s.createElement(_.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.audience.hint"},"Specify the recipient(s) that this ",s.createElement(l.EK,{withBackground:!0},"id_token")," is intended for. By default, the client ID of this application is added as an audience."),readOnly:b,addURLTooltip:N("common:addURL"),duplicateURLErrorMessage:N("common:duplicateURLError"),getSubmit:function(e){jn=e},showPredictions:!1,skipInternalValidation:!0,popupHeaderPositive:N("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:N("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:N("console:develop.features.URLInput.withLabel.positive.content",{productName:ot.ui.productName}),popupContentNegative:N("console:develop.features.URLInput.withLabel.negative.content",{productName:ot.ui.productName}),popupDetailedContentPositive:N("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:N("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:N("console:common.validations.inSecureURL.description"),showLessContent:N("common:showLess"),showMoreContent:N("common:showMore")}))),m.applicationConfig.inboundOIDCForm.showIdTokenEncryption&&S.u.SPA!==(null==O?void 0:O.templateId)&&!Xt&&s.createElement(s.Fragment,null,s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{ref:Rt,name:"encryption",label:"",required:!1,disabled:!dn,requiredErrorMessage:N("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.encryption.validations.empty"),type:"checkbox",listen:function(e){var t=e.get("encryption").includes("enableEncryption");t||(Cn(),e.set("algorithm",""),e.set("method","")),z(t)},value:null!=d&&null!==(Yn=d.idToken)&&void 0!==Yn&&Yn.encryption.enabled?["enableEncryption"]:[],children:[{label:N("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.encryption.label"),value:"enableEncryption"}],readOnly:b,"data-testid":"".concat(R,"-encryption-checkbox")}),s.createElement(l.kW,null,s.createElement(_.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.encryption.hint"},"Select to encrypt the ",s.createElement(l.EK,{withBackground:!0},"id_token"),"  when issuing the token using the public key of your application. To use encryption, configure the JWKS endpoint or the certificate of your application in the Certificate section below.")))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{ref:Lt,name:"algorithm",label:N("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.algorithm.label"),required:H&&dn,requiredErrorMessage:N("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.algorithm.validations.empty"),type:"dropdown",disabled:!H||!dn,default:H&&dn?null!=d&&d.idToken?d.idToken.encryption.algorithm:i.idTokenEncryptionAlgorithm.defaultValue:"",placeholder:N("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.algorithm.placeholder"),children:Un(i.idTokenEncryptionAlgorithm),readOnly:b,"data-testid":"".concat(R,"-encryption-algorithm-dropdown")}),s.createElement(l.kW,{disabled:!H||!dn},s.createElement(_.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.algorithm.hint"},"The dropdown contains the supported ",s.createElement(l.EK,{withBackground:!0},"id_token"),"encryption algorithms.")))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{ref:Nt,name:"method",disabled:!H||!dn,label:N("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.method.label"),required:H&&dn,requiredErrorMessage:N("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.method.validations.empty"),type:"dropdown",default:H&&dn?null!=d&&d.idToken?d.idToken.encryption.method:i.idTokenEncryptionMethod.defaultValue:"",placeholder:N("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.method.placeholder"),children:Un(i.idTokenEncryptionMethod),readOnly:b,"data-testid":"".concat(R,"-encryption-method-dropdown")}),s.createElement(l.kW,{disabled:!H||!dn},s.createElement(_.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.method.hint"},"The dropdown contains the supported ",s.createElement(l.EK,{withBackground:!0},"id_token"),"encryption methods."))))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{ref:kt,name:"idExpiryInSeconds",label:N("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.expiry.label"),required:!0,requiredErrorMessage:N("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.expiry.validations.empty"),placeholder:N("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.expiry.placeholder"),validation:function(){var e=Zt(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ro(t.toString())||(n.isValid=!1,n.errorMessages.push(N("console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.expiry.validations.invalid")));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),value:null!=d&&d.idToken?d.idToken.expiryInSeconds.toString():i.defaultIdTokenExpiryTime,type:"number",readOnly:b,min:1,"data-testid":"".concat(R,"-id-token-expiry-time-input")}),s.createElement(l.kW,null,s.createElement(_.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.idToken.fields.expiry.hint"},"Specify the validity period of the ",s.createElement(l.EK,{withBackground:!0},"id_token")," in seconds.")))),!Wt&&m.applicationConfig.inboundOIDCForm.showBackChannelLogout&&s.createElement(s.Fragment,null,s.createElement(P.Z.Row,{columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(be.Z,null),s.createElement(be.Z,{hidden:!0})),s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h4"},"Logout URLs"),s.createElement(be.Z,{hidden:!0}),s.createElement(Be.gN,{ref:Pt,name:"backChannelLogoutUrl",label:N("console:develop.features.applications.forms.inboundOIDC.sections.logoutURLs.fields.back.label"),required:!1,requiredErrorMessage:N("console:develop.features.applications.forms.inboundOIDC.sections.logoutURLs.fields.back.validations.empty"),placeholder:N("console:develop.features.applications.forms.inboundOIDC.sections.logoutURLs.fields.back.placeholder"),type:"text",validation:function(e,t){qe.I.url(e)||(t.isValid=!1,t.errorMessages.push(N("console:develop.features.applications.forms.inboundOIDC.sections.logoutURLs.fields.back.validations.invalid")))},value:null==d||null===(Xn=d.logout)||void 0===Xn?void 0:Xn.backChannelLogoutUrl,readOnly:b,"data-testid":"".concat(R,"-back-channel-logout-url-input")}),s.createElement(l.kW,null,N("console:develop.features.applications.forms.inboundOIDC.sections.logoutURLs.fields.back.hint",{productName:ot.ui.productName}))))),m.applicationConfig.inboundOIDCForm.showFrontChannelLogout&&s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{ref:Ut,name:"frontChannelLogoutUrl",label:N("console:develop.features.applications.forms.inboundOIDC.sections.logoutURLs.fields.front.label"),required:!1,requiredErrorMessage:N("console:develop.features.applications.forms.inboundOIDC.sections.logoutURLs.fields.front.validations.empty"),placeholder:N("console:develop.features.applications.forms.inboundOIDC.sections.logoutURLs.fields.front.placeholder"),type:"text",validation:function(e,t){qe.I.url(e)||(t.isValid=!1,t.errorMessages.push(N("console:develop.features.applications.forms.inboundOIDC.sections.logoutURLs.fields.front.validations.invalid")))},value:null==d||null===(Jn=d.logout)||void 0===Jn?void 0:Jn.frontChannelLogoutUrl,readOnly:b,"data-testid":"".concat(R,"-front-channel-logout-url-input")}))),!Wt&&m.applicationConfig.inboundOIDCForm.showRequestObjectSignatureValidation&&s.createElement(s.Fragment,null,s.createElement(P.Z.Row,{columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(be.Z,null),s.createElement(be.Z,{hidden:!0})),s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h4"},N("console:develop.features.applications.forms.inboundOIDC.sections.requestObjectSignature.heading")),s.createElement(Be.gN,{ref:xt,name:"enableRequestObjectSignatureValidation",label:"",required:!1,requiredErrorMessage:"this is needed",type:"checkbox",value:null!=d&&d.validateRequestObjectSignature?["EnableRequestObjectSignatureValidation"]:[],children:[{label:N("console:develop.features.applications.forms.inboundOIDC.sections.requestObjectSignature.fields.signatureValidation.label"),value:"EnableRequestObjectSignatureValidation"}],readOnly:b,"data-testid":"".concat(R,"-request-object-signature-validation-checkbox")}),s.createElement(l.kW,null,s.createElement(_.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.requestObjectSignature.description",tOptions:{productName:ot.ui.productName}},"WSO2 Identity Server supports receiving an OIDC authentication request as a request object that is passed in a single, self-contained request parameter. Enable signature validation to accept only signed",s.createElement(l.EK,null,"request")," objects in the authorization request."))))),m.applicationConfig.inboundOIDCForm.showScopeValidators&&s.createElement(P.Z.Row,{columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(be.Z,null),s.createElement(be.Z,{hidden:!0})),s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h4"},N("console:develop.features.applications.forms.inboundOIDC.sections.scopeValidators.heading")),s.createElement(Be.gN,{ref:Dt,name:"scopeValidator",label:"",required:!1,requiredErrorMessage:N("console:develop.features.applications.forms.inboundOIDC.sections.scopeValidators.fields.validator.validations.empty"),type:"checkbox",value:null==d?void 0:d.scopeValidators,children:Un(i.scopeValidators,!0),readOnly:b,"data-testid":"".concat(R,"-scope-validator-checkbox")}))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Mt,{protocol:S.AI.OIDC,deleteAllowed:!(null!==(eo=d.idToken)&&void 0!==eo&&null!==(to=eo.encryption)&&void 0!==to&&to.enabled),reasonInsideTooltipWhyDeleteIsNotAllowed:s.createElement(s.Fragment,null,s.createElement(_.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.sections.certificates.disabledPopup"},"This certificate is used to encrypt the ",s.createElement(l.EK,null,"id_token"),". First, you need to disable ",s.createElement(l.EK,null,"id_token")," encryption to proceed.")),onUpdate:t,application:n,updateCertFinalValue:rn,updateCertType:cn,certificate:o,readOnly:b,hidden:Wt||!m.applicationConfig.inboundOIDCForm.showCertificates,isRequired:!0,triggerSubmit:En}))),!b&&s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement("span",{ref:Vt}),s.createElement(F.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:w,disabled:w,"data-testid":"".concat(R,"-submit-button")},N("common:update")))))),Ce&&s.createElement(l.cV,{onClose:function(){return Ae(!1)},type:"warning",open:Ce,assertion:null==d?void 0:d.clientId,assertionHint:s.createElement("p",null,s.createElement(_.c,{i18nKey:"console:develop.features.applications.confirmations.regenerateSecret.assertionHint",tOptions:{id:null==d?void 0:d.clientId}},"Please type ",s.createElement("strong",null,null==d?void 0:d.clientId)," to confirm.")),assertionType:"input",primaryAction:N("common:confirm"),secondaryAction:N("common:cancel"),onSecondaryActionClick:function(){return Ae(!1)},onPrimaryActionClick:function(){v(),Ae(!1)},"data-testid":"".concat(R,"-oidc-regenerate-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(R,"-oidc-regenerate-confirmation-modal-header")},N("console:develop.features.applications.confirmations.regenerateSecret.header")),s.createElement(l.cV.Message,{attached:!0,warning:!0,"data-testid":"".concat(R,"-oidc-regenerate-confirmation-modal-message")},N("console:develop.features.applications.confirmations.regenerateSecret.message")),s.createElement(l.cV.Content,{"data-testid":"".concat(R,"-oidc-regenerate-confirmation-modal-content")},N("console:develop.features.applications.confirmations.regenerateSecret.content"))),we&&s.createElement(l.cV,{onClose:function(){return Ie(!1)},type:"warning",open:we,assertion:null==d?void 0:d.clientId,assertionHint:s.createElement("p",null,s.createElement(_.c,{i18nKey:"console:develop.features.applications.confirmations.revokeApplication.assertionHint",tOptions:{id:null==d?void 0:d.clientId}},"Please type ",s.createElement("strong",null,null==d?void 0:d.clientId)," to confirm.")),assertionType:"input",primaryAction:N("common:confirm"),secondaryAction:N("common:cancel"),onSecondaryActionClick:function(){return Ie(!1)},onPrimaryActionClick:function(){h(),Ie(!1)},"data-testid":"".concat(R,"-oidc-revoke-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(R,"-oidc-revoke-confirmation-modal-header")},N("console:develop.features.applications.confirmations.revokeApplication.header")),s.createElement(l.cV.Message,{attached:!0,warning:!0,"data-testid":"".concat(R,"-oidc-revoke-confirmation-modal-message")},N("console:develop.features.applications.confirmations.revokeApplication.message")),s.createElement(l.cV.Content,{"data-testid":"".concat(R,"-oidc-revoke-confirmation-modal-content")},Wt?N("console:develop.features.applications.confirmations.revokeApplication.content"):null)),Re&&s.createElement(l.cV,{onClose:function(){return Le(!1)},type:"warning",open:Re,assertion:null==d?void 0:d.clientId,assertionHint:Wt?s.createElement("p",null,s.createElement(_.c,{i18nKey:"console:develop.features.applications.confirmations.reactivateSPA.assertionHint",tOptions:{id:null==d?void 0:d.clientId}},"Please type ",s.createElement("strong",null,null==d?void 0:d.clientId)," to confirm.")):s.createElement("p",null,s.createElement(_.c,{i18nKey:"console:develop.features.applications.confirmations.reactivateOIDC.assertionHint",tOptions:{id:null==d?void 0:d.clientId}},"Please type ",s.createElement("strong",null,null==d?void 0:d.clientId)," to confirm.")),assertionType:"input",primaryAction:N("common:confirm"),secondaryAction:N("common:cancel"),onSecondaryActionClick:function(){return Le(!1)},onPrimaryActionClick:function(){v(),Le(!1)},"data-testid":"".concat(R,"-oidc-reactivate-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(R,"-oidc-reactivate-confirmation-modal-header")},N(Wt?"console:develop.features.applications.confirmations.reactivateOIDC.header":"console:develop.features.applications.confirmations.reactivateSPA.header")),Wt?s.createElement(l.cV.Message,{attached:!0,warning:!0,"data-testid":"".concat(R,"-oidc-reactivate-confirmation-modal-message")},N("console:develop.features.applications.confirmations.reactivateSPA.message")):null,s.createElement(l.cV.Content,{"data-testid":"".concat(R,"-oidc-reactivate-confirmation-modal-content")},N(Wt?"console:develop.features.applications.confirmations.reactivateSPA.content":"console:develop.features.applications.confirmations.reactivateOIDC.content"))),ke&&Me)):s.createElement(lt.Z,null,s.createElement(l.pO,{inline:"centered",active:!0}))};function Gt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Wt.defaultProps={"data-testid":"inbound-oidc-form",initialValues:{accessToken:void 0,allowedOrigins:[],callbackURLs:[],clientId:"",clientSecret:"",grantTypes:[],idToken:void 0,logout:void 0,pkce:{mandatory:!1,supportPlainTransformAlgorithm:!1},publicClient:!1,refreshToken:void 0,scopeValidators:[],state:void 0,validateRequestObjectSignature:void 0}};var Kt=function(e){var t=e.onUpdate,n=e.application,o=e.certificate,i=e.initialValues,a=e.onSubmit,r=e.readOnly,u=e.isLoading,d=e["data-testid"],p=(0,c.$)().t,f=Gt((0,s.useState)(!1),2),m=(f[0],f[1],Gt((0,s.useState)(!1),2)),v=m[0],h=m[1],g=Gt((0,s.useState)(void 0),2),b=(g[0],g[1],Gt((0,s.useState)(null),2)),y=b[0],E=(b[1],Gt((0,s.useState)(void 0),2)),C=E[0],A=E[1],O=Gt((0,s.useState)(S.el.NONE),2),w=O[0],I=O[1],T=Gt((0,Be.cC)(),2),R=T[0],N=T[1];(0,s.useEffect)((function(){null!=o&&o.type&&I(null==o?void 0:o.type)}),[o]);return s.createElement(Be.Es,{onSubmit:function(e){N(),a(function(e){return{general:{advancedConfigurations:{certificate:{type:w!==S.el.NONE?w:null==o?void 0:o.type,value:w!==S.el.NONE?C:""}}},inbound:{realm:e.get("realm"),replyTo:e.get("replyTo")}}}(e))}},s.createElement(P.Z,null,s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{name:"realm",label:p("console:develop.features.applications.forms.inboundSTS.fields.realm.label"),required:!0,requiredErrorMessage:p("console:develop.features.applications.forms.inboundSTS.fields.realm.validations.empty"),placeholder:p("console:develop.features.applications.forms.inboundSTS.fields.realm.placeholder"),type:"text",value:null==i?void 0:i.realm,readOnly:r||!(0,L.Z)(null==i?void 0:i.realm),"data-testid":"".concat(d,"-realm-input")}),s.createElement(l.kW,{disabled:!(0,L.Z)(null==i?void 0:i.realm)},p("console:develop.features.applications.forms.inboundSTS.fields.realm.hint")))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{name:"replyTo",label:p("console:develop.features.applications.forms.inboundSTS.fields.replyTo.label"),required:!0,requiredErrorMessage:p("console:develop.features.applications.forms.inboundSTS.fields.replyTo.validations.empty"),placeholder:p("console:develop.features.applications.forms.inboundSTS.fields.replyTo.placeholder"),validation:function(e,t){qe.I.url(e)||(t.isValid=!1,t.errorMessages.push(p("console:develop.features.applications.forms.inboundSTS.fields.replyTo.validations.invalid")))},type:"text",value:null==i?void 0:i.replyTo,readOnly:r,"data-testid":"".concat(d,"-reply-to-url-input")}),s.createElement(l.kW,null,p("console:develop.features.applications.forms.inboundSTS.fields.replyTo.hint")))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Mt,{protocol:S.AI.WS_FEDERATION,deleteAllowed:!0,reasonInsideTooltipWhyDeleteIsNotAllowed:s.createElement(s.Fragment,null),onUpdate:t,application:n,updateCertFinalValue:A,updateCertType:I,certificate:o,readOnly:r,hidden:!1,isRequired:!0,triggerSubmit:R}))),v&&s.createElement(Ke,{open:v,certificate:y,onClose:function(){h(!1)}}),!r&&s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(F.Z,{primary:!0,type:"submit",size:"small",loading:u,disabled:u,className:"form-button","data-testid":"".concat(d,"-submit-button")},p("common:update"))))))};function $t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Kt.defaultProps={"data-testid":"inbound-passive-sts-form"};var Xt=function(e){var t,n,o=e.initialValues,i=e.creationOption,a=e.onSubmit,r=e.isLoading,u=e["data-testid"],d=(0,c.$)().t,p=$t((0,s.useState)(void 0),2),v=p[0],g=p[1],b=$t((0,s.useState)(),2),y=b[0],E=b[1],C=$t((0,s.useState)(null),2),A=C[0],O=C[1],w=$t((0,s.useState)(null),2),I=w[0],T=w[1],R=$t((0,s.useState)(!1),2),N=R[0],k=R[1];(0,s.useEffect)((function(){var e,t,n,i,a;if((0,L.Z)(null==o||null===(e=o.inboundProtocolConfiguration)||void 0===e?void 0:e.saml))g(S.T6.META_URL);else if((0,L.Z)(null==o||null===(t=o.inboundProtocolConfiguration)||void 0===t||null===(n=t.saml)||void 0===n?void 0:n.metadataURL)){if(!(0,L.Z)(null==o||null===(i=o.inboundProtocolConfiguration)||void 0===i||null===(a=i.saml)||void 0===a?void 0:a.metadataFile)){var r,l,s,c,u,d;g(S.T6.META_FILE),O(null==o||null===(r=o.inboundProtocolConfiguration)||void 0===r||null===(l=r.saml)||void 0===l?void 0:l.file),T(null==o||null===(s=o.inboundProtocolConfiguration)||void 0===s||null===(c=s.saml)||void 0===c?void 0:c.pasteValue),E(null==o||null===(u=o.inboundProtocolConfiguration)||void 0===u||null===(d=u.saml)||void 0===d?void 0:d.metadataFile)}}else g(S.T6.META_URL)}),[o]),(0,s.useEffect)((function(){y&&N&&k(!1)}),[y]),(0,s.useEffect)((function(){g(i)}),[i]);return v?s.createElement(Be.Es,{onSubmit:function(e){v===S.T6.META_FILE&&(0,L.Z)(y)?k(!0):a(function(e){var t={};return v===S.T6.META_URL?t={inbound:{metadataURL:e.get("url")}}:v===S.T6.META_FILE&&(t={inbound:{metadataFile:y}}),t}(e))}},s.createElement(P.Z,null,S.T6.META_URL===v&&s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(Be.gN,{name:"url",displayErrorOn:"blur",label:d("console:develop.features.applications.forms.inboundSAML.fields.metaURL.label"),required:!0,requiredErrorMessage:d("console:develop.features.applications.forms.inboundSAML.fields.metaURL.validations.empty"),type:"text",placeholder:d("console:develop.features.applications.forms.inboundSAML.fields.metaURL.placeholder"),validation:function(e,t){qe.I.url(e)||(t.isValid=!1,t.errorMessages.push(d("console:develop.features.applications.forms.inboundSAML.fields.metaURL.validations.invalid"))),null!==m.commonConfig&&void 0!==m.commonConfig&&m.commonConfig.blockLoopBackCalls&&ze.URLUtils.isLoopBackCall(e)&&(t.isValid=!1,t.errorMessages.push(d("console:develop.features.idp.forms.common.internetResolvableErrorMessage")))},value:null==o||null===(t=o.inboundProtocolConfiguration)||void 0===t||null===(n=t.saml)||void 0===n?void 0:n.metadataURL,"data-testid":"".concat(u,"-meta-url-input")}),s.createElement(l.kW,null,d("console:develop.features.applications.forms.inboundSAML.fields.metaURL.hint")))),S.T6.META_FILE===v&&s.createElement(P.Z.Row,{columns:1,mobile:16,tablet:16,computer:10},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(l.GB,{key:1,fileStrategy:Jt,file:A,pastedContent:I,onChange:function(e){O(e.file),T(e.pastedContent),E(e.serialized)},uploadButtonText:"Upload Metadata File",dropzoneText:"Drag and drop a XML file here.","data-testid":"".concat(u,"-form-wizard-saml-xml-config-file-picker"),icon:(0,h._5)().uploadPlaceholder,placeholderIcon:s.createElement(f.Z,{name:"file code",size:"huge"}),normalizeStateOnRemoveOperations:!0,emptyFileError:N,hidePasteOption:!0}))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(be.Z,{hidden:!0}),s.createElement(F.Z,{primary:!0,type:"submit",size:"small",loading:r,disabled:r,className:"form-button","data-testid":"".concat(u,"-submit-button")},d("common:update")))))):s.createElement(l.pO,null)};Xt.defaultProps={"data-testid":"saml-protocol-all-settings-wizard-form"};var Jt=new l.R2,en=n(51448);function tn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var on=function(e){var t,n,o,i,a,r=e.onUpdate,d=e.application,f=e.certificate,v=e.initialValues,h=e.metadata,g=e.onSubmit,b=e.readOnly,y=e.isLoading,E=e.containerRef,C=e["data-testid"],A=(0,c.$)().t,O=tn((0,s.useState)(null),2),w=O[0],I=O[1],T=tn((0,s.useState)(null),2),R=T[0],N=T[1],U=tn((0,s.useState)(null),2),M=U[0],D=U[1],Z=tn((0,s.useState)(null),2),j=Z[0],V=Z[1],H=(0,u.v9)((function(e){var t,n;return null==e||null===(t=e.config)||void 0===t||null===(n=t.ui)||void 0===n?void 0:n.isSignatureValidationCertificateAliasEnabled})),z=(0,u.v9)((function(e){return e.application.samlConfigurations})),B=(0,u.v9)((function(e){return e.config})),q=function(e,t){var n=[];return h&&e.options.map((function(t){n.push({key:e.options.indexOf(t),text:t,value:t})})),n},W=tn((0,s.useState)(""),2),G=W[0],Q=W[1],K=tn((0,s.useState)(""),2),$=K[0],Y=K[1],X=tn((0,s.useState)(""),2),J=X[0],ee=X[1],te=tn((0,s.useState)(""),2),ne=te[0],oe=te[1],ie=tn((0,s.useState)(!1),2),ae=ie[0],re=ie[1],le=tn((0,s.useState)(!1),2),se=le[0],ce=le[1],ue=tn((0,s.useState)(!1),2),de=ue[0],pe=ue[1],fe=tn((0,s.useState)(!1),2),me=fe[0],ve=fe[1],he=tn((0,s.useState)(!1),2),ge=he[0],ye=he[1],Ee=tn((0,s.useState)(!1),2),Se=Ee[0],Ce=Ee[1],Ae=tn((0,s.useState)(!1),2),Oe=Ae[0],we=Ae[1],Ie=tn((0,s.useState)(!1),2),Te=Ie[0],Re=Ie[1],Le=tn((0,s.useState)(!1),2),Ne=Le[0],ke=Le[1],Pe=tn((0,s.useState)(!1),2),Ue=Pe[0],Me=Pe[1],xe=tn((0,s.useState)(!1),2),_e=xe[0],De=xe[1],Ze=tn((0,s.useState)(!0),2),je=Ze[0],Fe=Ze[1],Ve=tn((0,s.useState)(void 0),2),He=Ve[0],We=Ve[1],Ge=tn((0,s.useState)(S.el.NONE),2),Qe=Ge[0],Ke=Ge[1],$e=tn((0,s.useState)(!1),2),Ye=$e[0],Xe=$e[1],Je=tn((0,s.useState)(null!=v&&v.singleLogoutProfile.logoutMethod?null==v?void 0:v.singleLogoutProfile.logoutMethod:S.aD.BACK_CHANNEL),2),et=Je[0],tt=Je[1],nt=tn((0,s.useState)(!1),2),ot=nt[0],it=nt[1],at=tn((0,Be.cC)(),2),rt=at[0],lt=at[1],st=(0,s.useRef)(),ct=(0,s.useRef)(),ut=(0,s.useRef)(),dt=(0,s.useRef)(),pt=(0,s.useRef)(),ft=(0,s.useRef)(),mt=(0,s.useRef)(),vt=(0,s.useRef)(),ht=(0,s.useRef)(),gt=(0,s.useRef)(),bt=(0,s.useRef)(),yt=(0,s.useRef)(),Et=(0,s.useRef)(),St=(0,s.useRef)(),Ct=(0,s.useRef)(),At=(0,s.useRef)(),Ot=(0,s.useRef)(),wt=(0,s.useRef)(),It=(0,s.useRef)(),Tt=(0,s.useRef)(),Rt=(0,s.useRef)(),Lt=(0,s.useRef)(),Nt=(0,s.useRef)(),kt=(0,s.useRef)(),Pt=(0,s.useRef)(),Ut=(0,s.useRef)(),xt=(0,s.useRef)(),_t=(0,s.useRef)(),Dt=(0,s.useRef)(),Zt=(0,s.useRef)(),jt=(0,s.useRef)();(0,s.useEffect)((function(){null!=f&&f.type&&Ke(null==f?void 0:f.type)}),[f]);(0,s.useEffect)((function(){var e,t;v&&(ye(null==v?void 0:v.singleLogoutProfile.enabled),Ce(null==v?void 0:v.singleLogoutProfile.idpInitiatedSingleLogout.enabled),we(null==v?void 0:v.attributeProfile.enabled),Re(null==v?void 0:v.requestValidation.enableSignatureValidation),Me(null==v?void 0:v.responseSigning.enabled),ke(null==v?void 0:v.singleSignOnProfile.assertion.encryption.enabled),De(null==v||null===(e=v.singleSignOnProfile)||void 0===e||null===(t=e.bindings)||void 0===t?void 0:t.includes(S.Ss.ARTIFACT)))}),[v]),(0,s.useEffect)((function(){Fe(m.applicationConfig.inboundSAMLForm.artifactBindingAllowed)}),[]);var Ft,Vt=function(e){var t={behavior:"smooth",block:"center"};switch(e){case"issuer":st.current.scrollIntoView(t);break;case"applicationQualifier":ct.current.scrollIntoView(t);break;case"consumerURL":ut.current.scrollIntoView(t);break;case"defaultAssertionConsumerUrl":dt.current.scrollIntoView(t);break;case"idpEntityIdAlias":pt.current.scrollIntoView(t);break;case"requestSignatureValidation":ft.current.scrollIntoView(t);break;case"signatureValidationCertAlias":mt.current.scrollIntoView(t);break;case"digestAlgorithm":vt.current.scrollIntoView(t);break;case"signingAlgorithm":ht.current.scrollIntoView(t);break;case"responseSigning":gt.current.scrollIntoView(t);break;case"bindings":bt.current.scrollIntoView(t);break;case"signatureValidationForArtifactBinding":yt.current.scrollIntoView(t);break;case"idPInitiatedSSO":Et.current.scrollIntoView(t);break;case"nameIdFormat":St.current.scrollIntoView(t);break;case"audience":Ct.current.scrollIntoView(t);break;case"recipient":At.current.scrollIntoView(t);break;case"assertionEncryption":Ot.current.scrollIntoView(t);break;case"assertionEncryptionAlgorithm":wt.current.scrollIntoView(t);break;case"keyEncryptionAlgorithm":It.current.scrollIntoView(t);break;case"attributeProfile":Tt.current.scrollIntoView(t);break;case"includeAttributesInResponse":Rt.current.scrollIntoView(t);break;case"attributeConsumingServiceIndex":Lt.current.scrollIntoView(t);break;case"singleLogoutProfile":Nt.current.scrollIntoView(t);break;case"logoutMethod":kt.current.scrollIntoView(t);break;case"singleLogoutResponseUrl":Pt.current.scrollIntoView(t);break;case"singleLogoutRequestUrl":Ut.current.scrollIntoView(t);break;case"idpInitiatedSingleLogout":xt.current.scrollIntoView(t);break;case"returnToURL":_t.current.scrollIntoView(t);break;case"assertionQueryProfile":Dt.current.scrollIntoView(t)}};return(0,s.useEffect)((function(){(0,L.Z)(He)||Qe===S.el.NONE?Xe(!1):Xe(!0)}),[He,Qe]),h?s.createElement(Be.Es,{onSubmit:function(e){lt(),Qe!==S.el.NONE&&(0,L.Z)(He)||((0,L.Z)(G)?(re(!0),Vt("consumerURL")):(Qe===S.el.NONE&&We(""),g(function(e){var t,n;return{general:{advancedConfigurations:{certificate:{type:S.el.PEM,value:Qe!==S.el.NONE?He:""}}},inbound:{manualConfiguration:{assertionConsumerUrls:G.split(","),attributeProfile:{alwaysIncludeAttributesInResponse:e.get("attributeProfile").includes("enabled"),enabled:e.get("attributeProfile").includes("enabled")},defaultAssertionConsumerUrl:e.get("defaultAssertionConsumerUrl"),enableAssertionQueryProfile:null===(t=e.get("assertionQueryProfile"))||void 0===t?void 0:t.includes("enableAssertionQueryProfile"),idpEntityIdAlias:e.get("idpEntityIdAlias"),issuer:e.get("issuer")||(null==v?void 0:v.issuer),requestValidation:{enableSignatureValidation:Ye&&e.get("requestSignatureValidation").includes("enableSignatureValidation"),signatureValidationCertAlias:e.get("signatureValidationCertAlias")},responseSigning:{enabled:e.get("responseSigning").includes("enabled"),signingAlgorithm:e.get("signingAlgorithm")},serviceProviderQualifier:e.get("applicationQualifier"),singleLogoutProfile:{enabled:e.get("singleLogoutProfile").includes("enabled"),idpInitiatedSingleLogout:{enabled:e.get("idpInitiatedSingleLogout").includes("enabled"),returnToUrls:ne?ne.split(","):[]},logoutMethod:e.get("logoutMethod"),logoutRequestUrl:e.get("singleLogoutRequestUrl"),logoutResponseUrl:e.get("singleLogoutResponseUrl")},singleSignOnProfile:{assertion:{audiences:$?$.split(","):[],digestAlgorithm:e.get("digestAlgorithm"),encryption:{assertionEncryptionAlgorithm:Ye?e.get("assertionEncryptionAlgorithm"):null==h?void 0:h.assertionEncryptionAlgorithm.defaultValue,enabled:Ye&&e.get("assertionEncryption").includes("enableAssertionEncryption"),keyEncryptionAlgorithm:Ye?e.get("keyEncryptionAlgorithm"):null==h?void 0:h.keyEncryptionAlgorithm.defaultValue},nameIdFormat:e.get("nameIdFormat"),recipients:J?J.split(","):[]},attributeConsumingServiceIndex:e.get("attributeConsumingServiceIndex"),bindings:e.get("bindings"),enableIdpInitiatedSingleSignOn:e.get("idPInitiatedSSO").includes("enableIdPInitiatedSSO"),enableSignatureValidationForArtifactBinding:je&&(null===(n=e.get("signatureValidationForArtifactBinding"))||void 0===n?void 0:n.includes("enableSignatureValidationForArtifactBinding"))}}}}}(e))))},onSubmitError:function(e,t){for(var n=e.entries(),o=n.next();!o.done;){if(!o.value[1]||!t.get(o.value[0]).isValid){Vt(o.value[0]);break}o=n.next()}},onStaleChange:function(e){it(e)},ref:Zt},!b&&s.createElement(l.PH,{updateButtonRef:jt,isFormStale:ot,containerRef:E},s.createElement(F.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:y,disabled:y,"data-testid":"".concat(C,"-submit-button-sticky")},A("common:update"))),s.createElement(P.Z,null,s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},null!=v&&v.issuer?s.createElement(k.Z.Field,null,s.createElement("div",{className:"required field"},s.createElement("label",null,A("console:develop.features.applications.forms.inboundSAML.fields.issuer.label"))),s.createElement(l.OR,{value:null==v?void 0:v.issuer})):s.createElement(Be.gN,{name:"issuer",label:A("console:develop.features.applications.forms.inboundSAML.fields.issuer.label"),required:!0,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.fields.issuer.validations.empty"),type:"text",placeholder:A("console:develop.features.applications.forms.inboundSAML.fields.issuer.placeholder"),value:null==v?void 0:v.issuer,readOnly:b,"data-testid":"".concat(C,"-issuer-input"),ref:st}),s.createElement(l.kW,null,s.createElement(_.c,{i18nKey:"console:develop.features.applications.forms.inboundSAML.fields.issuer.hint"},"This specifies the unique identifier of the application. This is also the",s.createElement(l.EK,{withBackground:!0},"saml2:Issuer"),"  value specified in the SAML authentication request issued by the application.")))),m.applicationConfig.inboundSAMLForm.showApplicationQualifier&&s.createElement(s.Fragment,null,s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{ref:ct,name:"applicationQualifier",label:A("console:develop.features.applications.forms.inboundSAML.fields.qualifier.label"),required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.fields.qualifier.validations.empty"),type:"text",placeholder:A("console:develop.features.applications.forms.inboundSAML.fields.qualifier.placeholder"),value:null==v?void 0:v.serviceProviderQualifier,readOnly:b,"data-testid":"".concat(C,"-application-qualifier-input")}),s.createElement(l.kW,null,A("console:develop.features.applications.forms.inboundSAML.fields.qualifier.hint"))))),s.createElement("div",{ref:ut}),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.wE,{urlState:G,setURLState:function(e){var t;Q(e),(null==v||null===(t=v.assertionConsumerUrls)||void 0===t?void 0:t.toString())!==e&&it(!0)},labelName:A("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.label"),value:null==v?void 0:v.assertionConsumerUrls.toString(),placeholder:A("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.placeholder"),validationErrorMsg:A("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.validations.invalid"),validation:function(e){var t=null;return ze.URLUtils.isHttpsOrHttpUrl(e)||(t=s.createElement(p.Z,{basic:!0,color:"orange",className:"mt-2"},A("console:common.validations.unrecognizedURL.description"))),!!ze.URLUtils.isMobileDeepLink(e)&&(I(t),!0)},required:!0,showError:ae,setShowError:re,hint:A("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.hint"),readOnly:b,addURLTooltip:A("common:addURL"),duplicateURLErrorMessage:A("common:duplicateURLError"),"data-testid":"".concat(C,"-assertion-consumer-url-input"),showPredictions:!1,customLabel:w,popupHeaderPositive:A("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:A("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:A("console:develop.features.URLInput.withLabel.positive.content",{productName:B.ui.productName}),popupContentNegative:A("console:develop.features.URLInput.withLabel.negative.content",{productName:B.ui.productName}),popupDetailedContentPositive:A("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:A("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:A("console:common.validations.inSecureURL.description"),showLessContent:A("common:showLess"),showMoreContent:A("common:showMore")}))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{ref:dt,label:A("console:develop.features.applications.forms.inboundSAML.fields.defaultAssertionURL.label"),name:"defaultAssertionConsumerUrl",type:"dropdown",required:!0,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.fields.defaultAssertionURL.validations.empty"),default:!(0,L.Z)(G)&&G.split(",").slice(-1)[0],children:function(){var e=[];if(!(0,L.Z)(G)){var t=G.split(",");t.map((function(n){e.push({key:t.indexOf(n),text:n,value:n})}))}return e}(),readOnly:b,"data-testid":"".concat(C,"-default-assertion-consumer-url-input"),value:null==v?void 0:v.defaultAssertionConsumerUrl}),s.createElement(l.kW,null,A("console:develop.features.applications.forms.inboundSAML.fields.defaultAssertionURL.hint")))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{ref:pt,label:A("console:develop.features.applications.forms.inboundSAML.fields.idpEntityIdAlias.label"),name:"idpEntityIdAlias",placeholder:A("console:develop.features.applications.forms.inboundSAML.fields.idpEntityIdAlias.placeholder"),type:"text",required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.fields.idpEntityIdAlias.validations.empty"),validation:function(e,t){qe.I.url(e)||(t.errorMessages.push(A("console:develop.features.applications.forms.inboundSAML.fields.idpEntityIdAlias.validations.invalid")),t.isValid=!1)},value:null==v?void 0:v.idpEntityIdAlias,readOnly:b,"data-testid":"".concat(C,"-idp-entity-id-alias-input")}),s.createElement(l.kW,null,s.createElement(_.c,{values:{defaultIdpEntityID:null==z?void 0:z.issuer,productName:B.ui.productName},i18nKey:"console:develop.features.applications.forms.inboundSAML.fields.idpEntityIdAlias.hint"},"This value can override the default Identity Provider (IdP) entity ID defaultIdpEntityID. The IdP entity ID is used as the",s.createElement(l.EK,{withBackground:!0},"saml2:Issuer")," of the SAML response that is generated by productName.")))),s.createElement(P.Z.Row,{columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(be.Z,null),s.createElement(be.Z,{hidden:!0})),s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h5"},A("console:develop.features.applications.forms.inboundSAML.sections.requestValidation.heading")),s.createElement(be.Z,{hidden:!0}),s.createElement(Be.gN,{ref:ft,name:"requestSignatureValidation",label:"",required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.requestValidation.fields.signatureValidation.validations.empty"),disabled:!Ye,type:"checkbox",listen:function(e){Re(e.get("requestSignatureValidation").includes("enableSignatureValidation"))},value:null!=v&&v.requestValidation.enableSignatureValidation?["enableSignatureValidation"]:[],children:[{label:A("console:develop.features.applications.forms.inboundSAML.sections.requestValidation.fields.signatureValidation.label"),value:"enableSignatureValidation"}],readOnly:b,"data-testid":"".concat(C,"-request-signature-validation-checkbox")}),s.createElement(l.kW,null,A("console:develop.features.applications.forms.inboundSAML.sections.requestValidation.fields.signatureValidation.hint",{productName:B.ui.productName})))),H&&s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{ref:mt,label:A("console:develop.features.applications.forms.inboundSAML.sections.requestValidation.fields.signatureValidationCertAlias.label"),name:"signatureValidationCertAlias",type:"dropdown",required:!1,disabled:!Te,value:null==v?void 0:v.requestValidation.signatureValidationCertAlias,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.requestValidation.fields.signatureValidationCertAlias.validations.empty"),default:null==h?void 0:h.certificateAlias.defaultValue,children:q(null==h?void 0:h.certificateAlias),readOnly:b,"data-testid":"".concat(C,"-request-validation-certificate-alias-dropdown")}),s.createElement(l.kW,{disabled:!Te},A("console:develop.features.applications.forms.inboundSAML.sections.requestValidation.fields.signatureValidationCertAlias.hint")))),s.createElement(P.Z.Row,{columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(be.Z,null),s.createElement(be.Z,{hidden:!0})),s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h5"},A("console:develop.features.applications.forms.inboundSAML.sections.responseSigning.heading")),s.createElement(be.Z,{hidden:!0}),s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{ref:gt,name:"responseSigning",label:"",required:!1,requiredErrorMessage:"this is needed",type:"checkbox",value:null!=v&&v.responseSigning.enabled?["enabled"]:[],listen:function(e){Me(e.get("responseSigning").includes("enabled"))},children:[{label:A("console:develop.features.applications.forms.inboundSAML.sections.responseSigning.fields.responseSigning.label"),value:"enabled"}],readOnly:b,"data-testid":"".concat(C,"-response-signing-checkbox")}),s.createElement(l.kW,null,A("console:develop.features.applications.forms.inboundSAML.sections.responseSigning.fields.responseSigning.hint",{productName:B.ui.productName}))))),s.createElement(P.Z.Row,null,s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{ref:vt,label:A("console:develop.features.applications.forms.inboundSAML.sections.responseSigning.fields.digestAlgorithm.label"),name:"digestAlgorithm",type:"dropdown",required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.responseSigning.fields.digestAlgorithm.validations.empty"),default:null==h?void 0:h.responseDigestAlgorithm.defaultValue,value:null==v?void 0:v.singleSignOnProfile.assertion.digestAlgorithm,children:q(null==h?void 0:h.responseDigestAlgorithm),readOnly:b,disabled:!Ue,"data-testid":"".concat(C,"-digest-algorithm-dropdown")}))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{ref:ht,label:A("console:develop.features.applications.forms.inboundSAML.sections.responseSigning.fields.signingAlgorithm.label"),name:"signingAlgorithm",type:"dropdown",required:!1,value:null==v?void 0:v.responseSigning.signingAlgorithm,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.responseSigning.fields.signingAlgorithm.validations.empty"),default:null==h?void 0:h.responseSigningAlgorithm.defaultValue,children:q(null==h?void 0:h.responseSigningAlgorithm),readOnly:b,disabled:!Ue,"data-testid":"".concat(C,"-signing-algorithm-dropdown")}))),s.createElement(P.Z.Row,{columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(be.Z,null),s.createElement(be.Z,{hidden:!0})),s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h5"},A("console:develop.features.applications.forms.inboundSAML.sections.ssoProfile.heading")),s.createElement(be.Z,{hidden:!0}),s.createElement(Be.gN,{ref:bt,label:A("console:develop.features.applications.forms.inboundSAML.sections.ssoProfile.fields.bindings.label"),name:"bindings",type:"checkbox",required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.ssoProfile.fields.bindings.validations.empty"),default:["HTTP_POST","HTTP_REDIRECT"],children:(Ft=[{label:"HTTP Post",readOnly:!0,value:"HTTP_POST"},{label:"HTTP Redirect",readOnly:!0,value:"HTTP_REDIRECT"}],je&&Ft.push({label:"Artifact",readOnly:!1,value:"ARTIFACT"}),Ft),value:(0,x.Z)(null==v||null===(t=v.singleSignOnProfile)||void 0===t?void 0:t.bindings,["HTTP_POST","HTTP_REDIRECT"]),readOnly:b,listen:function(e){De(e.get("bindings").includes("ARTIFACT")),e.get("bindings").includes("ARTIFACT")||e.set("signatureValidationForArtifactBinding",[])},"data-testid":"".concat(C,"-bindings-checkbox-group")}),s.createElement(l.kW,null,A("console:develop.features.applications.forms.inboundSAML.sections.ssoProfile.fields.bindings.hint")))),je?s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{ref:yt,name:"signatureValidationForArtifactBinding",label:"",required:!1,requiredErrorMessage:"",type:"checkbox",value:_e&&null!=v&&v.singleSignOnProfile.enableSignatureValidationForArtifactBinding?["enableSignatureValidationForArtifactBinding"]:[],children:[{label:A("console:develop.features.applications.forms.inboundSAML.sections.ssoProfile.fields.artifactBinding.label"),value:"enableSignatureValidationForArtifactBinding"}],readOnly:b,disabled:!_e,"data-testid":"".concat(C,"-artifact-binding-signature-validation-checkbox")}),s.createElement(l.kW,{disabled:!_e},A("console:develop.features.applications.forms.inboundSAML.sections.ssoProfile.fields.artifactBinding.hint")))):null,s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{ref:Et,name:"idPInitiatedSSO",label:"",required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.ssoProfile.fields.idpInitiatedSSO.validations.empty"),type:"checkbox",value:null!=v&&v.singleSignOnProfile.enableIdpInitiatedSingleSignOn?["enableIdPInitiatedSSO"]:[],children:[{label:A("console:develop.features.applications.forms.inboundSAML.sections.ssoProfile.fields.idpInitiatedSSO.label"),value:"enableIdPInitiatedSSO"}],readOnly:b,"data-testid":"".concat(C,"-idp-initiated-sso-checkbox")}),s.createElement(l.kW,null,A("console:develop.features.applications.forms.inboundSAML.sections.ssoProfile.fields.idpInitiatedSSO.hint")))),s.createElement(P.Z.Row,{columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(be.Z,null),s.createElement(be.Z,{hidden:!0})),s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h5"},A("console:develop.features.applications.forms.inboundSAML.sections.assertion.heading")),s.createElement(be.Z,{hidden:!0}),s.createElement(Be.gN,{ref:St,label:A("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.nameIdFormat.label"),name:"nameIdFormat",placeholder:A("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.nameIdFormat.placeholder"),type:"dropdown",default:null==h?void 0:h.defaultNameIdFormat,required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.nameIdFormat.validations.empty"),value:null==v?void 0:v.singleSignOnProfile.assertion.nameIdFormat,children:(0,en.Ex)(),readOnly:b,"data-testid":"".concat(C,"-name-id-format-input")}),s.createElement(l.kW,null,A("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.nameIdFormat.hint")))),s.createElement("div",{ref:Ct}),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.wE,{urlState:$,setURLState:function(e){var t,n,o;Y(e),(null==v||null===(t=v.singleSignOnProfile)||void 0===t||null===(n=t.assertion)||void 0===n||null===(o=n.audiences)||void 0===o?void 0:o.toString())!==e&&it(!0)},labelName:A("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.audience.label"),value:null==v?void 0:v.singleSignOnProfile.assertion.audiences.toString(),placeholder:A("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.audience.placeholder"),validationErrorMsg:A("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.audience.validations.invalid"),validation:function(e){var t=null;return ze.URLUtils.isHttpUrl(e)||ze.URLUtils.isHttpsUrl(e)||(t=s.createElement(p.Z,{basic:!0,color:"orange",className:"mt-2"},A("console:common.validations.unrecognizedURL.description"))),!!ze.URLUtils.isMobileDeepLink(e)&&(N(t),!0)},showError:se,setShowError:ce,hint:A("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.audience.hint"),readOnly:b,addURLTooltip:A("common:addURL"),duplicateURLErrorMessage:A("common:duplicateURLError"),"data-testid":"".concat(C,"-audience-url-input"),showPredictions:!1,customLabel:R,popupHeaderPositive:A("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:A("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:A("console:develop.features.URLInput.withLabel.positive.content",{productName:B.ui.productName}),popupContentNegative:A("console:develop.features.URLInput.withLabel.negative.content",{productName:B.ui.productName}),popupDetailedContentPositive:A("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:A("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:A("console:common.validations.inSecureURL.description"),showLessContent:A("common:showLess"),showMoreContent:A("common:showMore")}))),s.createElement("div",{ref:At}),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.wE,{urlState:J,setURLState:function(e){var t,n,o;ee(e),(null==v||null===(t=v.singleSignOnProfile)||void 0===t||null===(n=t.assertion)||void 0===n||null===(o=n.recipients)||void 0===o?void 0:o.toString())!==e&&it(!0)},labelName:A("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.recipients.label"),value:null==v?void 0:v.singleSignOnProfile.assertion.recipients.toString(),placeholder:A("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.recipients.placeholder"),validationErrorMsg:A("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.recipients.validations.invalid"),validation:function(e){var t=null;return ze.URLUtils.isHttpUrl(e)||ze.URLUtils.isHttpsUrl(e)||(t=s.createElement(p.Z,{basic:!0,color:"orange",className:"mt-2"},A("console:common.validations.unrecognizedURL.description"))),!!ze.URLUtils.isMobileDeepLink(e)&&(D(t),!0)},showError:de,setShowError:pe,hint:A("console:develop.features.applications.forms.inboundSAML.sections.assertion.fields.recipients.hint"),readOnly:b,addURLTooltip:A("common:addURL"),duplicateURLErrorMessage:A("common:duplicateURLError"),"data-testid":"".concat(C,"-recipients-url-input"),showPredictions:!1,customLabel:M,popupHeaderPositive:A("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:A("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:A("console:develop.features.URLInput.withLabel.positive.content",{productName:B.ui.productName}),popupContentNegative:A("console:develop.features.URLInput.withLabel.negative.content",{productName:B.ui.productName}),popupDetailedContentPositive:A("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:A("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:A("console:common.validations.inSecureURL.description"),showLessContent:A("common:showLess"),showMoreContent:A("common:showMore")}))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{ref:Ot,name:"assertionEncryption",label:"",required:!1,disabled:!Ye,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.encryption.fields.assertionEncryption.validations.empty"),value:null!=v&&v.singleSignOnProfile.assertion.encryption.enabled?["enableAssertionEncryption"]:[],type:"checkbox",listen:function(e){ke(e.get("assertionEncryption").includes("enableAssertionEncryption"))},children:[{label:A("console:develop.features.applications.forms.inboundSAML.sections.encryption.fields.assertionEncryption.label"),value:"enableAssertionEncryption"}],readOnly:b,"data-testid":"".concat(C,"-assertion-encryption-checkbox")}),s.createElement(l.kW,null,A("console:develop.features.applications.forms.inboundSAML.sections.encryption.fields.assertionEncryption.hint")))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{ref:wt,label:A("console:develop.features.applications.forms.inboundSAML.sections.encryption.fields.assertionEncryptionAlgorithm.label"),name:"assertionEncryptionAlgorithm",type:"dropdown",required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.encryption.fields.assertionEncryptionAlgorithm.validations.empty"),disabled:!Ne||!Ye,default:null==h?void 0:h.assertionEncryptionAlgorithm.defaultValue,value:null==v?void 0:v.singleSignOnProfile.assertion.encryption.assertionEncryptionAlgorithm,children:q(null==h?void 0:h.assertionEncryptionAlgorithm),readOnly:b,"data-testid":"".concat(C,"-assertion-encryption-algorithm-dropdown")}))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{ref:It,label:A("console:develop.features.applications.forms.inboundSAML.sections.encryption.fields.keyEncryptionAlgorithm.label"),name:"keyEncryptionAlgorithm",type:"dropdown",required:!1,disabled:!Ne||!Ye,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.encryption.fields.keyEncryptionAlgorithm.validations.empty"),default:null==h?void 0:h.keyEncryptionAlgorithm.defaultValue,value:null==v?void 0:v.singleSignOnProfile.assertion.encryption.keyEncryptionAlgorithm,children:q(null==h?void 0:h.keyEncryptionAlgorithm),readOnly:b,"data-testid":"".concat(C,"-key-encryption-algorithm-dropdown")}))),s.createElement(P.Z.Row,{columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(be.Z,null),s.createElement(be.Z,{hidden:!0})),s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h5"},A("console:develop.features.applications.forms.inboundSAML.sections.attributeProfile.heading")),s.createElement(be.Z,{hidden:!0}),s.createElement(Be.gN,{ref:Tt,name:"attributeProfile",label:"",required:!1,requiredErrorMessage:"this is needed",type:"checkbox",value:null!=v&&v.attributeProfile.enabled?["enabled"]:[],listen:function(e){we(e.get("attributeProfile").includes("enabled"))},children:[{label:A("console:develop.features.applications.forms.inboundSAML.sections.attributeProfile.fields.enable.label"),value:"enabled"}],readOnly:b,"data-testid":"".concat(C,"-attribute-profile-checkbox")}),s.createElement(l.kW,null,A("console:develop.features.applications.forms.inboundSAML.sections.attributeProfile.fields.enable.hint")))),m.applicationConfig.inboundSAMLForm.showAttributeConsumingServiceIndex&&s.createElement(s.Fragment,null,s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{ref:Lt,label:A("console:develop.features.applications.forms.inboundSAML.sections.attributeProfile.fields.serviceIndex.label"),name:"attributeConsumingServiceIndex",placeholder:A("console:develop.features.applications.forms.inboundSAML.sections.attributeProfile.fields.serviceIndex.placeholder"),type:"text",required:!1,disabled:!Oe,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.attributeProfile.fields.serviceIndex.validations.empty"),value:null==v?void 0:v.singleSignOnProfile.attributeConsumingServiceIndex,readOnly:b,"data-testid":"".concat(C,"-attribute-consuming-service-index-input")}),s.createElement(l.kW,null,A("console:develop.features.applications.forms.inboundSAML.sections.attributeProfile.fields.serviceIndex.hint"))))),s.createElement(P.Z.Row,{columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(be.Z,null),s.createElement(be.Z,{hidden:!0})),s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h5"},A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.heading")),s.createElement(be.Z,{hidden:!0}),s.createElement(Be.gN,{ref:Nt,name:"singleLogoutProfile",label:"",required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.enable.validations.empty"),type:"checkbox",value:null!=v&&v.singleLogoutProfile.enabled?["enabled"]:[],listen:function(e){ye(e.get("singleLogoutProfile").includes("enabled"))},children:[{label:A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.enable.label"),value:"enabled"}],readOnly:b,"data-testid":"".concat(C,"-single-logout-profile-checkbox")}),s.createElement(l.kW,null,A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.enable.hint")))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{ref:kt,label:A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.logoutMethod.label"),name:"logoutMethod",type:"dropdown",required:!1,value:null==v?void 0:v.singleLogoutProfile.logoutMethod,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.logoutMethod.validations.empty"),default:S.aD.BACK_CHANNEL,disabled:!ge,children:[{key:1,text:"Back Channel",value:S.aD.BACK_CHANNEL},{key:2,text:"Front Channel HTTP Redirect",value:S.aD.FRONT_CHANNEL_HTTP_REDIRECT},{key:3,text:"Front Channel HTTP Post",value:S.aD.FRONT_CHANNEL_HTTP_POST}],listen:function(e){tt(e.get("logoutMethod"))},readOnly:b,"data-testid":"".concat(C,"-logout-method-dropdown")}))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{ref:Pt,name:"singleLogoutResponseUrl",label:A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.responseURL.label"),validation:function(e,t){qe.I.url(e)||(t.isValid=!1,t.errorMessages.push(A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.responseURL.validations.invalid"))),et===S.aD.BACK_CHANNEL&&null!==m.commonConfig&&void 0!==m.commonConfig&&m.commonConfig.blockLoopBackCalls&&ze.URLUtils.isLoopBackCall(e)&&(t.isValid=!1,t.errorMessages.push(A("console:develop.features.idp.forms.common.internetResolvableErrorMessage")))},required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.responseURL.validations.empty"),placeholder:A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.responseURL.placeholder"),disabled:!ge,type:"text",value:null==v?void 0:v.singleLogoutProfile.logoutResponseUrl,readOnly:b,"data-testid":"".concat(C,"-single-logout-response-url-input")}),s.createElement(l.kW,{disabled:!ge},A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.responseURL.hint",{productName:B.ui.productName})))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{ref:Ut,name:"singleLogoutRequestUrl",label:A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.requestURL.label"),validation:function(e,t){qe.I.url(e)||(t.isValid=!1,t.errorMessages.push(A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.requestURL.validations.invalid"))),et===S.aD.BACK_CHANNEL&&null!==m.commonConfig&&void 0!==m.commonConfig&&m.commonConfig.blockLoopBackCalls&&ze.URLUtils.isLoopBackCall(e)&&(t.isValid=!1,t.errorMessages.push(A("console:develop.features.idp.forms.common.internetResolvableErrorMessage")))},required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.requestURL.validations.empty"),placeholder:A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.requestURL.placeholder"),disabled:!ge,type:"text",value:null==v?void 0:v.singleLogoutProfile.logoutRequestUrl,readOnly:b,"data-testid":"".concat(C,"-single-logout-request-url-input")}),s.createElement(l.kW,{disabled:!ge},A("console:develop.features.applications.forms.inboundSAML.sections.sloProfile.fields.requestURL.hint",{productName:B.ui.productName})))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h6",disabled:!ge},A("console:develop.features.applications.forms.inboundSAML.sections.idpInitiatedSLO.heading")),s.createElement(be.Z,{hidden:!0}),s.createElement(Be.gN,{ref:xt,name:"idpInitiatedSingleLogout",label:"",required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.idpInitiatedSLO.fields.enable.validations.empty"),type:"checkbox",disabled:!ge,value:null!=v&&v.singleLogoutProfile.idpInitiatedSingleLogout.enabled?["enabled"]:[],listen:function(e){Ce(e.get("idpInitiatedSingleLogout").includes("enabled"))},children:[{label:A("console:develop.features.applications.forms.inboundSAML.sections.idpInitiatedSLO.fields.enable.label"),value:"enabled"}],readOnly:b,"data-testid":"".concat(C,"-idp-initiated-single-logout-checkbox")}),s.createElement(l.kW,{disabled:!ge},A("console:develop.features.applications.forms.inboundSAML.sections.idpInitiatedSLO.fields.enable.hint")))),s.createElement("div",{ref:_t}),s.createElement(l.wE,{urlState:ne,setURLState:function(e){var t,n,o;oe(e),(null==v||null===(t=v.singleLogoutProfile)||void 0===t||null===(n=t.idpInitiatedSingleLogout)||void 0===n||null===(o=n.returnToUrls)||void 0===o?void 0:o.toString())!==e&&it(!0)},labelName:A("console:develop.features.applications.forms.inboundSAML.sections.idpInitiatedSLO.fields.returnToURLs.label"),value:null==v?void 0:v.singleLogoutProfile.idpInitiatedSingleLogout.returnToUrls.toString(),placeholder:A("console:develop.features.applications.forms.inboundSAML.sections.idpInitiatedSLO.fields.returnToURLs.placeholder"),validationErrorMsg:A("console:develop.features.applications.forms.inboundSAML.sections.idpInitiatedSLO.fields.returnToURLs.validations.invalid"),validation:function(e){var t=null;return ze.URLUtils.isHttpUrl(e)||ze.URLUtils.isHttpsUrl(e)||(t=s.createElement(p.Z,{basic:!0,color:"orange",className:"mt-2"},A("console:common.validations.unrecognizedURL.description"))),!!ze.URLUtils.isMobileDeepLink(e)&&(V(t),!0)},showError:me,setShowError:ve,disabled:!Se||!ge,readOnly:b,addURLTooltip:A("common:addURL"),duplicateURLErrorMessage:A("common:duplicateURLError"),"data-testid":"".concat(C,"-return-to-urls-input"),showPredictions:!1,customLabel:j,popupHeaderPositive:A("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:A("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:A("console:develop.features.URLInput.withLabel.positive.content",{productName:B.ui.productName}),popupContentNegative:A("console:develop.features.URLInput.withLabel.negative.content",{productName:B.ui.productName}),popupDetailedContentPositive:A("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:A("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:A("console:common.validations.inSecureURL.description"),showLessContent:A("common:showLess"),showMoreContent:A("common:showMore")}),s.createElement(l.kW,{disabled:!ge},A("console:develop.features.applications.forms.inboundSAML.sections.idpInitiatedSLO.fields.returnToURLs.hint")),m.applicationConfig.inboundSAMLForm.showQueryRequestProfile&&s.createElement(s.Fragment,null,s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(be.Z,null)),s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.X6,{as:"h5"},A("console:develop.features.applications.forms.inboundSAML.sections.requestProfile.heading")),s.createElement(be.Z,{hidden:!0}),s.createElement(Be.gN,{ref:Dt,name:"assertionQueryProfile",label:"",required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.sections.requestProfile.fields.enable.validations.empty"),value:null!=v&&v.enableAssertionQueryProfile?["enableAssertionQueryProfile"]:[],type:"checkbox",children:[{label:A("console:develop.features.applications.forms.inboundSAML.sections.requestProfile.fields.enable.label"),value:"enableAssertionQueryProfile"}],readOnly:b,"data-testid":"".concat(C,"-assertion-query-profile-checkbox")})))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Mt,{protocol:S.AI.SAML,deleteAllowed:!(null!=v&&null!==(n=v.requestValidation)&&void 0!==n&&n.enableSignatureValidation||null!=v&&null!==(o=v.singleSignOnProfile)&&void 0!==o&&null!==(i=o.assertion)&&void 0!==i&&null!==(a=i.encryption)&&void 0!==a&&a.enabled),reasonInsideTooltipWhyDeleteIsNotAllowed:A("console:develop.features.applications.forms.inboundSAML.sections.certificates.disabledPopup"),onUpdate:r,application:d,updateCertFinalValue:We,updateCertType:Ke,canDiscardCertificate:function(){return!Te},certificate:f,readOnly:b,hidden:!1,isRequired:!0,hideJWKS:!0,triggerSubmit:rt}))),!b&&s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement("span",{ref:jt}),s.createElement(F.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:y,disabled:y,"data-testid":"".concat(C,"-submit-button")},A("common:update")))))):null};function an(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return rn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}on.defaultProps={"data-testid":"inbound-saml-form"};var ln=function(e){var t=e.certificate,n=e.metadata,o=e.initialValues,i=e.onSubmit,d=e.readOnly,p=e.isLoading,f=e["data-testid"],m=(0,c.$)().t,v=(0,u.I0)(),h=an((0,s.useState)(!1),2),g=h[0],b=h[1],y=an((0,s.useState)(!1),2),C=y[0],A=y[1],O=an((0,s.useState)(void 0),2),w=O[0],I=O[1],T=an((0,s.useState)(null),2),R=T[0],N=T[1];(0,s.useEffect)((function(){S.el.PEM===(null==t?void 0:t.type)&&(b(!0),null!=t&&t.value&&I(t.value))}),[t]);var k,U;return n?s.createElement(Be.Es,{onSubmit:function(e){i(function(e){return{general:{advancedConfigurations:{certificate:{type:e.get("type"),value:g?e.get("certificateValue"):e.get("jwksValue")}}},inbound:{audience:e.get("audience"),certificateAlias:e.get("certificateAlias")}}}(e))}},s.createElement(P.Z,null,s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{name:"audience",label:m("console:develop.features.applications.forms.inboundWSTrust.fields.audience.label"),required:!0,requiredErrorMessage:m("console:develop.features.applications.forms.inboundWSTrust.fields.audience.validations.empty"),placeholder:m("console:develop.features.applications.forms.inboundWSTrust.fields.audience.placeholder"),type:"text",value:null==o?void 0:o.audience,readOnly:d||!(0,L.Z)(null==o?void 0:o.audience),"data-testid":"".concat(f,"-audience-input")}),s.createElement(l.kW,{disabled:!(0,L.Z)(null==o?void 0:o.audience)},m("console:develop.features.applications.forms.inboundWSTrust.fields.audience.hint")))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{label:m("console:develop.features.applications.forms.inboundWSTrust.fields.certificateAlias.label"),name:"certificateAlias",type:"dropdown",required:!0,requiredErrorMessage:m("console:develop.features.applications.forms.inboundWSTrust.fields.certificateAlias.validations.empty"),default:null==n?void 0:n.certificateAlias.defaultValue,value:null==o?void 0:o.certificateAlias,children:(k=null==n?void 0:n.certificateAlias,U=[],k&&k.options.map((function(e){U.push({key:k.options.indexOf(e),text:e,value:e})})),U),readOnly:d,"data-testid":"".concat(f,"-certificate-alias-dropdown")}),s.createElement(l.kW,null,m("console:develop.features.applications.forms.inboundWSTrust.fields.certificateAlias.hint")))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(be.Z,null)),s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(l.X6,{as:"h5"},m("console:develop.features.applications.forms.advancedConfig.sections.certificate.heading")),s.createElement(Be.gN,{label:m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.label"),name:"type",default:S.el.JWKS,listen:function(e){b("PEM"===e.get("type"))},type:"radio",value:null==t?void 0:t.type,children:[{label:m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.jwks.label"),value:S.el.JWKS},{label:m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.type.children.pem.label"),value:S.el.PEM}],readOnly:d,"data-testid":"".concat(f,"-certificate-type-radio-group")}))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},g?s.createElement(s.Fragment,null,s.createElement(Be.gN,{name:"certificateValue",label:m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.label"),required:!1,requiredErrorMessage:m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.validations.empty"),placeholder:E.jo.PEM_CERTIFICATE_PLACEHOLDER,type:"textarea",value:S.el.PEM===(null==t?void 0:t.type)&&(null==t?void 0:t.value),listen:function(e){I(e.get("certificateValue"))},readOnly:d,"data-testid":"".concat(f,"-certificate-textarea")}),s.createElement(l.kW,null,m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.hint")),s.createElement(l.Qj,{className:"certificate-info-link-button",onClick:function(e){var t;e.preventDefault(),g&&w&&((t=ze.CertificateManagementUtils.canSafelyParseCertificate(w)?ze.CertificateManagementUtils.displayCertificate(null,w):He.lu.DUMMY_DISPLAY_CERTIFICATE)?(N(t),A(!0)):v((0,r.V_)({description:m("console:common.notifications.invalidPEMFile.genericError.description"),level:a.QU.ERROR,message:m("console:common.notifications.invalidPEMFile.genericError.message")})))},disabled:(0,L.Z)(w),"data-testid":"".concat(f,"-certificate-info-button")},m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.pemValue.actions.view"))):s.createElement(s.Fragment,null,s.createElement(Be.gN,{name:"jwksValue",label:m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.label"),required:!1,requiredErrorMessage:m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.validations.empty"),placeholder:m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.placeholder"),type:"text",validation:function(e,t){qe.I.url(e)||(t.isValid=!1,t.errorMessages.push(m("console:develop.features.applications.forms.advancedConfig.sections.certificate.fields.jwksValue.validations.invalid")))},value:S.el.JWKS===(null==t?void 0:t.type)&&(null==t?void 0:t.value),readOnly:d,"data-testid":"".concat(f,"-jwks-input")})))),C&&s.createElement(Ke,{open:C,certificate:R,onClose:function(){A(!1)}}),!d&&s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(F.Z,{primary:!0,type:"submit",size:"small",className:"form-button","data-testid":"".concat(f,"-submit-button"),loading:p,disabled:p},m("common:update")))))):null};ln.defaultProps={"data-testid":"inbound-ws-trust-form"};var sn=function(e){var t=e.onUpdate,n=e.application,o=e.certificate,i=e.metadata,a=e.initialValues,r=e.onSubmit,l=e.type,c=e.onApplicationRegenerate,u=e.onApplicationRevoke,d=e.readOnly,p=e.allowedOrigins,f=e.tenantDomain,m=e.template,v=e.showSAMLCreation,h=e.SAMLCreationOption,g=e.isLoading,b=e.setIsLoading,y=e.containerRef,E=e["data-testid"];switch(l){case S.AI.OIDC:case S.AI.OAUTH2_OIDC:return s.createElement(Wt,{onUpdate:t,application:n,isLoading:g,setIsLoading:b,certificate:o,tenantDomain:f,allowedOriginList:p,initialValues:a,metadata:i,onSubmit:r,onApplicationRegenerate:c,onApplicationRevoke:u,readOnly:d,template:m,"data-testid":E,containerRef:y});case S.AI.SAML:return v&&h&&h!==S.T6.MANUAL?s.createElement(Xt,{isLoading:g,initialValues:a,creationOption:h||S.T6.META_URL,onSubmit:r,"data-testid":E}):s.createElement(on,{onUpdate:t,application:n,isLoading:g,certificate:o,initialValues:a,metadata:i,onSubmit:r,readOnly:d,"data-testid":E,containerRef:y});case S.AI.WS_TRUST:return s.createElement(ln,{isLoading:g,certificate:o,initialValues:a,metadata:i,onSubmit:r,readOnly:d,"data-testid":E});case S.AI.WS_FEDERATION:return s.createElement(Kt,{onUpdate:t,application:n,isLoading:g,certificate:o,initialValues:a,onSubmit:r,readOnly:d,"data-testid":E});case S.AI.CUSTOM:return s.createElement(Je,{isLoading:g,certificate:o,metadata:i,initialValues:a,onSubmit:r,"data-testid":E});default:return null}};function cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}sn.defaultProps={"data-testid":"inbound-form-factory",showSAMLCreation:!1};var fn="application-general-details",mn=function(e){var t=e.appId,n=e.name,o=e.description,i=e.discoverability,a=e.hiddenFields,r=e.imageUrl,d=e.accessUrl,p=e.onSubmit,f=e.readOnly,v=e.hasRequiredScope,g=e.isSubmitting,b=e.isManagementApp,S=e.application,C=e["data-testid"],A=(0,c.$)().t,O=(0,l.fQ)().getLink,w=(0,u.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t?void 0:t.ui})),I=dn((0,s.useState)(i),2),T=I[0],R=I[1],L=dn((0,s.useState)(h.$x.DEFAULT_MY_ACCOUNT_STATUS),2),N=L[0],k=L[1],P=window.AppUtils.getConfig().organizationName,U=function(e){var n,o,i,r;p(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(n),!0).forEach((function(t){un(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({accessUrl:null===(n=e.accessUrl)||void 0===n?void 0:n.toString(),advancedConfigurations:{discoverableByEndUsers:e.discoverableByEndUsers},description:null===(o=e.description)||void 0===o?void 0:o.toString().trim(),id:t,name:null===(i=e.name)||void 0===i?void 0:i.toString()},!(null!=a&&a.includes("imageUrl"))&&{imageUrl:null===(r=e.imageUrl)||void 0===r?void 0:r.toString()}))},M=(0,y.pv)(!P),x=M.data,D=M.isLoading;return(0,s.useEffect)((function(){var e=h.$x.DEFAULT_MY_ACCOUNT_STATUS;if(x){var t=x.value;t&&"false"===t&&(e=!1)}k(e)}),[D]),D?s.createElement(l.pJ,{padded:"very"},s.createElement(l.pO,{inline:"centered",active:!0})):s.createElement(ge.l0,{id:fn,uncontrolledForm:!1,onSubmit:function(e){U(e)},initialValues:{accessUrl:d,description:o,name:n},validate:function(e){var t={accessUrl:void 0};return T&&!e.accessUrl&&(t.accessUrl=A("console:develop.features.applications.forms.generalDetails.fields.accessUrl.validations.empty")),t}},void 0===O("develop.connections.newConnection.enterprise.samlLearnMore")?null:s.createElement(be.Z,{hidden:!0}),b&&s.createElement(l.v0,{type:"info",content:s.createElement(s.Fragment,null,A("console:develop.features.applications.forms.generalDetails.managementAppBanner"),s.createElement(l.eb,{link:O("develop.applications.managementApplication.learnMore")},A("common:learnMore")))}),!w.systemAppsIdentifiers.includes(n)&&s.createElement(ge.gN.Input,{ariaLabel:"Application name",inputType:"name",name:"name",label:A("console:develop.features.applications.forms.generalDetails.fields.name.label"),required:!0,placeholder:A("console:develop.features.applications.forms.generalDetails.fields.name.placeholder"),value:n,readOnly:f,validation:function(e){return function(e){if(!e||!e.match(E.jo.FORM_FIELD_CONSTRAINTS.APP_NAME_PATTERN))return"Please enter a valid input."}(e.toString().trim())},maxLength:E.jo.FORM_FIELD_CONSTRAINTS.APP_NAME_MAX_LENGTH,minLength:3,"data-testid":"".concat(C,"-application-name-input"),width:16}),s.createElement(ge.gN.Textarea,{ariaLabel:"Application description",name:"description",label:A("console:develop.features.applications.forms.generalDetails.fields.description.label"),required:!1,placeholder:A("console:develop.features.applications.forms.generalDetails.fields.description.placeholder"),value:o,readOnly:f,validation:function(e){return function(e){if(!e||!e.match(E.jo.FORM_FIELD_CONSTRAINTS.APP_DESCRIPTION_PATTERN))return"Please enter a valid input."}(e.toString().trim())},maxLength:300,minLength:3,"data-testid":"".concat(C,"-application-description-textarea"),width:16}),s.createElement(ge.gN.Input,{ariaLabel:"Application image URL",inputType:"url",name:"imageUrl",label:A("console:develop.features.applications.forms.generalDetails.fields.imageUrl.label"),required:!1,placeholder:A("console:develop.features.applications.forms.generalDetails.fields.imageUrl.placeholder"),value:r,readOnly:f,"data-testid":"".concat(C,"-application-image-url-input"),maxLength:200,minLength:3,hint:A("console:develop.features.applications.forms.generalDetails.fields.imageUrl.hint"),width:16,hidden:null==a?void 0:a.includes("imageUrl")}),N||P?s.createElement(ge.gN.Checkbox,{ariaLabel:"Make application discoverable by end users",name:"discoverableByEndUsers",required:!1,label:A("console:develop.features.applications.forms.generalDetails.fields.discoverable.label"),initialValue:T,readOnly:f,"data-testid":"".concat(C,"-application-discoverable-checkbox"),listen:function(e){return R(e)},hint:s.createElement(_.c,{i18nKey:S.templateId===E.jo.MOBILE?"console:develop.features.applications.forms.inboundOIDC.mobileApp.discoverableHint":"console:develop.features.applications.forms.generalDetails.fields.discoverable.hint",tOptions:{myAccount:"My Account"}}," ",void 0===O("develop.applications.managementApplication.selfServicePortal")?s.createElement("strong",{"data-testid":"application-name-assertion"},"My Account"):s.createElement("strong",{className:"link pointing","data-testid":"application-name-assertion",onClick:function(){return window.open(O("develop.applications.managementApplication.selfServicePortal"),"_blank")}},"My Account")),width:16}):null,s.createElement(ge.gN.Input,{ariaLabel:"Application access URL",inputType:"url",name:"accessUrl",label:A("console:develop.features.applications.forms.generalDetails.fields.accessUrl.label"),required:T,placeholder:A("console:develop.features.applications.forms.generalDetails.fields.accessUrl.placeholder"),value:d,readOnly:!v||f&&m.applicationConfig.generalSettings.getFieldReadOnlyStatus(S,"ACCESS_URL"),maxLength:200,minLength:3,"data-testid":"".concat(C,"-application-access-url-input"),hint:A("console:develop.features.applications.forms.generalDetails.fields.accessUrl.hint"),width:16}),s.createElement(ge.gN.Button,{form:fn,size:"small",buttonType:"primary_btn",ariaLabel:"Update button",name:"update-button","data-testid":"".concat(C,"-submit-button"),disabled:g,loading:g,label:A("common:update"),hidden:!v||f&&m.applicationConfig.generalSettings.getFieldReadOnlyStatus(S,"ACCESS_URL")}))};function vn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return hn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}mn.defaultProps={"data-testid":"application-general-settings-form"};var gn="application-provisioning-configuration-form",bn=function(e){var t,n,o,i=e.config,a=e.onSubmit,r=e.readOnly,l=e.useStoreList,u=e.isSubmitting,d=e["data-testid"],p=(0,c.$)().t,f=vn((0,s.useState)(!1),2),m=f[0],v=f[1],h=function(e){var t={provisioningConfigurations:{inboundProvisioning:{provisioningUserstoreDomain:e.provisioningUserstoreDomain,proxyMode:!!e.proxyMode}}};a(t)};return(0,s.useEffect)((function(){var e,t;null!=i&&null!==(e=i.inboundProvisioning)&&void 0!==e&&e.proxyMode&&v(null==i||null===(t=i.inboundProvisioning)||void 0===t?void 0:t.proxyMode)}),[i]),s.createElement(ge.l0,{id:gn,uncontrolledForm:!1,onSubmit:function(e){h(e)}},s.createElement(ge.gN.CheckboxLegacy,{ariaLabel:"Proxy mode",name:"proxyMode",label:p("console:develop.features.applications.forms.provisioningConfig.fields.proxyMode.label"),required:!1,value:null!=i&&null!==(t=i.inboundProvisioning)&&void 0!==t&&t.proxyMode?["modeOn"]:[],listen:function(e){return v(e)},readOnly:r,"data-testid":"".concat(d,"-proxy-mode-checkbox"),hint:p("console:develop.features.applications.forms.provisioningConfig.fields.proxyMode.hint")}),s.createElement(ge.gN.Dropdown,{ariaLabel:"Provisioning userstore domain",name:"provisioningUserstoreDomain",label:p("console:develop.features.applications.forms.provisioningConfig.fields.userstoreDomain.label"),required:!1,default:l&&l.length>0&&l[0].name,value:null==i||null===(n=i.inboundProvisioning)||void 0===n?void 0:n.provisioningUserstoreDomain,children:(o=[],l&&(null==l||l.map((function(e){o.push({key:l.indexOf(e),text:null==e?void 0:e.name,value:null==e?void 0:e.name})}))),o),disabled:m,readOnly:r,"data-testid":"".concat(d,"-provisioning-userstore-domain-dropdown"),hint:p("console:develop.features.applications.forms.provisioningConfig.fields.userstoreDomain.hint")}),s.createElement(ge.gN.Button,{form:gn,size:"small",buttonType:"primary_btn",ariaLabel:"Update button",name:"update-button","data-testid":"".concat(d,"-submit-button"),disabled:u,loading:u,label:p("common:update"),hidden:r}))};bn.defaultProps={"data-testid":"application-inbound-provisioning-configurations-form"};var yn,En=n(12735),Sn=n(39345),Cn=n(73157),An=n(80119);function On(e){return On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},On(e)}function wn(e){return function(e){if(Array.isArray(e))return kn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Nn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function In(){In=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",r=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,n){return e[t]=n}}function s(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),r=new A(o||[]);return a._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return w()}for(n.method=i,n.arg=a;;){var r=n.delegate;if(r){var l=E(r,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=c(e,t,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}(e,n,r),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=s;var u={};function d(){}function p(){}function f(){}var m={};l(m,i,(function(){return this}));var v=Object.getPrototypeOf,h=v&&v(v(O([])));h&&h!==t&&n.call(h,i)&&(m=h);var g=f.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function o(i,a,r,l){var s=c(e[i],e,a);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==On(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,r,l)}),(function(e){o("throw",e,r,l)})):t.resolve(d).then((function(e){u.value=e,r(u)}),(function(e){return o("throw",e,r,l)}))}l(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){o(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var o=c(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,u;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:w}}function w(){return{value:void 0,done:!0}}return p.prototype=f,l(g,"constructor",f),l(f,"constructor",p),p.displayName=l(f,r,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,r,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(y.prototype),l(y.prototype,a,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,o,i,a){void 0===a&&(a=Promise);var r=new y(s(t,n,o,i),a);return e.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},b(g),l(g,r,"Generator"),l(g,i,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=O,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],r=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(l&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function Tn(e,t,n,o,i,a,r){try{var l=e[a](r),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(o,i)}function Rn(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function r(e){Tn(a,o,i,r,l,"next",e)}function l(e){Tn(a,o,i,r,l,"throw",e)}r(void 0)}))}}function Ln(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||Nn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nn(e,t){if(e){if("string"==typeof e)return kn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kn(e,t):void 0}}function kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}!function(e){e[e.SHARE_ALL=0]="SHARE_ALL",e[e.SHARE_SELECTED=1]="SHARE_SELECTED",e[e.UNSHARE=2]="UNSHARE"}(yn||(yn={}));var Pn=function(e){var t=e.application,n=e.triggerApplicationShare,o=e.onApplicationSharingCompleted,i=e["data-componentid"],d=e.readOnly,p=(0,u.I0)(),f=(0,c.$)().t,m=(0,u.v9)((function(e){return e.organization.organization})),v=Ln((0,s.useState)([]),2),h=v[0],g=v[1],b=Ln((0,s.useState)([]),2),y=b[0],E=b[1],S=Ln((0,s.useState)([]),2),C=S[0],A=S[1],O=Ln((0,s.useState)([]),2),w=O[0],I=O[1],T=Ln((0,s.useState)(yn.UNSHARE),2),R=T[0],N=T[1],k=Ln((0,s.useState)(!1),2),U=k[0],M=k[1];(0,s.useEffect)((function(){return A(h||[])}),[h]),(0,s.useEffect)((function(){return I(y||[])}),[y]),(0,s.useEffect)((function(){var e,n;if(t){var o,i,a=null==t||null===(e=t.advancedConfigurations)||void 0===e||null===(n=e.additionalSpProperties)||void 0===n?void 0:n.filter((function(e){return"shareWithAllChildren"===(null==e?void 0:e.name)}));if(a&&0!==a.length)M(!!JSON.parse(null===(o=a[0])||void 0===o?void 0:o.value)&&JSON.parse(null===(i=a[0])||void 0===i?void 0:i.value));else M(!1)}}),[t]),(0,s.useEffect)((function(){U?N(yn.SHARE_ALL):(null==y?void 0:y.length)>0&&!U?N(yn.SHARE_SELECTED):y&&0!==(null==y?void 0:y.length)||U||N(yn.UNSHARE)}),[U,y]),(0,s.useEffect)((function(){n&&x()}),[n]),(0,s.useEffect)((function(){isOrganizationManagementEnabled&&((0,st.jX)(null,null,null,null,!0,!1).then((function(e){g(e.organizations)})).catch((function(e){null!=e&&e.description?p((0,r.V_)({description:e.description,level:a.QU.ERROR,message:f("console:manage.features.organizations.notifications.getOrganizationList.error.message")})):p((0,r.V_)({description:f("console:manage.features.organizations.notifications.getOrganizationList.genericError.description"),level:a.QU.ERROR,message:f("console:manage.features.organizations.notifications.getOrganizationList.genericError.message")}))})),(0,st.DM)(m.id,t.id).then((function(e){E(e.data.organizations)})).catch((function(e){e.response.data.description?p((0,r.V_)({description:e.response.data.description,level:a.QU.ERROR,message:f("console:develop.features.applications.edit.sections.shareApplication.getSharedOrganizations.genericError.message")})):p((0,r.V_)({description:f("console:develop.features.applications.edit.sections.shareApplication.getSharedOrganizations.genericError.description"),level:a.QU.ERROR,message:f("console:develop.features.applications.edit.sections.shareApplication.getSharedOrganizations.genericError.message")}))})))}),[st.jX]);var x=(0,s.useCallback)(Rn(In().mark((function e(){var n,i,l,s;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R!==yn.SHARE_ALL){e.next=4;break}n={shareWithAllChildren:!0},e.next=14;break;case 4:if(R!==yn.SHARE_SELECTED){e.next=14;break}if(!U){e.next=11;break}return l=w.map((function(e){return e.id})),e.next=9,(0,st.An)(t.id,m.id);case 9:e.next=13;break;case 11:l=(0,En.Z)(w,y,"id").map((function(e){return e.id})),i=(0,En.Z)(y,w,"id");case 13:n={shareWithAllChildren:!1,sharedOrganizations:l};case 14:R===yn.SHARE_ALL||R===yn.SHARE_SELECTED?((0,st.Bn)(m.id,t.id,n).then((function(){p((0,r.V_)({description:f("console:develop.features.applications.edit.sections.shareApplication.addSharingNotification.success.description"),level:a.QU.SUCCESS,message:f("console:develop.features.applications.edit.sections.shareApplication.addSharingNotification.success.message")}))})).catch((function(e){e.response.data.message?p((0,r.V_)({description:e.response.data.message,level:a.QU.ERROR,message:f("console:develop.features.applications.edit.sections.shareApplication.addSharingNotification.genericError.message")})):p((0,r.V_)({description:f("console:develop.features.applications.edit.sections.shareApplication.addSharingNotification.genericError.description"),level:a.QU.ERROR,message:f("console:develop.features.applications.edit.sections.shareApplication.addSharingNotification.genericError.message")}))})).finally((function(){return o()})),null===(s=i)||void 0===s||s.forEach((function(e){(0,st.NY)(m.id,t.id,e.id).then((function(){p((0,r.V_)({description:f("console:develop.features.applications.edit.sections.shareApplication.stopSharingNotification.success.description",{organization:e.name}),level:a.QU.SUCCESS,message:f("console:develop.features.applications.edit.sections.shareApplication.stopSharingNotification.success.message")}))})).catch((function(t){t.response.data.message?p((0,r.V_)({description:t.response.data.message,level:a.QU.ERROR,message:f("console:develop.features.applications.edit.sections.shareApplication.stopSharingNotification.genericError.message")})):p((0,r.V_)({description:f("console:develop.features.applications.edit.sections.shareApplication.stopSharingNotification.genericError.description",{organization:e.name}),level:a.QU.ERROR,message:f("console:develop.features.applications.edit.sections.shareApplication.stopSharingNotification.genericError.message")}))}))}))):R===yn.UNSHARE&&(0,st.An)(t.id,m.id).then((function(){p((0,r.V_)({description:f("console:develop.features.applications.edit.sections.shareApplication.addSharingNotification.success.description"),level:a.QU.SUCCESS,message:f("console:develop.features.applications.edit.sections.shareApplication.addSharingNotification.success.message")}))})).catch((function(e){var t,n;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.message?p((0,r.V_)({description:e.response.data.message,level:a.QU.ERROR,message:f("console:develop.features.applications.edit.sections.shareApplication.addSharingNotification.genericError.message")})):p((0,r.V_)({description:f("console:develop.features.applications.edit.sections.shareApplication.addSharingNotification.genericError.description"),level:a.QU.ERROR,message:f("console:develop.features.applications.edit.sections.shareApplication.addSharingNotification.genericError.message")}))})).finally((function(){return o()}));case 15:case"end":return e.stop()}}),e)}))),[y,w,st.NY,p,m.id,t.id,R]),_=(0,s.useCallback)((function(){w.length!==h.length?I(h):I([])}),[h,A,w]);return s.createElement(s.Fragment,null,s.createElement(l.X6,{ellipsis:!0,as:"h6"},f("console:develop.features.applications.edit.sections.sharedAccess.subTitle")),s.createElement(P.Z,null,s.createElement(P.Z.Row,null,s.createElement(P.Z.Column,{width:8},s.createElement(Cn.Z,{disabled:d,label:f("console:manage.features.organizations.unshareApplicationRadio"),onChange:function(){return N(yn.UNSHARE)},checked:R===yn.UNSHARE,"data-componentid":"".concat(i,"-share-with-all-checkbox")}),s.createElement(l.kW,{inline:!0,popup:!0},f("console:manage.features.organizations.unshareApplicationInfo")),s.createElement(be.Z,{hidden:!0,className:"mb-0 mt-0"}),s.createElement(Cn.Z,{disabled:d,label:f("console:manage.features.organizations.shareWithSelectedOrgsRadio"),onChange:function(){return N(yn.SHARE_SELECTED)},checked:R===yn.SHARE_SELECTED,"data-componentid":"".concat(i,"-share-with-all-checkbox")}),s.createElement(An.Z,{visible:R===yn.SHARE_SELECTED,animation:"slide down",duration:1e3},s.createElement(l.IX,{className:"pl-2",disabled:R!==yn.SHARE_SELECTED,selectionComponent:!0,searchPlaceholder:f("console:manage.features.transferList.searchPlaceholder",{type:"organizations"}),handleUnelectedListSearch:function(e,t){var n=t.value,o=[];if((0,L.Z)(n))A(h);else{var i=new RegExp((0,Sn.Z)(n),"i");h&&h.map((function(e){i.test(e.name)&&o.push(e)})),A(o)}},"data-componentId":"application-share-modal-organization-transfer-component"},s.createElement(l.Jv,{disabled:R!==yn.SHARE_SELECTED,isListEmpty:!((null==C?void 0:C.length)>0),handleHeaderCheckboxChange:_,isHeaderCheckboxChecked:(null==w?void 0:w.length)===(null==h?void 0:h.length),listType:"unselected",listHeaders:[f("console:manage.features.transferList.list.headers.1"),""],emptyPlaceholderContent:f("console:manage.features.transferList.list.emptyPlaceholders.groups.unselected",{type:"organizations"}),"data-testid":"application-share-modal-organization-transfer-component-all-items",emptyPlaceholderDefaultContent:f("console:manage.features.transferList.list.emptyPlaceholders.default")},null==C?void 0:C.map((function(e,t){var n=null==e?void 0:e.name,o=-1!==w.findIndex((function(t){return t.id===e.id}));return s.createElement(l.qT,{disabled:R!==yn.SHARE_SELECTED,handleItemChange:function(){return function(e){var t=wn(w),n=t.findIndex((function(t){return t.id===e.id}));-1!==n?(t.splice(n,1),I(t)):(t.push(e),I(t))}(e)},key:t,listItem:n,listItemId:e.id,listItemIndex:t,isItemChecked:o,showSecondaryActions:!1,"data-testid":"application-share-modal-organization-transfer-component -unselected-organizations"})}))))),s.createElement(be.Z,{hidden:!0,className:"mb-0 mt-0"}),s.createElement(Cn.Z,{label:f("console:manage.features.organizations.shareApplicationRadio"),onChange:function(){return N(yn.SHARE_ALL)},checked:R===yn.SHARE_ALL,"data-componentid":"".concat(i,"-share-with-all-checkbox")}),s.createElement(l.kW,{inline:!0,popup:!0},f("console:manage.features.organizations.shareApplicationInfo")),s.createElement(be.Z,{hidden:!0}),s.createElement(l.KM,{"data-componentid":"".concat(i,"-update-button"),onClick:x},f("common:update"))))))};function Un(e){return function(e){if(Array.isArray(e))return _n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||xn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xn(e,t){if(e){if("string"==typeof e)return _n(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_n(e,t):void 0}}function _n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Pn.defaultProps={"data-componentid":"application-share-form"};var Dn=function(e){var t,n,o=e.appId,d=e.provisioningConfigurations,p=e.onUpdate,f=e.featureConfig,m=e.defaultActiveIndexes,v=e.readOnly,g=e["data-testid"],b=(0,c.$)().t,E=(0,u.I0)(),S=Mn((0,s.useState)([]),2),C=S[0],A=S[1],O=(0,u.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),w=Mn((0,s.useState)(m),2),I=w[0],T=w[1],R=Mn((0,s.useState)(!1),2),L=R[0],N=R[1];return(0,s.useEffect)((function(){var e=[];e.push({id:"PRIMARY",name:"PRIMARY"}),De.F.isCurrentOrganizationRoot()?(0,Ze.ow)().then((function(t){e.push.apply(e,Un(t.data)),A(e)})).catch((function(){A(e)})):A(e)}),[]),s.createElement(s.Fragment,null,s.createElement(l.X6,{as:"h4"},b("console:develop.features.applications.edit.sections.provisioning.inbound.heading")),s.createElement(l.X6,{subHeading:!0,as:"h6"},b("console:develop.features.applications.edit.sections.provisioning.inbound.subHeading")),s.createElement(be.Z,{hidden:!0}),s.createElement(P.Z,null,s.createElement(P.Z.Row,null,s.createElement(P.Z.Column,null,s.createElement(h.Us,{globalActions:[],authenticators:[{content:s.createElement(bn,{config:d,onSubmit:function(e){N(!0),(0,y.TH)(o,e).then((function(){E((0,r.V_)({description:b("console:develop.features.applications.notifications.updateInboundProvisioningConfig.success.description"),level:a.QU.SUCCESS,message:b("console:develop.features.applications.notifications.updateInboundProvisioningConfig.success.message")})),p(o)})).catch((function(){E((0,r.V_)({description:b("console:develop.features.applications.notifications.updateInboundProvisioningConfig.genericError.description"),level:a.QU.ERROR,message:b("console:develop.features.applications.notifications.updateInboundProvisioningConfig.genericError.message")}))})).finally((function(){N(!1)}))},useStoreList:C,readOnly:v||!(0,i.Xr)(null==f?void 0:f.applications,null==f||null===(t=f.applications)||void 0===t||null===(n=t.scopes)||void 0===n?void 0:n.update,O),"data-testid":"".concat(g,"-form"),isSubmitting:L}),id:"scim",title:"SCIM"}],accordionActiveIndexes:I,accordionIndex:0,handleAccordionOnClick:function(e,t){if(t){var n=Un(I);if(n.includes(t.accordionIndex)){var o=n.indexOf(t.accordionIndex);n.splice(o,1)}else n.push(t.accordionIndex);T(n)}},"data-testid":"".concat(g,"-inbound-connector-accordion")})))))};Dn.defaultProps={"data-testid":"application-inbound-provisioning-configurations",defaultActiveIndexes:[-1]};var Zn=n(46440),jn=n(67876),Fn=n(23587),Vn=n(62170),Hn=n(24730);function zn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||qn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qn(e,t){if(e){if("string"==typeof e)return Wn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wn(e,t):void 0}}function Wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Gn=function(e){var t=e.metadata,n=e.initialValues,o=e.onSubmit,i=e.protocolName,a=e.triggerSubmit,r=e["data-testid"],u=(0,c.$)().t,d=function(e,t){var n;return(null==e||null===(n=e.availableValues)||void 0===n?void 0:n.length)>0?s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:8},s.createElement(Be.gN,{label:null==e?void 0:e.displayName,name:null==e?void 0:e.name,type:"dropdown",value:null==t?void 0:t.value,required:null==e?void 0:e.required,requiredErrorMessage:u("console:develop.features.applications.forms.inboundCustom.fields.dropdown.validations.empty",{name:null==e?void 0:e.displayName}),default:null==e?void 0:e.defaultValue,children:f(null==e?void 0:e.availableValues),"data-testid":"".concat(r,"-").concat(null==e?void 0:e.name,"-select")}))):null!=e&&e.isConfidential?s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:8},s.createElement(Be.gN,{label:null==e?void 0:e.displayName,name:null==e?void 0:e.name,hidePassword:u("common:hide")+" "+(null==e?void 0:e.displayName),showPassword:u("common:show")+" "+(null==e?void 0:e.displayName),value:null==t?void 0:t.value,required:null==e?void 0:e.required,requiredErrorMessage:u("console:develop.features.applications.forms.inboundCustom.fields.password.validations.empty",{name:null==e?void 0:e.displayName}),placeholder:u("console:develop.features.applications.forms.inboundCustom.fields.password.placeholder",{name:null==e?void 0:e.displayName}),type:"password",default:null==e?void 0:e.defaultValue,"data-testid":"".concat(r,"-").concat(null==e?void 0:e.name,"-password-input")}))):(null==e?void 0:e.type)===S.og.BOOLEAN?s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:8},s.createElement(Be.gN,{name:null==e?void 0:e.name,label:"",required:null==e?void 0:e.required,requiredErrorMessage:u("console:develop.features.applications.forms.inboundCustom.fields.checkbox.validations.empty",{user:null==e?void 0:e.displayName}),value:null!=t&&t.value?[e.name]:[],type:"checkbox",children:[{label:e.displayName,value:e.name}],"data-testid":"".concat(r,"-").concat(null==e?void 0:e.name,"-checkbox")}))):s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:8},s.createElement(Be.gN,{label:null==e?void 0:e.displayName,name:null==e?void 0:e.name,required:null==e?void 0:e.required,value:null==t?void 0:t.value,requiredErrorMessage:u("console:develop.features.applications.forms.inboundCustom.fields.generic.validations.empty",{name:null==e?void 0:e.displayName}),placeholder:u("console:develop.features.applications.forms.inboundCustom.fields.generic.placeholder",{name:null==e?void 0:e.displayName}),type:(null==e?void 0:e.type)===S.og.INTEGER?"number":"text","data-testid":"".concat(r,"-").concat(null==e?void 0:e.name,"-input")})))},p=function(){if(t){var e=null==t?void 0:t.properties;return e.length>0&&e.sort((function(e,t){return e.displayOrder>t.displayOrder?1:-1})),e.map((function(e){var t=null==n?void 0:n.properties.find((function(t){return t.key===e.name}));return t?d(e,t):d(e)}))}},f=function(e){var t=[];return e&&e.map((function(n){t.push({key:e.indexOf(n),text:n,value:n})})),t},m=function(e){var t,n=[],o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=qn(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){l=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw a}}}}(e);try{for(o.s();!(t=o.n()).done;){var a=zn(t.value,2),r=a[0],l=a[1],s=void 0;s=l instanceof Array?{key:r,value:l.length>0}:{key:r,value:l},n.push(s)}}catch(c){o.e(c)}finally{o.f()}return{inboundProtocolConfiguration:Bn({},i,{configName:i,name:i,properties:[].concat(n)})}};return(0,s.useEffect)((function(){t&&p()}),[t]),t?s.createElement(Be.Es,{onSubmit:function(e){o(m(e))},submitState:a},s.createElement(P.Z,null,p())):s.createElement(l.pO,null)};Gn.defaultProps={"data-testid":"custom-protocol-settings-wizard-form"};var Qn=n(19874);function Kn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $n(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Yn=function(e){var t,n,o=e.initialValues,i=e.templateValues,a=e.triggerSubmit,r=e.onSubmit,u=e["data-testid"],d=(0,c.$)().t,p=Kn((0,s.useState)(!1),2),m=p[0],v=p[1];return s.createElement(Be.Es,{onSubmit:function(e){return r(function(e){return{accessUrl:e.get("accessUrl").toString(),advancedConfigurations:{discoverableByEndUsers:!!e.get("discoverableByEndUsers").includes("discoverableByEndUsers")},description:e.get("description").toString(),imageUrl:e.get("imageUrl").toString(),name:e.get("name").toString()}}(e))},submitState:a},s.createElement(P.Z,null,s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(Be.gN,{name:"name",label:d("console:develop.features.applications.forms.generalDetails.fields.name.label"),required:!0,requiredErrorMessage:d("console:develop.features.applications.forms.generalDetails.fields.name.validations.empty"),placeholder:d("console:develop.features.applications.forms.generalDetails.fields.name.placeholder"),value:null==o?void 0:o.name,type:"text","data-testid":"".concat(u,"-application-name-input")}))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(Be.gN,{name:"description",label:d("console:develop.features.applications.forms.generalDetails.fields.description.label"),required:!1,requiredErrorMessage:"",placeholder:d("console:develop.features.applications.forms.generalDetails.fields.description.placeholder"),type:"textarea",value:o?null==o?void 0:o.description:null==i?void 0:i.description,"data-testid":"".concat(u,"-application-description-textarea")}))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(Be.gN,{name:"imageUrl",label:d("console:develop.features.applications.forms.generalDetails.fields.imageUrl.label"),required:!1,requiredErrorMessage:"",placeholder:d("console:develop.features.applications.forms.generalDetails.fields.imageUrl.placeholder"),validation:function(e,t){qe.I.url(e)||(t.isValid=!1,t.errorMessages.push(d("console:develop.features.applications.forms.generalDetails.fields.imageUrl.validations.invalid")))},value:o?null==o?void 0:o.imageUrl:null==i?void 0:i.imageUrl,type:"text","data-testid":"".concat(u,"-application-image-url-input")}))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:8},s.createElement(Be.gN,{name:"discoverableByEndUsers",required:!1,requiredErrorMessage:"",type:"checkbox",listen:function(e){v(e.get("discoverableByEndUsers").includes("discoverableByEndUsers"))},children:[{label:d("console:develop.features.applications.forms.generalDetails.fields.discoverable.label"),value:"discoverableByEndUsers"}],value:o?null!=o&&null!==(t=o.advancedConfigurations)&&void 0!==t&&t.discoverableByEndUsers?["discoverableByEndUsers"]:[]:null!=i&&null!==(n=i.advancedConfigurations)&&void 0!==n&&n.discoverableByEndUsers?["discoverableByEndUsers"]:[],"data-testid":"".concat(u,"-application-discoverable-checkbox")}),s.createElement(l.kW,{compact:!0},s.createElement(_.c,{i18nKey:"console:develop.features.applications.forms.generalDetails.fields.discoverable.hint"},"If an application is flagged as discoverable, it will be visible to end users in",s.createElement("a",{href:Qn.$x.getMyAccountPath(),target:"_blank",rel:"noopener noreferrer",className:"link external"},"My Account"),s.createElement(f.Z,{className:"ml-1 link primary",name:"external"}))),s.createElement(be.Z,{hidden:!0}),s.createElement(Be.gN,{name:"accessUrl",label:d("console:develop.features.applications.forms.generalDetails.fields.accessUrl.label"),required:m,requiredErrorMessage:d("console:develop.features.applications.forms.generalDetails.fields.accessUrl.validations.empty"),placeholder:d("console:develop.features.applications.forms.generalDetails.fields.accessUrl.placeholder"),validation:function(e,t){qe.I.url(e)||(t.isValid=!1,t.errorMessages.push(d("console:develop.features.applications.forms.generalDetails.fields.accessUrl.validations.invalid")))},type:"text",value:o?null==o?void 0:o.accessUrl:null==i?void 0:i.accessUrl,"data-testid":"".concat(u,"-application-access-url-input")}),s.createElement(l.kW,{compact:!0},d("console:develop.features.applications.forms.generalDetails.fields.accessUrl.hint")))))))};function Xn(e){return function(e){if(Array.isArray(e))return to(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||eo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||eo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eo(e,t){if(e){if("string"==typeof e)return to(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?to(e,t):void 0}}function to(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Yn.defaultProps={"data-testid":"application-general-settings-wizard-form"};var no=function(e){var t,n,o=e.selectedTemplate,i=e.isProtocolConfig,a=e.allowedOrigins,r=e.fields,d=e.hideFieldHints,p=e.initialValues,f=e.triggerSubmit,m=e.onSubmit,v=e.templateValues,h=e.showCallbackURL,g=e.tenantDomain,b=e.addOriginByDefault,C=e.isAllowEnabled,A=e["data-testid"],O=(0,c.$)().t,w=Jn((0,s.useState)(""),2),I=w[0],T=w[1],R=Jn((0,s.useState)(""),2),N=R[0],k=R[1],U=Jn((0,s.useState)([]),2),M=U[0],x=U[1],D=Jn((0,s.useState)([]),2),Z=D[0],j=D[1],F=Jn((0,s.useState)(!1),2),V=F[0],H=F[1],z=Jn((0,s.useState)(!1),2),B=z[0],q=z[1],W=Jn((0,s.useState)(null),2),G=W[0],Q=W[1],K=Jn((0,s.useState)(!0),2),$=K[0],Y=K[1],X=Jn((0,s.useState)(void 0),2),J=X[0],ee=X[1],te=Jn((0,s.useState)(void 0),2),ne=te[0],oe=te[1],ie=Jn((0,s.useState)(!1),2),ae=ie[0],re=ie[1],le=Jn((0,s.useState)(!1),2),se=le[0],ce=le[1],ue=Jn((0,s.useState)(!1),2),de=ue[0],pe=ue[1],fe=(0,u.v9)((function(e){return e.config})),me=Jn((0,s.useState)(a||[]),2),ve=me[0],he=me[1];(0,s.useEffect)((function(){(null==o?void 0:o.id)===S.EL.OIDC&&ce(!0)}),[o]),(0,s.useEffect)((function(){B&&I&&""!==I&&q(!1)}),[I]),(0,s.useEffect)((function(){null!=ne&&ne.includes("authorization_code")||null!=ne&&ne.includes("implicit")?Y(!0):Y(!1)}),[ne,ae]),(0,s.useEffect)((function(){var e,t,n,o;void 0===ne&&(null!=v&&null!==(e=v.inboundProtocolConfiguration)&&void 0!==e&&null!==(t=e.oidc)&&void 0!==t&&t.grantTypes&&oe(Xn(null==v||null===(n=v.inboundProtocolConfiguration)||void 0===n||null===(o=n.oidc)||void 0===o?void 0:o.grantTypes)))}),[v]),(0,s.useEffect)((function(){var e,t;if(v){var n=null==v||null===(e=v.inboundProtocolConfiguration)||void 0===e||null===(t=e.oidc)||void 0===t?void 0:t.callbackURLs;n&&Array.isArray(n)&&n.length>0&&k(n[0])}}),[v]),(0,s.useEffect)((function(){void 0===J&&null!=o&&o.authenticationProtocol&&(0,y.WL)(o.authenticationProtocol).then((function(e){ee(e)}))}),[J]),(0,s.useEffect)((function(){var e,t;if(o){var n=null==v||null===(e=v.inboundProtocolConfiguration)||void 0===e||null===(t=e.oidc)||void 0===t?void 0:t.grantTypes;at(n,["refresh_token"]).length>0&&o.id!==ft.id&&o.id!==E.jo.MOBILE&&H(!0)}}),[v,o]);var ge=function(e){var t,n,o=null==e?void 0:e.replace(/['"]+/g,"");(null===(t=o)||void 0===t?void 0:t.split(",").length)>1&&(o="regexp=("+(null===(n=o)||void 0===n?void 0:n.split(",").join("|"))+")");return o},be=function(e){return e&&e.includes("regexp=(")&&(e=(e=(e=e.replace("regexp=(","")).replace(")","")).split("|").join(",")),e};(0,s.useEffect)((function(){var e;if((0,L.Z)(null==p||null===(e=p.inboundProtocolConfiguration)||void 0===e?void 0:e.oidc)){var t,n,o,i,a,r,l,s,c;if((0,L.Z)(null==v||null===(t=v.inboundProtocolConfiguration)||void 0===t||null===(n=t.oidc)||void 0===n?void 0:n.callbackURLs))T("");else T(be(null==v||null===(s=v.inboundProtocolConfiguration)||void 0===s||null===(c=s.oidc)||void 0===c?void 0:c.callbackURLs[0]));null!=v&&null!==(o=v.inboundProtocolConfiguration)&&void 0!==o&&null!==(i=o.oidc)&&void 0!==i&&i.publicClient&&x(["supportPublicClients"]),null!=v&&null!==(a=v.inboundProtocolConfiguration)&&void 0!==a&&null!==(r=a.oidc)&&void 0!==r&&null!==(l=r.refreshToken)&&void 0!==l&&l.renewRefreshToken&&j(["refreshToken"])}else{var u,d,f,m,h,g,b;T(be(null==p||null===(u=p.inboundProtocolConfiguration)||void 0===u||null===(d=u.oidc)||void 0===d?void 0:d.callbackURLs[0])),null!=p&&null!==(f=p.inboundProtocolConfiguration)&&void 0!==f&&null!==(m=f.oidc)&&void 0!==m&&m.publicClient&&x(["supportPublicClients"]),null!=p&&null!==(h=p.inboundProtocolConfiguration)&&void 0!==h&&null!==(g=h.oidc)&&void 0!==g&&null!==(b=g.refreshToken)&&void 0!==b&&b.renewRefreshToken&&j(["refreshToken"])}}),[p]);var ye,Ee,Se,Ce=function(e){var t,n=[];(null==e?void 0:e.split(",").length)>1?n=null==e?void 0:e.split(","):n.push(e);var o=null===(t=n)||void 0===t?void 0:t.map((function(e){var t;return null===(t=ze.URLUtils.urlComponents(e))||void 0===t?void 0:t.origin}));return Xn(new Set(o.filter((function(e){return ve.includes(e)}))))},Ae=function(e,t){var n={inboundProtocolConfiguration:{oidc:{}}};return $&&(h||!r||r.includes("callbackURLs"))&&(n.inboundProtocolConfiguration.oidc.callbackURLs=[ge(t||I)]),r&&!r.includes("publicClient")||(n.inboundProtocolConfiguration.oidc.publicClient=e.get("publicClients").includes("supportPublicClients")),(V||!r||r.includes("RefreshToken"))&&(n.inboundProtocolConfiguration.oidc.refreshToken={renewRefreshToken:e.get("RefreshToken").includes("refreshToken")}),$&&(h||!r||r.includes("callbackURLs"))&&(n.inboundProtocolConfiguration.oidc.allowedOrigins=Ce(t||I)),!$&&ne&&(n.inboundProtocolConfiguration.oidc.grantTypes=ne,n.inboundProtocolConfiguration.oidc.allowedOrigins=Ce(t||I)),n},Oe=function(e){var t=Xn(ve);t.push(e),he(t)};return v?s.createElement(Be.Es,{onSubmit:function(e){$||!i?ye((function(t){(0,L.Z)(I)&&(0,L.Z)(t)?q(!0):m(Ae(e,t))})):m(Ae(e))},submitState:f},s.createElement(P.Z,null,i&&se&&s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:8},s.createElement(Be.gN,{name:"grant",label:O("console:develop.features.applications.forms.inboundOIDC.fields.grant.label"),type:"checkbox",required:!0,requiredErrorMessage:O("console:develop.features.applications.forms.inboundOIDC.fields.grant.validations.empty"),children:(Ee=null==J?void 0:J.allowedGrantTypes,Se=[],Ee&&Ee.options.map((function(e){Se.push({displayName:e.displayName,name:e.name})})),Se),value:null==v||null===(t=v.inboundProtocolConfiguration)||void 0===t||null===(n=t.oidc)||void 0===n?void 0:n.grantTypes,"data-testid":"".concat(A,"-grant-type-checkbox-group"),listen:function(e){return function(e){var t=e.get("grant");oe(t),re(!ae)}(e)}}),s.createElement(l.kW,null,O("console:develop.features.applications.forms.inboundOIDC.fields.grant.hint")))),(!r||r.includes("callbackURLs"))&&$&&s.createElement(P.Z.Row,{column:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},s.createElement(l.wE,{isCustom:o.templateId===E.jo.MOBILE,labelEnabled:!0,handleAddAllowedOrigin:function(e){return Oe(e)},handleRemoveAllowedOrigin:function(e){return function(e){var t=Xn(ve);t.includes(e)&&t.splice(t.indexOf(e),1),he(t)}(e)},tenantDomain:g,allowedOrigins:ve,urlState:I,setURLState:T,labelName:o.templateId===E.jo.MOBILE?"Authorized redirect URIs":O("console:develop.features.applications.forms.spaProtocolSettingsWizard.fields.callBackUrls.label"),placeholder:o.templateId===E.jo.MOBILE?O("console:develop.features.applications.forms.inboundOIDC.mobileApp.mobileAppPlaceholder"):O("console:develop.features.applications.forms.inboundOIDC.fields.callBackUrls.placeholder"),validationErrorMsg:O(de?"console:develop.features.applications.forms.spaProtocolSettingsWizard.fields.urlDeepLinkError":"console:develop.features.applications.forms.spaProtocolSettingsWizard.fields.callBackUrls.validations.invalid"),emptyErrorMessage:O("console:develop.features.applications.forms.spaProtocolSettingsWizard.fields.callBackUrls.validations.empty"),skipInternalValidation:o.templateId===E.jo.MOBILE,validation:function(e){return!!(o.templateId===E.jo.MOBILE||ze.URLUtils.isURLValid(e,!0)&&(ze.URLUtils.isHttpUrl(e)||ze.URLUtils.isHttpsUrl(e)))&&(ze.URLUtils.isMobileDeepLink(e)?(Q(null),!0):(pe(!0),!1))},computerWidth:10,setShowError:q,showError:B,hint:!d&&O("console:develop.features.applications.forms.inboundOIDC.fields.callBackUrls.hint"),addURLTooltip:O("common:addURL"),duplicateURLErrorMessage:O("common:duplicateURLError"),"data-testid":"".concat(A,"-callback-url-input"),getSubmit:function(e){ye=e},productName:fe.ui.productName,required:!0,showPredictions:!1,customLabel:G,isAllowEnabled:C,addOriginByDefault:b,popupHeaderPositive:O("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:O("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:O("console:develop.features.URLInput.withLabel.positive.content",{productName:fe.ui.productName}),popupContentNegative:O("console:develop.features.URLInput.withLabel.negative.content",{productName:fe.ui.productName}),popupDetailedContentPositive:O("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:O("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:O("console:common.validations.inSecureURL.description"),showLessContent:O("common:showLess"),showMoreContent:O("common:showMore")}),N&&s.createElement(l.v0,{type:"info",content:s.createElement(s.Fragment,null,s.createElement(_.c,{i18nKey:"console:develop.features.applications.forms.inboundOIDC.fields.callBackUrls.info",tOptions:{callBackURLFromTemplate:N}},"Don\u2019t have an app? Try out a sample app using ",s.createElement("strong",null,N),"as the Authorized URL."),(void 0===I||""===I)&&s.createElement(l.Qj,{className:"m-1 p-1 with-no-border orange",onClick:function(e){e.preventDefault();var t=new URL(N);Oe(t.origin),T(N)},"data-testid":"".concat(A,"-add-now-button")},s.createElement("span",{style:{fontWeight:"bold"}},"Add Now")))}))),!r||r.includes("publicClient")&&s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(Be.gN,{name:"publicClients",label:"",required:!1,requiredErrorMessage:"this is needed",type:"checkbox",value:M,children:[{label:O("console:develop.features.applications.forms.inboundOIDC.fields.public.label"),value:"supportPublicClients"}],"data-testid":"".concat(A,"-public-client-checkbox")}),!d&&s.createElement(l.kW,null,O("console:develop.features.applications.forms.inboundOIDC.fields.public.hint")))),!r||r.includes("RefreshToken")||V&&s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(Be.gN,{name:"RefreshToken",label:"",required:!1,requiredErrorMessage:O("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.renew.validations.empty"),type:"checkbox",value:Z,children:[{label:O("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.renew.label"),value:"refreshToken"}],"data-testid":"".concat(A,"-renew-refresh-token-checkbox")}),!d&&s.createElement(l.kW,null,O("console:develop.features.applications.forms.inboundOIDC.sections.refreshToken.fields.renew.hint")))))):s.createElement(l.pO,null)};no.defaultProps={"data-testid":"oauth-protocol-settings-wizard-form",hideFieldHints:!1,showCallbackURL:!1};var oo=function(e){var t=e.initialValues,n=e.templateValues,o=e.triggerSubmit,i=e.onSubmit,a=e["data-testid"],r=(0,c.$)().t;return n?s.createElement(Be.Es,{onSubmit:function(e){i(function(e){return{inboundProtocolConfiguration:{passiveSts:{realm:e.get("realm"),replyTo:e.get("replyTo")}}}}(e))},submitState:o},s.createElement(P.Z,null,s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:8},s.createElement(Be.gN,{name:"realm",label:r("console:develop.features.applications.forms.inboundSTS.fields.realm.label"),required:!0,requiredErrorMessage:r("console:develop.features.applications.forms.inboundSTS.fields.realm.validations.empty"),placeholder:r("console:develop.features.applications.forms.inboundSTS.fields.realm.placeholder"),type:"text",value:t?null==t?void 0:t.realm:null==n?void 0:n.realm,"data-testid":"".concat(a,"-realm-input")}),s.createElement(l.kW,null,r("console:develop.features.applications.forms.inboundSTS.fields.realm.hint")))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:8},s.createElement(Be.gN,{name:"replyTo",label:r("console:develop.features.applications.forms.inboundSTS.fields.replyTo.label"),required:!0,requiredErrorMessage:r("console:develop.features.applications.forms.inboundSTS.fields.replyTo.validations.empty"),placeholder:r("console:develop.features.applications.forms.inboundSTS.fields.replyTo.placeholder"),validation:function(e,t){qe.I.url(e)||(t.isValid=!1,t.errorMessages.push(r("console:develop.features.applications.forms.inboundSTS.fields.replyTo.validations.invalid")))},type:"text",value:t?null==t?void 0:t.replyTo:null==n?void 0:n.replyTo,"data-testid":"".concat(a,"-reply-url-input")}),s.createElement(l.kW,null,r("console:develop.features.applications.forms.inboundSTS.fields.replyTo.hint")))))):s.createElement(l.pO,null)};function io(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ao(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?io(Object(n),!0).forEach((function(t){ro(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):io(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ro(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return so(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return so(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function so(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}oo.defaultProps={"data-testid":"passive-sts-protocol-settings-wizard-form"};var co=function(e){var t=e.initialSelectedTemplate,n=e.selectedProtocols,o=e.onSubmit,i=e.defaultTemplates,a=e.setSelectedCustomInboundProtocol,r=e.triggerSubmit,d=e["data-testid"],p=(0,c.$)().t,f=(0,u.v9)((function(e){return e.application.templates})),m=(0,u.v9)((function(e){return e.application.meta.customInboundProtocols})),v=(0,u.v9)((function(e){return e.application.meta.customInboundProtocolChecked})),g=lo((0,s.useState)(void 0),2),b=g[0],y=g[1],E=lo((0,s.useState)(!1),2),A=E[0],O=E[1],w=lo((0,s.useState)(!1),2),I=w[0],T=w[1],R=(0,s.useRef)(!0);(0,s.useEffect)((function(){v||(T(!0),C.yf.getCustomInboundProtocols(U.oK,!0).finally((function(){T(!1)})))}),[v]),(0,s.useEffect)((function(){R.current?R.current=!1:o(b)}),[r]),(0,s.useEffect)((function(){void 0===f&&(O(!0),C.e7.getApplicationTemplates().finally((function(){O(!1)})))}),[f]),(0,s.useEffect)((function(){t&&y(t)}),[t]);var L=function(e,t){var n=t.id,o=null==i?void 0:i.find((function(e){return e.id===n}));o||(o=null==f?void 0:f.find((function(e){return e.id===n}))),o&&y(o)},N=function(e){return e?e.filter((function(e){return!n.includes(e.authenticationProtocol)})):null},k=N(i),P=N(f),M=function(){var e=[];if(m.length>0)return m.map((function(t){var n={authenticationProtocol:t.name,id:t.name,image:t.displayName,name:t.displayName};e.push(n)})),e.filter((function(e){return!n.includes(e.authenticationProtocol)}))}();return s.createElement(s.Fragment,null,!A&&s.createElement(l.Gn,{type:"application",templates:f&&f instanceof Array&&f.length>0?P.filter((function(e){return e.category===S.rz.DEFAULT})):[],templateIcons:ao(ao(ao({},(0,ct.ZP)()),(0,h.r2)()),(0,ct.B0)()),templateIconOptions:{fill:"primary"},templateIconSize:"tiny",heading:p("console:develop.features.applications.edit.sections.access.addProtocolWizard.steps.protocolSelection.quickSetup.heading"),subHeading:p("console:develop.features.applications.edit.sections.access.addProtocolWizard.steps.protocolSelection.quickSetup.subHeading"),onTemplateSelect:L,paginate:!0,paginationLimit:4,paginationOptions:{showLessButtonLabel:p("common:showLess"),showMoreButtonLabel:p("common:showMore")},selectedTemplate:b,useSelectionCard:!0,emptyPlaceholder:s.createElement(l.$J,{image:(0,h.jF)().newList,imageSize:"tiny",title:p("console:develop.features.applications.edit.sections.access.addProtocolWizard.steps.protocolSelection.quickSetup.emptyPlaceholder.title"),subtitle:p("console:develop.features.applications.edit.sections.access.addProtocolWizard.steps.protocolSelection.quickSetup.emptyPlaceholder.subtitles")}),"data-testid":"".concat(d,"-default-template-grid")}),!I&&s.createElement(l.Gn,{type:"application",templates:k,secondaryTemplates:M,templateIcons:(0,ct.B0)(),templateIconOptions:{fill:"primary"},templateIconSize:"tiny",heading:p("console:develop.features.applications.edit.sections.access.addProtocolWizard.steps.protocolSelection.manualSetup.heading"),subHeading:p("console:develop.features.applications.edit.sections.access.addProtocolWizard.steps.protocolSelection.manualSetup.subHeading"),onTemplateSelect:L,onSecondaryTemplateSelect:function(e,t){var n=t.id,o=null==M?void 0:M.find((function(e){return e.id===n}));o&&(a(!0),y(o))},useNameInitialAsImage:!0,paginate:!0,paginationLimit:4,paginationOptions:{showLessButtonLabel:p("common:showLess"),showMoreButtonLabel:p("common:showMore")},selectedTemplate:b,useSelectionCard:!0,emptyPlaceholder:s.createElement(l.$J,{image:(0,h.jF)().newList,imageSize:"tiny",title:p("console:develop.features.applications.edit.sections.access.addProtocolWizard.steps.protocolSelection.quickSetup.emptyPlaceholder.title"),subtitle:p("console:develop.features.applications.edit.sections.access.addProtocolWizard.steps.protocolSelection.quickSetup.emptyPlaceholder.subtitles")}),"data-testid":"".concat(d,"-custom-template-grid")}))};function uo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return po(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return po(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function po(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}co.defaultProps={"data-testid":"application-protocol-selection-wizard-form"};var fo=function(e){var t,n,o,i,a,r=e.summary,u=e.triggerSubmit,d=e.onSubmit,f=e.image,m=e.customProtocol,v=e.samlMetaFileSelected,h=e["data-testid"],g=(0,c.$)().t,b=uo((0,s.useState)(""),2),y=b[0],E=b[1];return(0,s.useEffect)((function(){if(u)if(v){var e={metadataFile:null==r?void 0:r.metadataFile};d(e)}else d(r)}),[u]),(0,s.useEffect)((function(){f===S.AI.WS_FEDERATION?E("wsFed"):f===S.AI.WS_TRUST?E("wsTrust"):E(f)}),[f]),s.createElement(P.Z,{className:"wizard-summary","data-testid":h},s.createElement(P.Z.Row,null,s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16,textAlign:"center"},s.createElement("div",{className:"general-details"},m?s.createElement(l.Yt,{name:null==r?void 0:r.name,size:"tiny"}):s.createElement(l.JT,{image:C.yf.findIcon(y,(0,ct.B0)()),size:"tiny"})))),(null==r||null===(t=r.manualConfiguration)||void 0===t?void 0:t.issuer)&&s.createElement(P.Z.Row,{className:"summary-field",columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},g("console:develop.features.applications.addWizard.steps.summary.sections.issuer.heading"))),s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},s.createElement("div",{className:"value"},null===(n=r.manualConfiguration)||void 0===n?void 0:n.issuer))),(null==r||null===(o=r.manualConfiguration)||void 0===o?void 0:o.serviceProviderQualifier)&&s.createElement(P.Z.Row,{className:"summary-field",columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},g("console:develop.features.applications.addWizard.steps.summary.sections.applicationQualifier.heading"))),s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},s.createElement("div",{className:"value"},r.manualConfiguration.serviceProviderQualifier))),null!=r&&r.grantTypes&&r.grantTypes instanceof Array&&r.grantTypes.length>0?s.createElement(P.Z.Row,{className:"summary-field",columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},g("console:develop.features.applications.addWizard.steps.summary.sections.grantType.heading"))),s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},s.createElement(p.Z.Group,null,r.grantTypes.map((function(e,t){return s.createElement(p.Z,{key:t,basic:!0,circular:!0},e)}))))):null,(null==r||null===(i=r.manualConfiguration)||void 0===i?void 0:i.assertionConsumerUrls)&&s.createElement(P.Z.Row,{className:"summary-field",columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},g("console:develop.features.applications.addWizard.steps.summary.sections.assertionURLs.heading"))),s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},null===(a=r.manualConfiguration)||void 0===a?void 0:a.assertionConsumerUrls.map((function(e,t){return s.createElement("div",{className:"value url",key:t},e)})))),(null==r?void 0:r.metadataURL)&&s.createElement(P.Z.Row,{className:"summary-field",columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},g("console:develop.features.applications.addWizard.steps.summary.sections.metadataURL.heading"))),s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},s.createElement("div",{className:"value url"},null==r?void 0:r.metadataURL))),(null==r?void 0:r.metadataFile)&&s.createElement(P.Z.Row,{className:"summary-field",columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},g("console:develop.features.applications.addWizard.steps.summary.sections.metaFile.heading"))),s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},s.createElement("div",{className:"value constrain"},null==r?void 0:r.metadataFile))),(null==r?void 0:r.callbackURLs)&&s.createElement(P.Z.Row,{className:"summary-field",columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},g("console:develop.features.applications.addWizard.steps.summary.sections.callbackURLs.heading"))),s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},ze.EncodeDecodeUtils.decodeURLRegex(r.callbackURLs[0]).map((function(e,t){return s.createElement("div",{className:"value url",key:t},e)})))),(null==r?void 0:r.audience)&&s.createElement(P.Z.Row,{className:"summary-field",columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},g("console:develop.features.applications.addWizard.steps.summary.sections.audience.heading"))),s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},s.createElement("div",{className:"value url"},null==r?void 0:r.audience))),(null==r?void 0:r.certificateAlias)&&s.createElement(P.Z.Row,{className:"summary-field",columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},g("console:develop.features.applications.addWizard.steps.summary.sections.certificateAlias.heading"))),s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},s.createElement("div",{className:"value"},null==r?void 0:r.certificateAlias))),(null==r?void 0:r.realm)&&s.createElement(P.Z.Row,{className:"summary-field",columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},g("console:develop.features.applications.addWizard.steps.summary.sections.realm.heading"))),s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},s.createElement("div",{className:"value"},null==r?void 0:r.realm))),(null==r?void 0:r.replyTo)&&s.createElement(P.Z.Row,{className:"summary-field",columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},g("console:develop.features.applications.addWizard.steps.summary.sections.audience.heading"))),s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},s.createElement("div",{className:"value url"},null==r?void 0:r.replyTo))),m&&(null==r?void 0:r.properties.map((function(e){return s.createElement(P.Z.Row,{className:"summary-field",columns:2,key:e.key},s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},e.key)),s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},s.createElement("div",{className:"value url"},e.value)))}))))};function mo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}fo.defaultProps={"data-testid":"protocol-wizard-summary",samlMetaFileSelected:!1};var ho=function(e){var t=e.fields,n=e.hideFieldHints,o=e.initialValues,i=e.templateValues,a=e.triggerSubmit,r=e.onSubmit,d=e.setSAMLConfigureMode,p=e.issuerRef,v=e.metaUrlRef,g=e.issuerError,b=e.metaUrlError,y=e.handleProtocolValueChange,E=e["data-testid"],A=(0,c.$)().t,O=mo((0,s.useState)(""),2),w=O[0],I=O[1],T=mo((0,s.useState)(""),2),R=T[0],N=T[1],k=mo((0,s.useState)(""),2),U=k[0],M=k[1],x=mo((0,s.useState)(""),2),D=x[0],Z=x[1],j=mo((0,s.useState)(!1),2),V=j[0],H=j[1],z=mo((0,s.useState)(null),2),B=z[0],q=z[1],W=mo((0,s.useState)(void 0),2),G=W[0],Q=W[1],K=mo((0,s.useState)(!1),2),$=K[0],Y=K[1],X=mo((0,s.useState)(),2),J=X[0],ee=X[1],te=mo((0,s.useState)(null),2),ne=te[0],oe=te[1],ie=mo((0,s.useState)(null),2),ae=ie[0],re=ie[1],le=mo((0,s.useState)(!1),2),se=le[0],ce=le[1],ue=(0,u.v9)((function(e){return e.config}));(0,s.useEffect)((function(){var e;if(Q(S.T6.MANUAL),(0,L.Z)(null==o||null===(e=o.inboundProtocolConfiguration)||void 0===e?void 0:e.saml)){var t,n,a,r,l=null==i||null===(t=i.inboundProtocolConfiguration)||void 0===t||null===(n=t.saml)||void 0===n?void 0:n.manualConfiguration.assertionConsumerUrls,s=null==i||null===(a=i.inboundProtocolConfiguration)||void 0===a||null===(r=a.saml)||void 0===r?void 0:r.manualConfiguration.issuer;(0,L.Z)(l)?I(""):I(l.toString()),(0,L.Z)(s)?N(""):N(s.toString())}else{var c,u,d,p,f,m;I(null==o||null===(c=o.inboundProtocolConfiguration)||void 0===c||null===(u=c.saml)||void 0===u||null===(d=u.manualConfiguration.assertionConsumerUrls)||void 0===d?void 0:d.toString()),N(null==o||null===(p=o.inboundProtocolConfiguration)||void 0===p||null===(f=p.saml)||void 0===f||null===(m=f.manualConfiguration.issuer)||void 0===m?void 0:m.toString())}}),[o]),(0,s.useEffect)((function(){J&&se&&ce(!1)}),[J]),(0,s.useEffect)((function(){G&&d(G)}),[G]),(0,s.useEffect)((function(){var e,t,n,o,a,r;if(i){var l=null==i||null===(e=i.inboundProtocolConfiguration)||void 0===e||null===(t=e.saml)||void 0===t||null===(n=t.templateConfiguration)||void 0===n?void 0:n.assertionConsumerUrls,s=null==i||null===(o=i.inboundProtocolConfiguration)||void 0===o||null===(a=o.saml)||void 0===a||null===(r=a.templateConfiguration)||void 0===r?void 0:r.issuer;l&&Array.isArray(l)&&l.length>0&&M(l[0]),s&&Z(s)}}),[i]);var de,pe,fe,me,ve,he=function(e){$?(I(e),e||Y(!1)):w?(I(w),Y(!0)):(e&&Y(!0),I(e))},ge=function(e,n){var o;return G===S.T6.MANUAL?(o={inboundProtocolConfiguration:{saml:{manualConfiguration:{}}}},t&&!t.includes("assertionConsumerURLs")||(o.inboundProtocolConfiguration.saml.manualConfiguration.assertionConsumerUrls=n?n.split(","):w.split(",")),t&&!t.includes("issuer")||(o.inboundProtocolConfiguration.saml.manualConfiguration.issuer=e.get("issuer")),t&&!t.includes("applicationQualifier")||(o.inboundProtocolConfiguration.saml.manualConfiguration.serviceProviderQualifier=e.get("applicationQualifier"))):G===S.T6.META_URL?o={inboundProtocolConfiguration:{saml:{metadataURL:e.get("url")}}}:G===S.T6.META_FILE&&(o={inboundProtocolConfiguration:{saml:{metadataFile:J}}}),o};return G?s.createElement(Be.Es,{onSubmit:function(e){y(!0),G===S.T6.MANUAL?de((function(t){(0,L.Z)(w)&&(0,L.Z)(t)?H(!0):r(ge(e,t))})):G===S.T6.META_FILE&&(0,L.Z)(J)?ce(!0):r(ge(e))},submitState:a},s.createElement(P.Z,null,s.createElement(P.Z.Row,null,s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(F.Z.Group,{size:"large",labeled:!0,basic:!0},Object.values(S.T6).map((function(e,t){return s.createElement(F.Z,{key:t,active:G===e,className:"saml-config-mode-wizard-tab",content:C.yf.resolveSAMLConfigModeDisplayName(e),onClick:function(t){t.preventDefault(),Q(e),Y(!1)}})}))))),G==S.T6.MANUAL?s.createElement(s.Fragment,null,(!t||t.includes("issuer"))&&s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{name:"issuer",ref:p,displayErrorOn:"blur",label:A("console:develop.features.applications.forms.inboundSAML.fields.issuer.label"),required:!0,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.fields.issuer.validations.empty"),type:"text",placeholder:A("console:develop.features.applications.forms.inboundSAML.fields.issuer.placeholder"),value:R,validation:function(e,t){g?(t.isValid=!1,t.errorMessages.push(A("console:develop.features.applications.forms.inboundSAML.fields.issuer.errorMessage"))):N(e)},"data-testid":"".concat(E,"-issuer-input")}),!n&&s.createElement(l.kW,null,A("console:develop.features.applications.forms.inboundSAML.fields.issuer.hint")))),(!t||t.includes("applicationQualifier"))&&s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{name:"applicationQualifier",label:A("console:develop.features.applications.forms.inboundSAML.fields.qualifier.label"),required:!1,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.fields.qualifier.validations.empty"),type:"text",placeholder:A("console:develop.features.applications.forms.inboundSAML.fields.qualifier.placeholder"),value:null==o||null===(pe=o.inboundProtocolConfiguration.saml)||void 0===pe||null===(fe=pe.manualConfiguration)||void 0===fe?void 0:fe.serviceProviderQualifier,"data-testid":"".concat(E,"-application-qualifier-input")}),!n&&s.createElement(l.kW,null,A("console:develop.features.applications.forms.inboundSAML.fields.qualifier.hint")))),(!t||t.includes("assertionConsumerURLs"))&&s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},s.createElement(l.wE,{urlState:w,setURLState:he,labelName:A("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.label"),placeholder:A("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.placeholder"),validationErrorMsg:A("console:develop.features.applications.forms.spaProtocolSettingsWizard.fields.callBackUrls.validations.invalid"),emptyErrorMessage:A("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.validations.empty"),validation:function(e){return!(!ze.URLUtils.isURLValid(e,!0)||!ze.URLUtils.isHttpUrl(e)&&!ze.URLUtils.isHttpsUrl(e)||!ze.URLUtils.isMobileDeepLink(e)||(q(null),0))},computerWidth:10,required:!0,showError:V,setShowError:H,hint:!n&&A("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.hint"),addURLTooltip:A("common:addURL"),duplicateURLErrorMessage:A("common:duplicateURLError"),"data-testid":"".concat(E,"-assertion-consumer-url-input"),getSubmit:function(e){de=e},showPredictions:!1,customLabel:B,popupHeaderPositive:A("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:A("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:A("console:develop.features.URLInput.withLabel.positive.content",{productName:ue.ui.productName}),popupContentNegative:A("console:develop.features.URLInput.withLabel.negative.content",{productName:ue.ui.productName}),popupDetailedContentPositive:A("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:A("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:A("console:common.validations.inSecureURL.description"),showLessContent:A("common:showLess"),showMoreContent:A("common:showMore")}),U&&s.createElement(l.v0,{visible:!0,type:"info",content:s.createElement(s.Fragment,null,s.createElement(_.c,{i18nKey:"console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.info",tOptions:{assertionURLFromTemplate:U}},"Don\u2019t have an app? Try out a sample app using ",s.createElement("strong",null,U)," as the assertion Response URL. (You can download and run a sample at a later step.)"),(void 0===w||""===w)&&s.createElement(l.Qj,{className:"m-1 p-1 with-no-border orange",onClick:function(e){e.preventDefault(),I(U),N(D),Y(!0)},"data-testid":"".concat(E,"-add-now-button")},s.createElement("span",{style:{fontWeight:"bold"}},"Add Now")))})))):G===S.T6.META_URL?s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{name:"url",ref:v,displayErrorOn:"blur",label:A("console:develop.features.applications.forms.inboundSAML.fields.metaURL.label"),required:!0,requiredErrorMessage:A("console:develop.features.applications.forms.inboundSAML.fields.metaURL.validations.empty"),type:"text",placeholder:A("console:develop.features.applications.forms.inboundSAML.fields.metaURL.placeholder"),validation:function(e,t){qe.I.url(e)||(t.isValid=!1,t.errorMessages.push(A("console:develop.features.applications.forms.inboundSAML.fields.metaURL.validations.invalid"))),null!==m.commonConfig&&void 0!==m.commonConfig&&m.commonConfig.blockLoopBackCalls&&ze.URLUtils.isLoopBackCall(e)&&(t.isValid=!1,t.errorMessages.push(A("console:develop.features.idp.forms.common.internetResolvableErrorMessage"))),b&&(t.isValid=!1,t.errorMessages.push(A("console:develop.features.applications.forms.inboundSAML.fields.metaURL.errorMessage")))},value:null==o||null===(me=o.inboundProtocolConfiguration)||void 0===me||null===(ve=me.saml)||void 0===ve?void 0:ve.metadataURL,"data-testid":"".concat(E,"-meta-url-input")}),!n&&s.createElement(l.kW,null,A("console:develop.features.applications.forms.inboundSAML.fields.metaURL.hint")))):G===S.T6.META_FILE?s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(l.GB,{key:1,fileStrategy:go,file:ne,pastedContent:ae,onChange:function(e){oe(e.file),re(e.pastedContent),ee(e.serialized)},uploadButtonText:"Upload Metadata File",dropzoneText:"Drag and drop a XML file here.","data-testid":"".concat(E,"-form-wizard-saml-xml-config-file-picker"),icon:(0,h._5)().uploadPlaceholder,placeholderIcon:s.createElement(f.Z,{name:"file code",size:"huge"}),normalizeStateOnRemoveOperations:!0,emptyFileError:se,hidePasteOption:!0}))):void 0)):s.createElement(l.pO,null)};ho.defaultProps={"data-testid":"saml-protocol-settings-wizard-form",hideFieldHints:!1};var go=new l.R2;function bo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Eo=function(e){var t,n,o=e.fields,i=e.hideFieldHints,a=e.initialValues,r=e.templateValues,d=e.triggerSubmit,p=e.onSubmit,f=e["data-testid"],m=(0,c.$)().t,v=bo((0,s.useState)(""),2),h=v[0],g=v[1],b=bo((0,s.useState)(""),2),y=b[0],E=b[1],S=bo((0,s.useState)(""),2),C=S[0],A=S[1],O=bo((0,s.useState)(""),2),w=O[0],I=O[1],T=bo((0,s.useState)(!1),2),R=T[0],N=T[1],k=bo((0,s.useState)(null),2),U=k[0],M=k[1],x=(0,u.v9)((function(e){return e.config}));(0,s.useEffect)((function(){var e;if((0,L.Z)(null==a||null===(e=a.inboundProtocolConfiguration)||void 0===e?void 0:e.saml)){var t,n,o,i,l=null==r||null===(t=r.inboundProtocolConfiguration)||void 0===t||null===(n=t.saml)||void 0===n?void 0:n.manualConfiguration.assertionConsumerUrls,s=null==r||null===(o=r.inboundProtocolConfiguration)||void 0===o||null===(i=o.saml)||void 0===i?void 0:i.manualConfiguration.issuer;(0,L.Z)(l)?g(""):g(l.toString()),(0,L.Z)(s)?E(""):E(s.toString())}else{var c,u,d,p,f,m;g(null==a||null===(c=a.inboundProtocolConfiguration)||void 0===c||null===(u=c.saml)||void 0===u||null===(d=u.manualConfiguration.assertionConsumerUrls)||void 0===d?void 0:d.toString()),E(null==a||null===(p=a.inboundProtocolConfiguration)||void 0===p||null===(f=p.saml)||void 0===f||null===(m=f.manualConfiguration.issuer)||void 0===m?void 0:m.toString())}}),[a]),(0,s.useEffect)((function(){var e,t,n,o,i,a;if(r){var l=null==r||null===(e=r.inboundProtocolConfiguration)||void 0===e||null===(t=e.saml)||void 0===t||null===(n=t.templateConfiguration)||void 0===n?void 0:n.assertionConsumerUrls,s=null==r||null===(o=r.inboundProtocolConfiguration)||void 0===o||null===(i=o.saml)||void 0===i||null===(a=i.templateConfiguration)||void 0===a?void 0:a.issuer;l&&Array.isArray(l)&&l.length>0&&A(l[0]),s&&I(s)}}),[r]);var D;return r?s.createElement(Be.Es,{onSubmit:function(e){D((function(t){(0,L.Z)(h)&&(0,L.Z)(t)?N(!0):p(function(e,t){var n={inboundProtocolConfiguration:{saml:{manualConfiguration:{}}}};return o&&!o.includes("assertionConsumerURLs")||(n.inboundProtocolConfiguration.saml.manualConfiguration.assertionConsumerUrls=t?t.split(","):h.split(",")),o&&!o.includes("issuer")||(n.inboundProtocolConfiguration.saml.manualConfiguration.issuer=e.get("issuer")),o&&!o.includes("applicationQualifier")||(n.inboundProtocolConfiguration.saml.manualConfiguration.serviceProviderQualifier=e.get("applicationQualifier")),n}(e,t))}))},submitState:d},s.createElement(P.Z,null,(!o||o.includes("issuer"))&&s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{name:"issuer",label:m("console:develop.features.applications.forms.inboundSAML.fields.issuer.label"),required:!0,requiredErrorMessage:m("console:develop.features.applications.forms.inboundSAML.fields.issuer.validations.empty"),type:"text",placeholder:m("console:develop.features.applications.forms.inboundSAML.fields.issuer.placeholder"),value:y,"data-testid":"".concat(f,"-issuer-input")}),!i&&s.createElement(l.kW,null,m("console:develop.features.applications.forms.inboundSAML.fields.issuer.hint")))),(!o||o.includes("applicationQualifier"))&&s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},s.createElement(Be.gN,{name:"applicationQualifier",label:m("console:develop.features.applications.forms.inboundSAML.fields.qualifier.label"),required:!1,requiredErrorMessage:m("console:develop.features.applications.forms.inboundSAML.fields.qualifier.validations.empty"),type:"text",placeholder:m("console:develop.features.applications.forms.inboundSAML.fields.qualifier.placeholder"),value:null==a||null===(t=a.inboundProtocolConfiguration.saml)||void 0===t||null===(n=t.manualConfiguration)||void 0===n?void 0:n.serviceProviderQualifier,"data-testid":"".concat(f,"-application-qualifier-input")}),!i&&s.createElement(l.kW,null,m("console:develop.features.applications.forms.inboundSAML.fields.qualifier.hint")))),(!o||o.includes("assertionConsumerURLs"))&&s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},s.createElement(l.wE,{urlState:h,setURLState:g,labelName:m("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.label"),placeholder:m("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.placeholder"),validationErrorMsg:m("console:develop.features.applications.forms.spaProtocolSettingsWizard.fields.callBackUrls.validations.invalid"),emptyErrorMessage:m("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.validations.empty"),validation:function(e){return!(!ze.URLUtils.isURLValid(e,!0)||!ze.URLUtils.isHttpUrl(e)&&!ze.URLUtils.isHttpsUrl(e))&&(!!ze.URLUtils.isMobileDeepLink(e)&&(M(null),!0))},computerWidth:10,required:!0,showError:R,setShowError:N,hint:!i&&m("console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.hint"),addURLTooltip:m("common:addURL"),duplicateURLErrorMessage:m("common:duplicateURLError"),"data-testid":"".concat(f,"-assertion-consumer-url-input"),getSubmit:function(e){D=e},showPredictions:!1,customLabel:U,popupHeaderPositive:m("console:develop.features.URLInput.withLabel.positive.header"),popupHeaderNegative:m("console:develop.features.URLInput.withLabel.negative.header"),popupContentPositive:m("console:develop.features.URLInput.withLabel.positive.content",{productName:x.ui.productName}),popupContentNegative:m("console:develop.features.URLInput.withLabel.negative.content",{productName:x.ui.productName}),popupDetailedContentPositive:m("console:develop.features.URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:m("console:develop.features.URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:m("console:common.validations.inSecureURL.description"),showLessContent:m("common:showLess"),showMoreContent:m("common:showMore")}),C&&s.createElement(l.v0,{type:"info",content:s.createElement(s.Fragment,null,s.createElement(_.c,{i18nKey:"console:develop.features.applications.forms.inboundSAML.fields.assertionURLs.info",tOptions:{assertionURLFromTemplate:C}},"Don\u2019t have an app? Try out a sample app using",s.createElement("strong",null,C),"as the assertion Response URL. (You can download and run a sample at a later step.)"),(void 0===h||""===h)&&s.createElement(l.Qj,{className:"m-1 p-1 with-no-border orange",onClick:function(e){e.preventDefault(),g(C),E(w)},"data-testid":"".concat(f,"-add-now-button")},s.createElement("span",{style:{fontWeight:"bold"}},"Add Now")))}))))):s.createElement(l.pO,null)};Eo.defaultProps={"data-testid":"saml-protocol-settings-wizard-form",hideFieldHints:!1};var So=function(e){var t,n,o,i,a,r,u,d,f,m,v,h,g,b,y,E,S,C,A,O,w,I,T,R,L,N,k,U,M,x,_,D,Z=e.summary,j=e.triggerSubmit,F=e.onSubmit,V=e["data-testid"],H=(0,c.$)().t;return(0,s.useEffect)((function(){j&&F(Z)}),[j]),s.createElement(P.Z,{className:"wizard-summary","data-testid":V},s.createElement(P.Z.Row,null,s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16,textAlign:"center"},s.createElement("div",{className:"general-details"},s.createElement(l.JT,{name:null==Z?void 0:Z.name,image:null==Z?void 0:Z.imageUrl,size:"tiny"}),(null==Z?void 0:Z.name)&&s.createElement(l.X6,{size:"small",className:"name"},Z.name),(null==Z||null===(t=Z.advancedConfigurations)||void 0===t?void 0:t.discoverableByEndUsers)&&s.createElement(p.Z,{className:"info-label"},H("console:develop.features.applications.addWizard.steps.summary.sections.discoverable.heading")),(null==Z||null===(n=Z.inboundProtocolConfiguration)||void 0===n||null===(o=n.oidc)||void 0===o?void 0:o.publicClient)&&s.createElement(p.Z,{className:"info-label"},H("console:develop.features.applications.addWizard.steps.summary.sections.public.heading")),(null==Z||null===(i=Z.inboundProtocolConfiguration)||void 0===i||null===(a=i.oidc)||void 0===a||null===(r=a.refreshToken)||void 0===r?void 0:r.renewRefreshToken)&&s.createElement(p.Z,{className:"info-label"},H("console:develop.features.applications.addWizard.steps.summary.sections.renewRefreshToken.heading")),(null==Z?void 0:Z.description)&&s.createElement("div",{className:"description"},Z.description)))),(null==Z?void 0:Z.accessUrl)&&s.createElement(P.Z.Row,{className:"summary-field",columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},H("console:develop.features.applications.addWizard.steps.summary.sections.accessURL.heading"))),s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},s.createElement("div",{className:"value url"},Z.accessUrl))),(null==Z||null===(u=Z.inboundProtocolConfiguration)||void 0===u||null===(d=u.saml)||void 0===d||null===(f=d.manualConfiguration)||void 0===f?void 0:f.issuer)&&s.createElement(P.Z.Row,{className:"summary-field",columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},H("console:develop.features.applications.addWizard.steps.summary.sections.issuer.heading"))),s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},s.createElement("div",{className:"value"},Z.inboundProtocolConfiguration.saml.manualConfiguration.issuer))),(null==Z||null===(m=Z.inboundProtocolConfiguration)||void 0===m||null===(v=m.saml)||void 0===v||null===(h=v.manualConfiguration)||void 0===h?void 0:h.serviceProviderQualifier)&&s.createElement(P.Z.Row,{className:"summary-field",columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},H("console:develop.features.applications.addWizard.steps.summary.sections.applicationQualifier.heading"))),s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},s.createElement("div",{className:"value"},Z.inboundProtocolConfiguration.saml.manualConfiguration.serviceProviderQualifier))),null!=Z&&null!==(g=Z.inboundProtocolConfiguration)&&void 0!==g&&null!==(b=g.oidc)&&void 0!==b&&b.grantTypes&&Z.inboundProtocolConfiguration.oidc.grantTypes instanceof Array&&Z.inboundProtocolConfiguration.oidc.grantTypes.length>0?s.createElement(P.Z.Row,{className:"summary-field",columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},H("console:develop.features.applications.addWizard.steps.summary.sections.grantType.heading"))),s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},s.createElement(p.Z.Group,null,Z.inboundProtocolConfiguration.oidc.grantTypes.map((function(e,t){return s.createElement(p.Z,{key:t,basic:!0,circular:!0},e)}))))):null,(null==Z||null===(y=Z.inboundProtocolConfiguration)||void 0===y||null===(E=y.saml)||void 0===E||null===(S=E.manualConfiguration)||void 0===S?void 0:S.assertionConsumerUrls)&&s.createElement(P.Z.Row,{className:"summary-field",columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},H("console:develop.features.applications.addWizard.steps.summary.sections.assertionURLs.heading"))),s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},Z.inboundProtocolConfiguration.saml.manualConfiguration.assertionConsumerUrls.map((function(e,t){return s.createElement("div",{className:"value url",key:t},e)})))),(null==Z||null===(C=Z.inboundProtocolConfiguration)||void 0===C||null===(A=C.oidc)||void 0===A?void 0:A.callbackURLs)&&s.createElement(P.Z.Row,{className:"summary-field",columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},H("console:develop.features.applications.addWizard.steps.summary.sections.callbackURLs.heading"))),s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},ze.EncodeDecodeUtils.decodeURLRegex(Z.inboundProtocolConfiguration.oidc.callbackURLs[0]).map((function(e,t){return s.createElement("div",{className:"value url",key:t},e)})))),(null==Z||null===(O=Z.inboundProtocolConfiguration)||void 0===O||null===(w=O.wsTrust)||void 0===w?void 0:w.audience)&&s.createElement(P.Z.Row,{className:"summary-field",columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},H("console:develop.features.applications.addWizard.steps.summary.sections.audience.heading"))),s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},s.createElement("div",{className:"value url"},null==Z||null===(I=Z.inboundProtocolConfiguration)||void 0===I||null===(T=I.wsTrust)||void 0===T?void 0:T.audience))),(null==Z||null===(R=Z.inboundProtocolConfiguration)||void 0===R||null===(L=R.wsTrust)||void 0===L?void 0:L.certificateAlias)&&s.createElement(P.Z.Row,{className:"summary-field",columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},H("console:develop.features.applications.addWizard.steps.summary.sections.certificateAlias.heading"))),s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},s.createElement("div",{className:"value"},null==Z||null===(N=Z.inboundProtocolConfiguration)||void 0===N?void 0:N.wsTrust.certificateAlias))),(null==Z||null===(k=Z.inboundProtocolConfiguration)||void 0===k||null===(U=k.passiveSts)||void 0===U?void 0:U.realm)&&s.createElement(P.Z.Row,{className:"summary-field",columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},H("console:develop.features.applications.addWizard.steps.summary.sections.realm.heading"))),s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},s.createElement("div",{className:"value"},null==Z||null===(M=Z.inboundProtocolConfiguration)||void 0===M?void 0:M.passiveSts.realm))),(null==Z||null===(x=Z.inboundProtocolConfiguration)||void 0===x||null===(_=x.passiveSts)||void 0===_?void 0:_.replyTo)&&s.createElement(P.Z.Row,{className:"summary-field",columns:2},s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},s.createElement("div",{className:"label"},H("console:develop.features.applications.addWizard.steps.summary.sections.audience.heading"))),s.createElement(P.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},s.createElement("div",{className:"value url"},null==Z||null===(D=Z.inboundProtocolConfiguration)||void 0===D?void 0:D.passiveSts.replyTo))))};function Co(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ao(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ao(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ao(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}So.defaultProps={"data-testid":"application-wizard-summary"};var Oo=function(e){var t,n,o=e.initialValues,i=e.templateValues,d=e.triggerSubmit,p=e.onSubmit,f=e["data-testid"],m=(0,c.$)().t,v=(0,u.I0)(),h=Co((0,s.useState)(void 0),2),g=h[0],b=h[1];return(0,s.useEffect)((function(){(0,y.WL)(S.Ii.WS_TRUST).then((function(e){b(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?v((0,r.V_)({description:e.response.data.description,level:a.QU.ERROR,message:"Retrieval error"})):v((0,r.V_)({description:"An error occurred retrieving the protocol metadata.",level:a.QU.ERROR,message:"Retrieval error"}))}))}),[]),i&&g?s.createElement(Be.Es,{onSubmit:function(e){p(function(e){return{inboundProtocolConfiguration:{wsTrust:{audience:e.get("audience"),certificateAlias:e.get("certificateAlias")}}}}(e))},submitState:d},s.createElement(P.Z,null,s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:8},s.createElement(Be.gN,{name:"audience",label:m("console:develop.features.applications.forms.inboundWSTrust.fields.audience.label"),required:!0,requiredErrorMessage:m("console:develop.features.applications.forms.inboundWSTrust.fields.audience.validations.empty"),placeholder:m("console:develop.features.applications.forms.inboundWSTrust.fields.audience.placeholder"),type:"text",validation:function(e,t){qe.I.url(e)||(t.isValid=!1,t.errorMessages.push(m("console:develop.features.applications.forms.inboundWSTrust.fields.audience.validations.invalid")))},value:o?null==o?void 0:o.audience:null==i?void 0:i.audience,"data-testid":"".concat(f,"-audience-input")}),s.createElement(l.kW,null,m("console:develop.features.applications.forms.inboundWSTrust.fields.audience.hint")))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:8},s.createElement(Be.gN,{label:m("console:develop.features.applications.forms.inboundWSTrust.fields.certificateAlias.label"),name:"certificateAlias",type:"dropdown",required:!0,requiredErrorMessage:m("console:develop.features.applications.forms.inboundWSTrust.fields.certificateAlias.validations.empty"),default:g.certificateAlias.defaultValue,value:o?null==o?void 0:o.certificateAlias:null==i?void 0:i.certificateAlias,children:(t=null==g?void 0:g.certificateAlias,n=[],t&&t.options.map((function(e){n.push({key:t.options.indexOf(e),text:e,value:e})})),n),"data-testid":"".concat(f,"-certificate-alias-dropdown")}),s.createElement(l.kW,null,m("console:develop.features.applications.forms.inboundWSTrust.fields.certificateAlias.hint")))))):s.createElement(l.pO,null)};Oo.defaultProps={"data-testid":"ws-trust-protocol-settings-wizard-form"};var wo,Io=n(56751);function To(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ro(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?To(Object(n),!0).forEach((function(t){Lo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):To(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function No(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ko(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ko(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ko(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}!function(e){e.PROTOCOL_SELECTION="protocolSelection",e.GENERAL_SETTINGS="generalSettings",e.PROTOCOL_SETTINGS="protocolSettings",e.SUMMARY="summary"}(wo||(wo={}));var Po=function(e){var t=e.closeWizard,n=e.currentStep,o=e.title,i=e.subTitle,d=e.template,p=e.addProtocol,m=e.selectedProtocols,v=e.appId,g=e.onUpdate,b=e["data-testid"],C=(0,c.$)().t,A=(0,u.v9)((function(e){return e.application.meta.protocolMeta})),O=No((0,s.useState)(void 0),2),w=O[0],I=O[1],T=No((0,s.useState)(void 0),2),R=T[0],N=T[1],k=No((0,s.useState)(void 0),2),M=k[0],x=k[1],_=No((0,s.useState)(n),2),D=_[0],Z=_[1],j=No((0,s.useState)(void 0),2),F=j[0],V=j[1],H=(0,u.I0)(),z=No((0,Be.cC)(),2),B=z[0],q=z[1],W=No((0,Be.cC)(),2),Q=W[0],K=W[1],$=No((0,Be.cC)(),2),Y=$[0],X=$[1],J=No((0,s.useState)(d),2),ee=J[0],te=J[1],ne=No((0,Be.cC)(),2),oe=ne[0],ie=ne[1],ae=No((0,s.useState)(!1),2),re=ae[0],le=ae[1],se=No((0,s.useState)(!1),2),ce=se[0],ue=se[1],de=No((0,s.useState)(!1),1)[0],pe=No((0,l.IK)(),3),fe=pe[0],me=pe[1],ve=pe[2],he=function(e){var t=e;t=Ro(Ro({},t),{},{templateId:ee.id}),ue(!0),(0,y.W3)(t).then((function(e){if(H((0,r.V_)({description:C("console:develop.features.applications.notifications.addApplication.success.description"),level:a.QU.SUCCESS,message:C("console:develop.features.applications.notifications.addApplication.success.message")})),!(0,L.Z)(e.headers.location)){var t=e.headers.location,n=t.substring(t.lastIndexOf("/")+1),o=0;return ee.id===ut.id&&(o=1),void h.m8.push({hash:"#".concat(S.El.TAB_INDEX).concat(o),pathname:h.$x.getPaths().get("APPLICATION_EDIT").replace(":id",n),search:"?".concat(E.jo.APP_STATE_URL_SEARCH_PARAM_KEY,"=").concat(E.jo.APP_STATE_URL_SEARCH_PARAM_VALUE)})}h.m8.push(h.$x.getPaths().get("APPLICATIONS"))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?me({description:e.response.data.description,level:a.QU.ERROR,message:C("console:develop.features.applications.notifications.addApplication.error.message")}):me({description:C("console:develop.features.applications.notifications.addApplication.genericError.description"),level:a.QU.ERROR,message:C("console:develop.features.applications.notifications.addApplication.genericError.message")})})).finally((function(){ue(!1)}))},ge=function(e){ue(!0),(0,y.lp)(v,e,ee.authenticationProtocol).then((function(){H((0,r.V_)({description:C("console:develop.features.applications.notifications.updateProtocol.success.description"),level:a.QU.SUCCESS,message:C("console:develop.features.applications.notifications.updateProtocol.success.message")})),g(v),Ce()})).catch((function(e){e.response&&e.response.data&&e.response.data.description?me({description:e.response.data.description,level:a.QU.ERROR,message:C("console:develop.features.applications.notifications.updateProtocol.error.message")}):me({description:C("console:develop.features.applications.notifications.updateProtocol.genericError.description"),level:a.QU.ERROR,message:C("console:develop.features.applications.notifications.updateProtocol.error.message")})})).finally((function(){ue(!1)}))},be=function(){var e;switch(null===(e=w[D])||void 0===e?void 0:e.name){case wo.PROTOCOL_SELECTION:ie();break;case wo.GENERAL_SETTINGS:q();break;case wo.PROTOCOL_SETTINGS:K();break;case wo.SUMMARY:X()}},ye=function(e,t){t===wo.PROTOCOL_SELECTION?e?(0,Fn.Z)(e,ee)?Z(D+1):te(e):ie():(Z(D+1),(0,jn.Z)(R,t)?N((0,Hn.Z)(R,t,e)):N((0,Vn.Z)(R,Lo({},t,e))))},Ee=function(){if(R){var e={};if(p){var t=ee.authenticationProtocol;return t===S.AI.WS_FEDERATION?t="passiveSts":t===S.AI.WS_TRUST&&(t="wsTrust"),e=(0,et.Z)(R[wo.PROTOCOL_SETTINGS],"inboundProtocolConfiguration."+t),ee.id===S.EL.SAML||re||(e=(0,Vn.Z)((0,Zn.Z)(F.inboundProtocolConfiguration[t]),e)),e}for(var n=0,o=Object.entries(R);n<o.length;n++){var i=No(o[n],2),a=i[0],r=i[1];a!==wo.PROTOCOL_SELECTION&&(e=Ro(Ro({},e),r))}return(0,Vn.Z)((0,Zn.Z)(F),e)}},Se=function(e){R[wo.PROTOCOL_SELECTION]===S.AI.OIDC?delete e.inboundProtocolConfiguration.saml:R[wo.PROTOCOL_SELECTION]===S.AI.SAML&&delete e.inboundProtocolConfiguration.oidc,he(e)},Ce=function(){t()};(0,s.useEffect)((function(){if(ee)if(ee.id===ut.id){var e=[].concat(Ae);I(e.splice(1,1))}else N((0,Vn.Z)(R,Lo({},wo.PROTOCOL_SELECTION,ee.authenticationProtocol))),re||((t=ee.id)===S.EL.OIDC?V(U.P5.application):t===S.EL.SAML?V(U.qF.application):t===S.EL.WS_FEDERATION?V(U.qo.application):(0,y.FG)(t).then((function(e){V(e.application)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?me({description:e.response.data.description,level:a.QU.ERROR,message:C("console:develop.features.applications.notifications.fetchTemplate.error.message")}):me({description:C("console:develop.features.applications.notifications.fetchTemplate.genericError.description"),level:a.QU.ERROR,message:C("console:develop.features.applications.notifications.fetchTemplate.genericError.message")})}))),p?Z(D+1):I(Ae.slice(1));var t}),[ee,re]),(0,s.useEffect)((function(){ee&&(Object.prototype.hasOwnProperty.call(A,ee.authenticationProtocol)||(0,y.WL)(ee.authenticationProtocol).then((function(e){H((0,Io.vX)(ee.authenticationProtocol,e))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?me({description:e.response.data.description,level:a.QU.ERROR,message:C("console:develop.features.applications.notifications.fetchProtocolMeta.error.message")}):me({description:C("console:develop.features.applications.notifications.fetchProtocolMeta.genericError.description"),level:a.QU.ERROR,message:C("console:develop.features.applications.notifications.fetchProtocolMeta.genericError.message")})})))}),[re]),(0,s.useEffect)((function(){if(p){var e=[].concat(Ae);e.splice(1,1),I(e)}}),[p]),(0,s.useEffect)((function(){void 0!==M&&(Z(D-1),x(void 0))}),[M]);var Ae=[{icon:(0,ct.jK)().protocolSelection,name:wo.PROTOCOL_SELECTION,title:C("console:develop.features.applications.addWizard.steps.protocolSelection.heading")},{icon:(0,ct.jK)().general,name:wo.GENERAL_SETTINGS,title:C("console:develop.features.applications.addWizard.steps.generalSettings.heading")},{icon:(0,ct.jK)().protocolConfig,name:wo.PROTOCOL_SETTINGS,title:C("console:develop.features.applications.addWizard.steps.protocolConfig.heading")},{icon:(0,ct.jK)().summary,name:wo.SUMMARY,title:C("console:develop.features.applications.addWizard.steps.summary.heading")}];return w?s.createElement(G.Z,{open:!0,className:"wizard application-create-wizard",dimmer:"blurring",onClose:Ce,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(b,"-modal")},s.createElement(G.Z.Header,{className:"wizard-header"},o,i&&s.createElement(l.X6,{as:"h6"},i)),s.createElement(G.Z.Content,{className:"steps-container","data-testid":"".concat(b,"-steps")},s.createElement(l.Rg.Group,{current:D},w.map((function(e,t){return s.createElement(l.Rg.Step,{key:t,icon:e.icon,title:e.title,"data-testid":"".concat(b,"-step-").concat(t)})})))),s.createElement(G.Z.Content,{className:"content-container",scrolling:!0},fe&&ve,function(){var e;switch(null===(e=w[D])||void 0===e?void 0:e.name){case wo.PROTOCOL_SELECTION:return s.createElement(co,{initialSelectedTemplate:ee,onSubmit:function(e){return ye(e,wo.PROTOCOL_SELECTION)},defaultTemplates:[U.KE,U.We,U.vw],triggerSubmit:oe,selectedProtocols:m,setSelectedCustomInboundProtocol:le,"data-testid":"".concat(b,"-protocol-selection-form")});case wo.GENERAL_SETTINGS:return ee.id===ut.id?s.createElement(Yn,{triggerSubmit:B,initialValues:R&&R[wo.GENERAL_SETTINGS],onSubmit:function(e){!function(e){for(var t=(0,S.M7)(),n=0,o=Object.entries(e);n<o.length;n++){var i=No(o[n],2),a=i[0],r=i[1];t=Ro(Ro({},t),{},Lo({},a,r))}he(t)}(e)},templateValues:F,"data-testid":"".concat(b,"-general-settings-form")}):s.createElement(Yn,{triggerSubmit:B,initialValues:R&&R[wo.GENERAL_SETTINGS],onSubmit:function(e){return ye(e,wo.GENERAL_SETTINGS)},templateValues:F,"data-testid":"".concat(b,"-general-settings-form")});case wo.PROTOCOL_SETTINGS:if(R&&R[wo.PROTOCOL_SELECTION]){if(re)return s.createElement(Gn,{triggerSubmit:Q,protocolName:ee.id,initialValues:R&&R[wo.PROTOCOL_SETTINGS],metadata:A[ee.id],onSubmit:function(e){return ye(e,wo.PROTOCOL_SETTINGS)},"data-testid":"".concat(b,"-custom-protocol-settings-form")});if(R[wo.PROTOCOL_SELECTION]===S.AI.OIDC)return s.createElement(no,{isProtocolConfig:!0,selectedTemplate:ee,triggerSubmit:Q,fields:["callbackURLs"],initialValues:R&&R[wo.PROTOCOL_SETTINGS],templateValues:F,onSubmit:function(e){return ye(e,wo.PROTOCOL_SETTINGS)},showCallbackURL:!0,"data-testid":"".concat(b,"-oauth-protocol-settings-form")});if(R[wo.PROTOCOL_SELECTION]===S.AI.SAML)return ee.id===S.EL.SAML?s.createElement(ho,{triggerSubmit:Q,initialValues:R&&R[wo.PROTOCOL_SETTINGS],templateValues:F,fields:["issuer","assertionConsumerURLs"],hideFieldHints:!0,onSubmit:function(e){return ye(e,wo.PROTOCOL_SETTINGS)},"data-testid":"".concat(b,"-saml-protocol-all-settings-form")}):s.createElement(Eo,{triggerSubmit:Q,initialValues:R&&R[wo.PROTOCOL_SETTINGS],templateValues:F,onSubmit:function(e){return ye(e,wo.PROTOCOL_SETTINGS)},"data-testid":"".concat(b,"-saml-protocol-settings-form")});if(R[wo.PROTOCOL_SELECTION]===S.AI.WS_TRUST)return s.createElement(Oo,{triggerSubmit:Q,initialValues:R&&R[wo.PROTOCOL_SETTINGS],templateValues:F,onSubmit:function(e){return ye(e,wo.PROTOCOL_SETTINGS)},"data-testid":"".concat(b,"-ws-trust-protocol-settings-form")});if(R[wo.PROTOCOL_SELECTION]===S.AI.WS_FEDERATION)return s.createElement(oo,{triggerSubmit:Q,initialValues:R&&R[wo.PROTOCOL_SETTINGS],templateValues:F,onSubmit:function(e){return ye(e,wo.PROTOCOL_SETTINGS)},"data-testid":"".concat(b,"-passive-sts-protocol-settings-form")})}return null;case wo.SUMMARY:return p?s.createElement(fo,{triggerSubmit:Y,summary:Ee(),onSubmit:ge,image:ee.authenticationProtocol,customProtocol:re,samlMetaFileSelected:de,"data-testid":"".concat(b,"-protocol-summary")}):s.createElement(So,{triggerSubmit:Y,summary:Ee(),onSubmit:Se,"data-testid":"".concat(b,"-summary")})}}()),s.createElement(G.Z.Actions,null,s.createElement(P.Z,null,s.createElement(P.Z.Row,{column:1},s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:8},s.createElement(l.Qj,{"data-testid":"".concat(b,"-cancel-button"),floated:"left",onClick:Ce},C("common:cancel"))),s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:8},D<w.length-1&&s.createElement(l.KM,{floated:"right",onClick:be,"data-testid":"".concat(b,"-next-button")},C("common:next"),s.createElement(f.Z,{name:"arrow right"})),D===w.length-1&&s.createElement(l.KM,{floated:"right",onClick:be,"data-testid":"".concat(b,"-finish-button"),loading:ce,disabled:ce},C("common:finish")),D>0&&s.createElement(l.Qj,{floated:"right",onClick:function(){x(D)},"data-testid":"".concat(b,"-previous-button")},s.createElement(f.Z,{name:"arrow left"}),C("common:previous"))))))):null};function Uo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Mo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Po.defaultProps={currentStep:0,"data-testid":"application-create-wizard"};var xo=function(e){var t=e.initialValues,n=e.idpList,o=e.triggerSubmit,i=e.onSubmit,a=e.isEdit,r=e.readOnly,u=e.isSubmitting,d=e["data-testid"],p=(0,c.$)().t,f=Uo((0,s.useState)([]),2),m=f[0],v=f[1],h=Uo((0,s.useState)(void 0),2),g=h[0],b=h[1],y=Uo((0,s.useState)(),2),E=y[0],S=y[1],C=Uo((0,s.useState)(null==t?void 0:t.blocking),2),A=C[0],O=C[1],w=Uo((0,s.useState)(null==t?void 0:t.jit),2),I=w[0],T=w[1],R=Uo((0,s.useState)(null==t?void 0:t.rules),2),L=R[0],N=R[1],k=Uo((0,s.useState)(null==t?void 0:t.connector),2),U=k[0],M=k[1];(0,s.useEffect)((function(){if(n&&null!=t&&t.idp){var e=null==n?void 0:n.find((function(e){return e.name===(null==t?void 0:t.idp)}));S(e.id)}}),[n]),(0,s.useEffect)((function(){if(n){var e=[],t={key:-1,text:"",value:""};n.map((function(n,o){t={key:o,text:n.name,value:n.id},e.push(t)})),v(e)}}),[n]),(0,s.useEffect)((function(){if(E){var e=[],t={key:-1,text:"",value:""};(0,en.OL)(E).then((function(n){n.provisioning.outboundConnectors.connectors.map((function(n,o){n.isEnabled&&(t={key:o,text:n.name,value:n.name},e.push(t))})),b(e)}))}}),[E]);return s.createElement(Be.Es,{onSubmit:function(e){return i(function(e){var t=m.find((function(e){return e.value===E})).text;return{blocking:A||!!e.get("blocking").includes("blocking"),connector:U,idp:t,jit:I||!!e.get("jit").includes("jit"),rules:L||!!e.get("blocking").includes("blocking")}}(e))},submitState:o&&o},s.createElement(P.Z,null,!a&&s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(Be.gN,{type:"dropdown",label:p("console:develop.features.applications.forms.outboundProvisioning.fields.idp.label"),placeholder:p("console:develop.features.applications.forms.outboundProvisioning.fields.idp.placeholder"),name:"idp",children:m,requiredErrorMessage:p("console:develop.features.applications.forms.outboundProvisioning.fields.idp.validations.empty"),readOnly:r,required:!1,value:null==t?void 0:t.idp,listen:function(e){S(e.get("idp").toString())},"data-testid":"".concat(d,"-idp-dropdown")}))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(Be.gN,{type:"dropdown",label:p("console:develop.features.applications.forms.outboundProvisioning.fields.connector.label"),placeholder:p("console:develop.features.applications.forms.outboundProvisioning.fields.connector.placeholder"),name:"connector",children:g,requiredErrorMessage:p("console:develop.features.applications.forms.outboundProvisioning.fields.connector.validations.empty"),readOnly:r,required:!0,value:null==t?void 0:t.connector,listen:function(e){M(e.get("connector").toString())},"data-testid":"".concat(d,"-provisioning-connector-dropdown")}),(null==g?void 0:g.length)<=0&&s.createElement(l.kW,{icon:"warning sign"},p("console:develop.features.applications.edit.sections.provisioning.outbound.addIdpWizard.errors.noProvisioningConnector")))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(Be.gN,{name:"rules",required:!1,requiredErrorMessage:"",type:"checkbox",children:[{label:p("console:develop.features.applications.forms.outboundProvisioning.fields.rules.label"),value:"rules"}],value:null!=t&&t.rules?["rules"]:[],listen:function(e){N(e.get("rules").includes("rules"))},readOnly:r,"data-testid":"".concat(d,"-rules-checkbox")}),s.createElement(l.kW,null,p("console:develop.features.applications.forms.outboundProvisioning.fields.rules.hint")))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(Be.gN,{name:"blocking",required:!1,requiredErrorMessage:"",type:"checkbox",children:[{label:p("console:develop.features.applications.forms.outboundProvisioning.fields.blocking.label"),value:"blocking"}],readOnly:r,value:null!=t&&t.blocking?["blocking"]:[],listen:function(e){O(e.get("blocking").includes("blocking"))},"data-testid":"".concat(d,"-blocking-checkbox")}),s.createElement(l.kW,null,p("console:develop.features.applications.forms.outboundProvisioning.fields.blocking.hint")))),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(Be.gN,{name:"jit",required:!1,requiredErrorMessage:"",type:"checkbox",children:[{label:p("console:develop.features.applications.forms.outboundProvisioning.fields.jit.label"),value:"jit"}],value:null!=t&&t.jit?["jit"]:[],listen:function(e){T(e.get("jit").includes("jit"))},readOnly:r,"data-testid":"".concat(d,"-jit-checkbox")}),s.createElement(l.kW,null,p("console:develop.features.applications.forms.outboundProvisioning.fields.jit.hint")))),a&&!r&&s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:10},s.createElement(l.KM,{type:"submit",size:"small",className:"form-button","data-testid":"".concat(d,"-submit-button"),loading:u,disabled:u},p("common:update"))))))};function _o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Do(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Do(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Do(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}xo.defaultProps={"data-testid":"application-outbound-provisioning-wizard-idp-form"};var Zo=function(e){var t=e.application,n=e.closeWizard,o=e.currentStep,i=e.onUpdate,d=e["data-testid"],p=(0,c.$)().t,m=(0,u.I0)(),v=_o((0,Be.cC)(),2),h=v[0],g=v[1],b=_o((0,s.useState)(void 0),2),E=b[0],S=b[1],C=_o((0,s.useState)(o),2),A=C[0],O=C[1],w=_o((0,s.useState)(void 0),2),I=w[0],T=w[1],R=_o((0,s.useState)(!1),2),L=R[0],N=R[1];(0,s.useEffect)((function(){void 0!==E&&(O(A-1),S(void 0))}),[E]),(0,s.useEffect)((function(){I||(0,en.SN)().then((function(e){T(e.identityProviders)}))}),[]);var k=function(){if(0===A)g()},U=function(e){var o;if(null!=t&&null!==(o=t.provisioningConfigurations)&&void 0!==o&&o.outboundProvisioningIdps.find((function(t){return t.connector===e.connector&&t.idp===e.idp})))return m((0,r.V_)({description:p("console:develop.features.applications.notifications.updateOutboundProvisioning.genericError.description"),level:a.QU.ERROR,message:p("console:develop.features.applications.notifications.updateOutboundProvisioning.genericError.message")})),void n();!function(e,o){N(!0),(0,y.TH)(e,o).then((function(){m((0,r.V_)({description:p("console:develop.features.applications.notifications.updateApplication.success.description"),level:a.QU.SUCCESS,message:p("console:develop.features.applications.notifications.updateApplication.success.message")})),i(t.id)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?m((0,r.V_)({description:e.response.data.description,level:a.QU.ERROR,message:p("console:develop.features.applications.notifications.updateApplication.error.message")})):m((0,r.V_)({description:p("console:develop.features.applications.notifications.updateApplication.genericError.description"),level:a.QU.ERROR,message:p("console:develop.features.applications.notifications.updateApplication.genericError.message")}))})).finally((function(){N(!1),n()}))}(t.id,function(e){var n,o=null==t||null===(n=t.provisioningConfigurations)||void 0===n?void 0:n.outboundProvisioningIdps;return o.push(e),{provisioningConfigurations:{outboundProvisioningIdps:o}}}(e))},M=[{content:s.createElement(xo,{initialValues:null,triggerSubmit:h,onSubmit:function(e){U(e)},idpList:I,"data-testid":"".concat(d,"-form"),isSubmitting:L}),icon:(0,ct.jK)().general,title:p("console:develop.features.applications.edit.sections.provisioning.outbound.addIdpWizard.steps.details")}];return s.createElement(G.Z,{open:!0,className:"wizard application-create-wizard",dimmer:"blurring",size:"small",onClose:n,"data-testid":d,closeOnDimmerClick:!1,closeOnEscape:!0},s.createElement(G.Z.Header,{className:"wizard-header"},p("console:develop.features.applications.edit.sections.provisioning.outbound.addIdpWizard.heading"),s.createElement(l.X6,{as:"h6"},p("console:develop.features.applications.edit.sections.provisioning.outbound.addIdpWizard.subHeading"))),s.createElement(G.Z.Content,{className:"steps-container"},s.createElement(l.Rg.Group,{current:A,"data-testid":"".concat(d,"-steps")},M.map((function(e,t){return s.createElement(l.Rg.Step,{key:t,icon:e.icon,title:e.title,"data-testid":"".concat(d,"-step-").concat(t)})})))),s.createElement(G.Z.Content,{className:"content-container",scrolling:!0},M[A].content),s.createElement(G.Z.Actions,null,s.createElement(P.Z,null,s.createElement(P.Z.Row,{column:1},s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:8},s.createElement(l.Qj,{floated:"left",onClick:function(){return n()},"data-testid":"".concat(d,"-cancel-button")},p("common:cancel"))),s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:8},A<M.length-1&&s.createElement(l.KM,{floated:"right",onClick:k,"data-testid":"".concat(d,"-next-button")},p("common:next"),s.createElement(f.Z,{name:"arrow right"})),A===M.length-1&&s.createElement(l.KM,{floated:"right",onClick:k,"data-testid":"".concat(d,"-finish-button"),loading:L,disabled:L},p("common:finish")),A>0&&s.createElement(l.Qj,{floated:"right",onClick:function(){S(A)},"data-testid":"".concat(d,"-previous-button")},s.createElement(f.Z,{name:"arrow left"}),p("common:previous")))))))};Zo.defaultProps={currentStep:0,"data-testid":"outbound-provisioning-idp-create-wizard"};var jo=n(59705),Fo=n(43554),Vo=n(77142);function Ho(e){return Ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ho(e)}var zo,Bo=["applicationId","clientId","onApplicationSharingCompleted","onClose","data-componentid"];function qo(){return qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},qo.apply(this,arguments)}function Wo(e){return function(e){if(Array.isArray(e))return Xo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Yo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Go(){Go=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",r=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,n){return e[t]=n}}function s(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),r=new A(o||[]);return a._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return w()}for(n.method=i,n.arg=a;;){var r=n.delegate;if(r){var l=E(r,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=c(e,t,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}(e,n,r),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=s;var u={};function d(){}function p(){}function f(){}var m={};l(m,i,(function(){return this}));var v=Object.getPrototypeOf,h=v&&v(v(O([])));h&&h!==t&&n.call(h,i)&&(m=h);var g=f.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function o(i,a,r,l){var s=c(e[i],e,a);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==Ho(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,r,l)}),(function(e){o("throw",e,r,l)})):t.resolve(d).then((function(e){u.value=e,r(u)}),(function(e){return o("throw",e,r,l)}))}l(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){o(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var o=c(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,u;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:w}}function w(){return{value:void 0,done:!0}}return p.prototype=f,l(g,"constructor",f),l(f,"constructor",p),p.displayName=l(f,r,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,r,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(y.prototype),l(y.prototype,a,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,o,i,a){void 0===a&&(a=Promise);var r=new y(s(t,n,o,i),a);return e.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},b(g),l(g,r,"Generator"),l(g,i,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=O,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],r=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(l&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function Qo(e,t,n,o,i,a,r){try{var l=e[a](r),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(o,i)}function Ko(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function r(e){Qo(a,o,i,r,l,"next",e)}function l(e){Qo(a,o,i,r,l,"throw",e)}r(void 0)}))}}function $o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||Yo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yo(e,t){if(e){if("string"==typeof e)return Xo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xo(e,t):void 0}}function Xo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Jo(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}!function(e){e[e.SHARE_ALL=0]="SHARE_ALL",e[e.SHARE_SELECTED=1]="SHARE_SELECTED",e[e.UNSHARE=2]="UNSHARE"}(zo||(zo={}));var ei=function(e){var t=e.applicationId,n=e.clientId,o=e.onApplicationSharingCompleted,i=e.onClose,d=e["data-componentid"],p=Jo(e,Bo),f=(0,u.I0)(),m=(0,c.$)().t,v=(0,u.v9)((function(e){return e.organization.organization})),g=$o((0,s.useState)([]),2),b=g[0],y=g[1],E=$o((0,s.useState)([]),2),S=E[0],C=E[1],A=$o((0,s.useState)(zo.SHARE_ALL),2),O=A[0],w=A[1],I=$o((0,s.useState)([]),2),T=I[0],R=I[1],N=$o((0,s.useState)([]),2),k=N[0],P=N[1],U=h.lD.getInstance();(0,s.useEffect)((function(){return y(T||[])}),[T]),(0,s.useEffect)((function(){return C(k||[])}),[k]),(0,s.useEffect)((function(){open&&isOrganizationManagementEnabled&&((0,st.jX)(null,null,null,null,!0,!1).then((function(e){R(e.organizations)})).catch((function(e){null!=e&&e.description?f((0,r.V_)({description:e.description,level:a.QU.ERROR,message:m("console:manage.features.organizations.notifications.getOrganizationList.error.message")})):f((0,r.V_)({description:m("console:manage.features.organizations.notifications.getOrganizationList.genericError.description"),level:a.QU.ERROR,message:m("console:manage.features.organizations.notifications.getOrganizationList.genericError.message")}))})),(0,st.DM)(v.id,t).then((function(e){P(e.data.organizations)})).catch((function(e){e.response.data.description?f((0,r.V_)({description:e.response.data.description,level:a.QU.ERROR,message:m("console:develop.features.applications.edit.sections.shareApplication.getSharedOrganizations.genericError.message")})):f((0,r.V_)({description:m("console:develop.features.applications.edit.sections.shareApplication.getSharedOrganizations.genericError.description"),level:a.QU.ERROR,message:m("console:develop.features.applications.edit.sections.shareApplication.getSharedOrganizations.genericError.message")}))})))}),[st.jX,open]);var M=(0,s.useCallback)(Ko(Go().mark((function e(){var l,s,c,u;return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O!==zo.SHARE_ALL){e.next=4;break}l={shareWithAllChildren:!0},e.next=14;break;case 4:if(O!==zo.SHARE_SELECTED){e.next=14;break}if(!O){e.next=11;break}return c=S.map((function(e){return e.id})),e.next=9,(0,st.An)(t,v.id);case 9:e.next=13;break;case 11:c=(0,En.Z)(S,k,"id").map((function(e){return e.id})),s=(0,En.Z)(k,S,"id");case 13:l={shareWithAllChildren:!1,sharedOrganizations:c};case 14:O===zo.SHARE_ALL||O===zo.SHARE_SELECTED?((0,st.Bn)(v.id,t,l).then((function(){i(null,null),f((0,r.V_)({description:m("console:develop.features.applications.edit.sections.shareApplication.addSharingNotification.success.description"),level:a.QU.SUCCESS,message:m("console:develop.features.applications.edit.sections.shareApplication.addSharingNotification.success.message")})),U.publish("application-share",{"client-id":n})})).catch((function(e){i(null,null),e.response.data.message?f((0,r.V_)({description:e.response.data.message,level:a.QU.ERROR,message:m("console:develop.features.applications.edit.sections.shareApplication.addSharingNotification.genericError.message")})):f((0,r.V_)({description:m("console:develop.features.applications.edit.sections.shareApplication.addSharingNotification.genericError.description"),level:a.QU.ERROR,message:m("console:develop.features.applications.edit.sections.shareApplication.addSharingNotification.genericError.message")})),U.publish("application-share-error",{"client-id":n})})).finally((function(){return o()})),null===(u=s)||void 0===u||u.forEach((function(e){(0,st.NY)(v.id,t,e.id).then((function(){i(null,null),f((0,r.V_)({description:m("console:develop.features.applications.edit.sections.shareApplication.stopSharingNotification.success.description",{organization:e.name}),level:a.QU.SUCCESS,message:m("console:develop.features.applications.edit.sections.shareApplication.stopSharingNotification.success.message")})),U.publish("application-share",{"client-id":n})})).catch((function(t){i(null,null),t.response.data.message?f((0,r.V_)({description:t.response.data.message,level:a.QU.ERROR,message:m("console:develop.features.applications.edit.sections.shareApplication.stopSharingNotification.genericError.message")})):f((0,r.V_)({description:m("console:develop.features.applications.edit.sections.shareApplication.stopSharingNotification.genericError.description",{organization:e.name}),level:a.QU.ERROR,message:m("console:develop.features.applications.edit.sections.shareApplication.stopSharingNotification.genericError.message")})),U.publish("application-share-error",{"client-id":n})}))}))):O===zo.UNSHARE&&(0,st.An)(t,v.id).then((function(){i(null,null),f((0,r.V_)({description:m("console:develop.features.applications.edit.sections.shareApplication.addSharingNotification.success.description"),level:a.QU.SUCCESS,message:m("console:develop.features.applications.edit.sections.shareApplication.addSharingNotification.success.message")})),U.publish("application-share",{"client-id":n})})).catch((function(e){i(null,null),e.response.data.message?f((0,r.V_)({description:e.response.data.message,level:a.QU.ERROR,message:m("console:develop.features.applications.edit.sections.shareApplication.addSharingNotification.genericError.message")})):f((0,r.V_)({description:m("console:develop.features.applications.edit.sections.shareApplication.addSharingNotification.genericError.description"),level:a.QU.ERROR,message:m("console:develop.features.applications.edit.sections.shareApplication.addSharingNotification.genericError.message")})),U.publish("application-share-error",{"client-id":n})})).finally((function(){return o()}));case 15:case"end":return e.stop()}}),e)}))),[k,S,st.NY,f,v.id,t,i,O]),x=(0,s.useCallback)((function(){S.length!==T.length?C(T):C([])}),[T,y,S]);return s.createElement(G.Z,qo({isLoading:!0,closeOnDimmerClick:!0,dimmer:"blurring",size:"tiny",closeOnDocumentClick:!0,closeOnEscape:!0,"data-testid":"".concat(d,"-share-application-modal")},p),s.createElement(G.Z.Header,null,m("console:develop.features.applications.edit.sections.shareApplication.heading")),s.createElement(G.Z.Content,null,s.createElement(l.X6,{ellipsis:!0,as:"h6"},m("console:manage.features.organizations.shareApplicationSubTitle")),s.createElement(V.Z,{basic:!0},s.createElement(Cn.Z,{label:m("console:manage.features.organizations.shareApplicationRadio"),onChange:function(){return w(zo.SHARE_ALL)},checked:O===zo.SHARE_ALL,"data-componentid":"".concat(d,"-share-with-all-checkbox")}),s.createElement(l.kW,{popup:!0,inline:!0},m("console:manage.features.organizations.shareApplicationInfo")),s.createElement(be.Z,{hidden:!0,className:"mb-1 mt-0"}),s.createElement(Cn.Z,{label:m("console:manage.features.organizations.shareWithSelectedOrgsRadio"),onChange:function(){return w(zo.SHARE_SELECTED)},checked:O===zo.SHARE_SELECTED,"data-componentid":"".concat(d,"-share-with-all-checkbox")}),s.createElement(An.Z,{visible:O===zo.SHARE_SELECTED,animation:"slide down",duration:1e3},s.createElement(l.IX,{className:"pl-2",disabled:O!==zo.SHARE_SELECTED,selectionComponent:!0,searchPlaceholder:m("console:manage.features.transferList.searchPlaceholder",{type:"organizations"}),handleUnelectedListSearch:function(e,t){var n=t.value,o=[];if((0,L.Z)(n))y(T);else{var i=new RegExp((0,Sn.Z)(n),"i");T&&T.map((function(e){i.test(e.name)&&o.push(e)})),y(o)}},"data-componentId":"application-share-modal-organization-transfer-component"},s.createElement(l.Jv,{disabled:O!==zo.SHARE_SELECTED,isListEmpty:!((null==b?void 0:b.length)>0),handleHeaderCheckboxChange:x,isHeaderCheckboxChecked:(null==S?void 0:S.length)===(null==T?void 0:T.length),listType:"unselected",listHeaders:[m("console:manage.features.transferList.list.headers.1"),""],emptyPlaceholderContent:m("console:manage.features.transferList.list.emptyPlaceholders.groups.unselected",{type:"organizations"}),"data-testid":"application-share-modal-organization-transfer-component-all-items",emptyPlaceholderDefaultContent:m("console:manage.features.transferList.list.emptyPlaceholders.default")},null==b?void 0:b.map((function(e,t){var n=null==e?void 0:e.name,o=-1!==S.findIndex((function(t){return t.id===e.id}));return s.createElement(l.qT,{disabled:O!==zo.SHARE_SELECTED,handleItemChange:function(){return function(e){var t=Wo(S),n=t.findIndex((function(t){return t.id===e.id}));-1!==n?(t.splice(n,1),C(t)):(t.push(e),C(t))}(e)},key:t,listItem:n,listItemId:e.id,listItemIndex:t,isItemChecked:o,showSecondaryActions:!1,"data-testid":"application-share-modal-organization-transfer-component -unselected-organizations"})}))))))),s.createElement(G.Z.Actions,null,s.createElement(l.Qj,{"data-testid":"".concat(d,"-cancel-button"),onClick:function(){return o()}},m("common:cancel")),s.createElement(l.KM,{disabled:O===zo.SHARE_SELECTED&&(0==(null==S?void 0:S.length)||!T),onClick:function(){M()},"data-testid":"".concat(d,"-save-button")},m("console:develop.features.applications.edit.sections.shareApplication.shareApplication"))))};function ti(e){return ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ti(e)}function ni(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ni(Object(n),!0).forEach((function(t){ii(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ni(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ii(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ai(){ai=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",r=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,n){return e[t]=n}}function s(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),r=new A(o||[]);return a._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return w()}for(n.method=i,n.arg=a;;){var r=n.delegate;if(r){var l=E(r,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=c(e,t,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}(e,n,r),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=s;var u={};function d(){}function p(){}function f(){}var m={};l(m,i,(function(){return this}));var v=Object.getPrototypeOf,h=v&&v(v(O([])));h&&h!==t&&n.call(h,i)&&(m=h);var g=f.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function o(i,a,r,l){var s=c(e[i],e,a);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==ti(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,r,l)}),(function(e){o("throw",e,r,l)})):t.resolve(d).then((function(e){u.value=e,r(u)}),(function(e){return o("throw",e,r,l)}))}l(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){o(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var o=c(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,u;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:w}}function w(){return{value:void 0,done:!0}}return p.prototype=f,l(g,"constructor",f),l(f,"constructor",p),p.displayName=l(f,r,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,r,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(y.prototype),l(y.prototype,a,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,o,i,a){void 0===a&&(a=Promise);var r=new y(s(t,n,o,i),a);return e.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},b(g),l(g,r,"Generator"),l(g,i,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=O,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],r=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(l&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function ri(e,t,n,o,i,a,r){try{var l=e[a](r),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(o,i)}function li(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return si(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return si(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function si(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}ei.defaultProps={"data-componentid":"application-share-modal"};var ci=function(e){var t=e.title,n=e.closeWizard,o=e.template,d=e.subTemplates,p=e.subTemplatesSectionTitle,f=e.subTitle,v=e.templateLoadingStrategy,b=(e.setIsApplicationSharingEnabled,e["data-testid"]),A=(0,c.$)().t,O=(0,l.fQ)().getLink,w=(0,u.I0)(),I=h.h.getState().config.deployment.tenant,T=(0,u.v9)((function(e){return e.config.ui.features})),R=(0,u.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),N=li((0,Be.cC)(),2),k=N[0],U=N[1],x=li((0,Be.cC)(),2),_=x[0],D=x[1],Z=(0,u.v9)((function(e){var t,n,o;return null===(t=e.config)||void 0===t||null===(n=t.deployment)||void 0===n||null===(o=n.extensions)||void 0===o?void 0:o.asgardeoReservedAppRegex})),F=(0,u.v9)((function(e){return e.config.ui.isClientSecretHashEnabled})),V=(0,u.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organizationType})),H=(0,u.v9)((function(e){return e.organization.isFirstLevelOrganization})),z=li((0,s.useState)(null),2),B=z[0],q=z[1],W=li((0,s.useState)(void 0),2),G=W[0],Q=W[1],K=li((0,s.useState)(S.AI.OAUTH2_OIDC),2),$=K[0],Y=K[1],X=li((0,s.useState)(!1),2),J=X[0],ee=X[1],te=li((0,s.useState)(void 0),2),ne=te[0],oe=te[1],ie=li((0,s.useState)(o),2),ae=ie[0],re=ie[1],le=li((0,s.useState)([]),2),se=le[0],ce=le[1],ue=li((0,s.useState)(!1),2),de=ue[0],pe=ue[1],fe=li((0,s.useState)(!1),2),me=fe[0],ve=fe[1],he=li((0,s.useState)(!1),2),ge=he[0],ye=he[1],Ee=li((0,s.useState)(!1),2),Se=Ee[0],Ce=Ee[1],Ae=li((0,s.useState)(!1),2),Oe=Ae[0],we=Ae[1],Ie=li((0,s.useState)(!1),2),Te=Ie[0],Re=Ie[1],Le=li((0,s.useState)(void 0),2),Ne=Le[0],ke=Le[1],Pe=(0,s.useRef)(),Ue=(0,s.useRef)(),Me=(0,s.useRef)(),xe=li((0,s.useState)(void 0),2),_e=xe[0],Ze=xe[1],je=li((0,l.IK)(),3),Fe=je[0],Ve=je[1],He=je[2],ze=h.lD.getInstance();(0,s.useEffect)((function(){Ne&&Re(!0)}),[Ne]),(0,s.useEffect)((function(){if(ae&&ae.id!==ut.id&&De.F.isCurrentOrganizationRoot()){var e=[];(0,h.ZY)().then((function(t){t.map((function(t){e.push(t.url)}))})),ce(e),Ve(null)}}),[ae]),(0,s.useEffect)((function(){ae.id!==ut.id?(0,L.Z)(d)||!Array.isArray(d)||d.length<1?$e(o.id,o):(re(d[0]),$e(d[0].id,d[0])):q(ut)}),[d]),(0,s.useEffect)((function(){var e,t,n;if(Je("all",!1),G||ne){if(!G){var i;if(ae.id===ut.id&&$===S.AI.SAML)return;if(null!=o&&o.authenticationProtocol||(null===(i=o.subTemplates)||void 0===i?void 0:i.length)>0)return}if(ne){var l,s,c,u=(0,Zn.Z)(B),d="inboundProtocolConfiguration.oidc.callbackURLs",p=(0,et.Z)(G,d,[]);if((0,L.Z)(null==p?void 0:p.filter(Boolean))||((0,Hn.Z)(u,"application.".concat(d),[]),(0,Hn.Z)(u,"application.".concat("inboundProtocolConfiguration.oidc.allowedOrigins"),[])),null!=u&&null!==(e=u.application)&&void 0!==e&&null!==(t=e.inboundProtocolConfiguration)&&void 0!==t&&null!==(n=t.saml)&&void 0!==n&&n.templateConfiguration)null==u||(null===(l=u.application)||void 0===l||(null===(s=l.inboundProtocolConfiguration)||void 0===s||(null===(c=s.saml)||void 0===c||delete c.templateConfiguration)));var f=(0,Zn.Z)((0,Vn.Z)(null==u?void 0:u.application,G));f.name=ne.get("name").toString(),f.templateId=ae.id,$===S.AI.OAUTH2_OIDC&&"custom-application"===(null==ae?void 0:ae.templateId)&&(f.isManagementApp=ne.get("isManagementApp").length>=2),ae.id===ut.id&&($===S.AI.OAUTH2_OIDC?(f.templateId=E.jo.CUSTOM_APPLICATION_OIDC,f.inboundProtocolConfiguration={oidc:{grantTypes:["client_credentials"]}}):$===S.AI.SAML?(f.templateId=E.jo.CUSTOM_APPLICATION_SAML,_e===S.T6.MANUAL&&(f.inboundProtocolConfiguration.saml.manualConfiguration=Object.assign(f.inboundProtocolConfiguration.saml.manualConfiguration,{attributeProfile:{alwaysIncludeAttributesInResponse:!0,enabled:!0}}))):$===S.AI.WS_FEDERATION&&(f.templateId=E.jo.CUSTOM_APPLICATION_PASSIVE_STS)),ee(!0),(0,y.W3)(f).then((function(e){ze.compute((function(){ae.id===ut.id?ze.publish("application-register-new-application",{type:f.templateId}):ze.publish("application-register-new-application",{type:ae.templateId})})),w((0,r.V_)({description:A("console:develop.features.applications.notifications.addApplication.success.description"),level:a.QU.SUCCESS,message:A("console:develop.features.applications.notifications.addApplication.success.message")}));var t=e.headers.location,n=t.substring(t.lastIndexOf("/")+1);Oe?ke(n):Qe(n)})).catch((function(e){var t,n,o;if(403!==(null==e||null===(t=e.response)||void 0===t?void 0:t.status)||(null==e||null===(n=e.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.code)!==E.jo.ERROR_CREATE_LIMIT_REACHED.getErrorCode())if(e.response&&e.response.data&&e.response.data.code&&e.response.data.code===E.jo.ERROR_CODE_ISSUER_EXISTS)ge&&(_e!==S.T6.MANUAL?(Ve({description:e.response.data.description,level:a.QU.ERROR,message:A("console:develop.features.applications.notifications.addApplication.error.message")}),tt()):(Je("issuer",!0),Ye("issuer")));else if(e.response&&e.response.data&&e.response.data.code&&e.response.data.code===E.jo.ERROR_CODE_INVALID_METADATA_URL)ge&&(Je("metaUrl",!0),Ye("metaUrl"));else{if(e.response&&e.response.data&&e.response.data.description)return Ve({description:e.response.data.description,level:a.QU.ERROR,message:A("console:develop.features.applications.notifications.addApplication.error.message")}),void tt();Ve({description:A("console:develop.features.applications.notifications.addApplication.genericError.description"),level:a.QU.ERROR,message:A("console:develop.features.applications.notifications.addApplication.genericError.message")}),tt()}else Ce(!0)})).finally((function(){ee(!1),Xe(!1),Je("all",!1)}))}}}),[ne,G]);var qe,We,Ge,Qe=function(e){if(!(0,L.Z)(e)){var t="?",n=0;return F&&(t="".concat(t,"&").concat(E.jo.CLIENT_SECRET_HASH_ENABLED_URL_SEARCH_PARAM_KEY,"=true")),ae.id===ut.id&&(n=m.applicationConfig.customApplication.defaultTabIndex),void h.m8.push({hash:"#".concat(S.El.TAB_INDEX).concat(n),pathname:h.$x.getPaths().get("APPLICATION_EDIT").replace(":id",e),search:t})}h.m8.push(h.$x.getPaths().get("APPLICATIONS"))},Ke=function(){n()},$e=function(e,t){v!==S.IJ.LOCAL?(0,y.FG)(e).then((function(e){q(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?w((0,r.V_)({description:e.response.data.description,level:a.QU.ERROR,message:A("console:develop.features.applications.notifications.fetchTemplate.error.message")})):w((0,r.V_)({description:A("console:develop.features.applications.notifications.fetchTemplate.genericError.description"),level:a.QU.ERROR,message:A("console:develop.features.applications.notifications.fetchTemplate.genericError.message")}))})):q(t)},Ye=function(e){var t={behavior:"smooth",block:"center"};switch(e){case"name":Pe.current.scrollIntoView(t);break;case"issuer":Ue.current.scrollIntoView(t);var n=Ue.current.children[0].children[1].children[0];n.focus(),n.blur();break;case"metaUrl":Me.current.scrollIntoView(t);var o=Me.current.children[0].children[1].children[0];o.focus(),o.blur()}},Xe=function(e){ye(e)},Je=function(e,t){switch(e){case"issuer":pe(t);break;case"metaUrl":ve(t);break;default:ve(t),pe(t)}},tt=function(){document.getElementById("notification-div").scrollIntoView({behavior:"smooth"})},nt=function(){var e,t=(e=ai().mark((function e(t,n){var o,i,l,s;return ai().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.toString().trim(),it(o)){e.next=5;break}return n.isValid=!1,n.errorMessages.push(A("console:develop.features.applications.forms.spaProtocolSettingsWizard.fields.name.validations.invalid",{appName:t.toString(),characterLimit:E.jo.FORM_FIELD_CONSTRAINTS.APP_NAME_MAX_LENGTH})),e.abrupt("return");case 5:if(!ot(o)){e.next=9;break}return n.isValid=!1,n.errorMessages.push(A("console:develop.features.applications.forms.generalDetails.fields.name.validations.reserved",{appName:o,characterLimit:E.jo.FORM_FIELD_CONSTRAINTS.APP_NAME_MAX_LENGTH})),e.abrupt("return");case 9:return i=null,e.prev=10,e.next=13,(0,y.AY)(null,null,"name eq "+t.toString());case 13:i=e.sent,(null===(l=i)||void 0===l||null===(s=l.applications)||void 0===s?void 0:s.length)>0&&(n.isValid=!1,n.errorMessages.push(A("console:develop.features.applications.forms.generalDetails.fields.name.validations.duplicate"))),e.next=23;break;case 17:if(e.prev=17,e.t0=e.catch(10),!(e.t0.response&&e.t0.response.data&&e.t0.response.data.description)){e.next=22;break}return w((0,r.V_)({description:e.t0.response.data.description,level:a.QU.ERROR,message:A("console:develop.features.applications.notifications.fetchApplications.error.message")})),e.abrupt("return");case 22:w((0,r.V_)({description:A("console:develop.features.applications.notifications.fetchApplications.genericError.description"),level:a.QU.ERROR,message:A("console:develop.features.applications.notifications.fetchApplications.genericError.message")}));case 23:case"end":return e.stop()}}),e,null,[[10,17]])})),function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function r(e){ri(a,o,i,r,l,"next",e)}function l(e){ri(a,o,i,r,l,"throw",e)}r(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),ot=function(e){if(!Z)return!1;var t=new RegExp(Z);return e&&t.test(e)},it=function(e){return e&&!!e.match(E.jo.FORM_FIELD_CONSTRAINTS.APP_NAME_PATTERN)},at=function(){var e=d&&d instanceof Array&&d.length>0,t=ae.id===ut.id;if(!e&&!t)return null;if("mobile"===o.id||"desktop"===o.id)return null;var n=t?function(e){var t=Object.values(S.AI);t=t.filter((function(t){return m.applicationConfig.customApplication.allowedProtocolTypes&&m.applicationConfig.customApplication.allowedProtocolTypes.length>0?!!m.applicationConfig.customApplication.allowedProtocolTypes.includes(t)&&t:!(t===S.AI.WS_TRUST||t===S.AI.OIDC||t===S.AI.CUSTOM||e&&t===e)&&t}));var n=[S.AI.OAUTH2_OIDC,S.AI.SAML,S.AI.WS_FEDERATION];return(0,M.Z)(t,(function(e){return n.indexOf(e)}))}():d;return s.createElement(P.Z.Row,{className:"pt-0 mt-0"},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:14},s.createElement("div",{className:"sub-template-selection"},s.createElement("label",{className:"sub-templates-label"},p),s.createElement(Fo.Z.Group,{itemsPerRow:3,className:"sub-templates"},n.map((function(e,n){var o=t?e:e.id,i=t?e:e.image,a=t?e===S.AI.OAUTH2_OIDC?s.createElement(s.Fragment,null,s.createElement("div",null,"OAuth2.0"),s.createElement("div",null,"OpenID Connect")):C.yf.resolveProtocolDisplayName(e):e.name,r=t?$===e:ae.id===e.id,c=!t&&e.previewOnly;return s.createElement(l.B0,{key:n,image:oi(oi({},(0,ct.B0)()),(0,h.r2)())[i],size:"small",className:"sub-template-selection-card",header:a,selected:r,onClick:function(){e.previewOnly||(t?Y(e):(re(e),$e(e.id,e)))},imageSize:"x30",imageOptions:{relaxed:!0,square:!1,width:"auto"},contentTopBorder:!1,showTooltips:!1,renderDisabledItemsAsGrayscale:!1,disabled:c,overlay:s.createElement(jo.Z,{className:"lighter",active:!0},A("common:featureAvailable")),overlayOpacity:.6,"data-testid":"".concat(b,"-").concat(o,"-card")})}))),s.createElement(be.Z,{hidden:!0}))))};return s.createElement(s.Fragment,null,Se&&s.createElement(Vo.P,{actionLabel:A("console:develop.features.applications.notifications.tierLimitReachedError.emptyPlaceholder.action"),handleModalClose:function(){Ce(!1),Ke()},header:A("console:develop.features.applications.notifications.tierLimitReachedError.heading"),description:A("console:develop.features.applications.notifications.tierLimitReachedError.emptyPlaceholder.subtitles"),message:A("console:develop.features.applications.notifications.tierLimitReachedError.emptyPlaceholder.title"),openModal:Se}),s.createElement(h.wv,{open:!Se&&!Te,className:"wizard minimal-application-create-wizard",dimmer:"blurring",onClose:Ke,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(b,"-modal")},s.createElement(h.wv.MainPanel,null,s.createElement(h.wv.Header,{className:"wizard-header"},t,f&&s.createElement(l.X6,{as:"h6"},f,s.createElement(l.eb,{link:(null==ae?void 0:ae.templateId)===S.u.SPA?O("develop.applications.newApplication.singlePageApplication.learnMore"):(null==ae?void 0:ae.templateId)===S.u.OIDC_WEB_APPLICATION?O("develop.applications.newApplication.oidcApplication.learnMore"):(null==ae?void 0:ae.templateId)===S.u.SAML_WEB_APPLICATION?O("develop.applications.newApplication.samlApplication.learnMore"):(null==ae?void 0:ae.templateId)===S.u.MOBILE_APPLICATION?O("develop.applications.newApplication.mobileApplication.learnMore"):void 0},A("common:learnMore")))),s.createElement(h.wv.Content,null,s.createElement(Be.Es,{onSubmit:function(e){oe(e),D()},onSubmitError:function(e,t){for(var n=e.entries(),o=n.next();!o.done;){if(!o.value[1]||!t.get(o.value[0]).isValid){Ye(o.value[0]);break}o=n.next()}},submitState:k,id:"name-input"},s.createElement(P.Z,null,Fe&&s.createElement(P.Z.Row,{columns:1,id:"notification-div"},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:14},He)),s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:14},s.createElement(Be.gN,{name:"name",ref:Pe,label:A("console:develop.features.applications.forms.generalDetails.fields.name.label"),required:!0,requiredErrorMessage:A("console:develop.features.applications.forms.generalDetails.fields.name.validations.empty"),placeholder:A("console:develop.features.applications.forms.generalDetails.fields.name.placeholder"),type:"text","data-testid":"".concat(b,"-application-name-input"),validation:nt,displayErrorOn:"blur",maxLength:E.jo.FORM_FIELD_CONSTRAINTS.APP_NAME_MAX_LENGTH}))),at(),s.createElement(P.Z.Row,{className:"pt-0 mt-0"},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:14},(Ge=ae.authenticationProtocol,ae.id===ut.id&&(Ge=$),Ge===S.AI.OIDC?s.createElement(no,{isProtocolConfig:!1,tenantDomain:I,allowedOrigins:se,fields:["callbackURLs"],hideFieldHints:!0,triggerSubmit:_,templateValues:null==B?void 0:B.application,onSubmit:function(e){return Q(e)},showCallbackURL:!0,addOriginByDefault:ae.id===ft.id,isAllowEnabled:!(ae.id===ft.id),"data-testid":"".concat(b,"-oauth-protocol-settings-form"),selectedTemplate:ae}):Ge===S.AI.SAML?s.createElement(ho,{issuerRef:Ue,issuerError:de,metaUrlRef:Me,metaUrlError:me,handleProtocolValueChange:Xe,fields:["issuer","assertionConsumerURLs"],hideFieldHints:!0,triggerSubmit:_,templateValues:null==B?void 0:B.application,onSubmit:function(e){return Q(e)},setSAMLConfigureMode:Ze,"data-testid":"".concat(b,"-saml-protocol-settings-form")}):void 0))),$===S.AI.OAUTH2_OIDC&&"custom-application"===(null==ae?void 0:ae.templateId)&&s.createElement("div",{className:"pt-0 mt-0"},s.createElement(Be.gN,{"data-testid":"".concat(b,"-management-app-checkbox"),name:"isManagementApp",required:!1,requiredErrorMessage:"is required",type:"checkbox",value:["isManagementApp"],children:[{label:A("console:develop.features.applications.forms.generalDetails.fields.isManagementApp.label"),value:"manageApp"}]}),s.createElement(l.kW,{compact:!0},A("console:develop.features.applications.forms.generalDetails.fields.isManagementApp.hint"))),isOrganizationManagementEnabled&&m.applicationConfig.editApplication.showApplicationShare&&(H||window.AppUtils.getConfig().organizationName)&&(0,i.Xr)(null==T?void 0:T.applications,null==T||null===(qe=T.applications)||void 0===qe||null===(We=qe.scopes)||void 0===We?void 0:We.update,R)&&V!==g.$B.SUBORGANIZATION&&s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:14},s.createElement("div",{className:"pt-0 mt-0"},s.createElement(j.Z,{onChange:function(e,t){we(t.checked)},label:A("console:develop.features.applications.forms.generalDetails.fields.isSharingEnabled.label")}),s.createElement(l.kW,{inline:!0,popup:!0},A("console:develop.features.applications.forms.generalDetails.fields.isSharingEnabled.hint")))))))),s.createElement(h.wv.Actions,null,s.createElement(P.Z,null,s.createElement(P.Z.Row,{column:1},s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:8},s.createElement(l.Qj,{floated:"left",onClick:Ke},A("common:cancel"))),s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:8},s.createElement(l.KM,{floated:"right",onClick:function(){pe(!1),U()},"data-testid":"".concat(b,"-next-button"),loading:J,disabled:J},A("common:register"))))))),function(){var e,t,n;if(null==ae||null===(e=ae.content)||void 0===e||!e.wizardHelp)return null;var o,i,a=ae.content.wizardHelp;ae.authenticationProtocol===S.AI.SAML&&_e===S.T6.META_FILE&&null!==(t=ae.content)&&void 0!==t&&t.wizardHelp2&&(a=null===(o=ae.content)||void 0===o?void 0:o.wizardHelp2);ae.authenticationProtocol===S.AI.SAML&&_e===S.T6.META_URL&&null!==(n=ae.content)&&void 0!==n&&n.wizardHelp3&&(a=null===(i=ae.content)||void 0===i?void 0:i.wizardHelp3);return s.createElement(h.wv.SidePanel,null,s.createElement(h.wv.Header,{className:"wizard-header help-panel-header muted"},s.createElement("div",{className:"help-panel-header-text"},A("console:develop.features.applications.wizards.minimalAppCreationWizard.help.heading"))),s.createElement(h.wv.Content,null,s.createElement(s.Suspense,{fallback:s.createElement(l.pO,null)},s.createElement(a,null))))}()),Te&&s.createElement(ei,{open:Te,applicationId:Ne,onClose:function(){return Re(!1)},onApplicationSharingCompleted:function(){Re(!1),Qe(Ne)}}))};function ui(e){return function(e){if(Array.isArray(e))return fi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||pi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function di(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||pi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pi(e,t){if(e){if("string"==typeof e)return fi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fi(e,t):void 0}}function fi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}ci.defaultProps={"data-testid":"minimal-application-create-wizard",showHelpPanel:!0};var mi=function(e){var t,n,o,i,d=e.application,p=e.onUpdate,m=e.readOnly,v=e.defaultActiveIndexes,g=e["data-testid"],b=(0,c.$)().t,E=(0,u.I0)(),S=di((0,s.useState)(!1),2),C=S[0],A=S[1],O=di((0,s.useState)(!1),2),w=O[0],I=O[1],T=di((0,s.useState)(!1),2),R=T[0],L=T[1],N=di((0,s.useState)(void 0),2),k=N[0],U=N[1],M=di((0,s.useState)(v),2),x=M[0],D=M[1],Z=di((0,l.ZK)(),3),j=Z[0],F=Z[1],H=Z[2],z=di((0,s.useState)(void 0),2),B=z[0],q=z[1];(0,s.useEffect)((function(){k||(0,en.SN)().then((function(e){U(e.identityProviders)}))}),[]);var W=function(e,t){if(t){var n=ui(x);if(n.includes(t.accordionIndex)){var o=n.indexOf(t.accordionIndex);n.splice(o,1)}else n.push(t.accordionIndex);D(n)}},G=function(e){!function(e,t){L(!0),(0,y.TH)(e,t).then((function(){E((0,r.V_)({description:b("console:develop.features.applications.notifications.updateApplication.success.description"),level:a.QU.SUCCESS,message:b("console:develop.features.applications.notifications.updateApplication.success.message")})),p(d.id)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?E((0,r.V_)({description:e.response.data.description,level:a.QU.ERROR,message:b("console:develop.features.applications.notifications.updateApplication.error.message")})):E((0,r.V_)({description:b("console:develop.features.applications.notifications.updateApplication.genericError.description"),level:a.QU.ERROR,message:b("console:develop.features.applications.notifications.updateApplication.genericError.message")}))})).finally((function(){L(!1)}))}(d.id,function(e){var t,n=null==d||null===(t=d.provisioningConfigurations)||void 0===t?void 0:t.outboundProvisioningIdps,o=n.find((function(t){return t.idp===e.idp&&t.connector===e.connector}));return n.splice(n.indexOf(o),1),n.push(e),{provisioningConfigurations:{outboundProvisioningIdps:n}}}(e))};return s.createElement(s.Fragment,null,s.createElement(l.X6,{as:"h4"},b("console:develop.features.applications.edit.sections.provisioning.outbound.heading")),s.createElement(l.X6,{subHeading:!0,as:"h6"},b("console:develop.features.applications.edit.sections.provisioning.outbound.subHeading")),s.createElement(be.Z,{hidden:!0}),(null==d||null===(t=d.provisioningConfigurations)||void 0===t||null===(n=t.outboundProvisioningIdps)||void 0===n?void 0:n.length)>0?s.createElement(P.Z,null,!m&&s.createElement(P.Z.Row,null,s.createElement(P.Z.Column,null,s.createElement(l.KM,{floated:"right",onClick:function(){return A(!0)},"data-testid":"".concat(g,"-new-idp-button")},s.createElement(f.Z,{name:"add"}),b("console:develop.features.applications.edit.sections.provisioning.outbound.actions.addIdp")))),s.createElement(P.Z.Row,null,s.createElement(P.Z.Column,null,null==d||null===(o=d.provisioningConfigurations)||void 0===o||null===(i=o.outboundProvisioningIdps)||void 0===i?void 0:i.map((function(e,t){return s.createElement(h.Us,{key:e.idp,globalActions:!m&&[{icon:"trash alternate",onClick:function(){I(!0),q(e)},type:"icon"}],authenticators:[{content:s.createElement(xo,{initialValues:e,triggerSubmit:null,onSubmit:function(e){G(e)},idpList:k,isEdit:!0,"data-testid":"".concat(g,"-form"),isSubmitting:R}),id:null==e?void 0:e.idp,title:null==e?void 0:e.idp}],accordionActiveIndexes:x,accordionIndex:t,handleAccordionOnClick:W,"data-testid":"".concat(g,"-outbound-connector-accordion")})}))))):s.createElement(P.Z,null,s.createElement(P.Z.Row,null,s.createElement(P.Z.Column,{width:16},s.createElement(V.Z,null,s.createElement(l.$J,{title:b("console:develop.features.applications.placeholders.emptyOutboundProvisioningIDPs.title"),image:(0,h.jF)().emptyList,subtitle:[b("console:develop.features.applications.placeholders.emptyOutboundProvisioningIDPs.subtitles")],imageSize:"tiny",action:!m&&s.createElement(l.KM,{onClick:function(){return A(!0)}},s.createElement(f.Z,{name:"add"}),b("console:develop.features.applications.placeholders.emptyOutboundProvisioningIDPs.action"))}))))),B&&s.createElement(l.cV,{onClose:function(){return I(!1)},type:"negative",open:w,assertion:null==B?void 0:B.idp,assertionHint:s.createElement("p",null,s.createElement(_.c,{i18nKey:"console:develop.features.applications.confirmations.deleteOutboundProvisioningIDP.assertionHint",tOptions:{name:null==B?void 0:B.idp}},"Please type ",s.createElement("strong",null,null==B?void 0:B.idp)," to confirm.")),assertionType:"input",primaryAction:"Confirm",secondaryAction:"Cancel",onSecondaryActionClick:function(){I(!1),F(null)},onPrimaryActionClick:function(){return function(e){var t,n=null==d||null===(t=d.provisioningConfigurations)||void 0===t?void 0:t.outboundProvisioningIdps,o=ui(n);o.splice(n.indexOf(e),1);var i={provisioningConfigurations:{outboundProvisioningIdps:o}};(0,y.TH)(d.id,i).then((function(){E((0,r.V_)({description:b("console:develop.features.applications.notifications.updateApplication.success.description"),level:a.QU.SUCCESS,message:b("console:develop.features.applications.notifications.updateApplication.success.message")})),p(d.id),I(!1)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?E(F({description:e.response.data.description,level:a.QU.ERROR,message:b("console:develop.features.applications.notifications.updateApplication.error.message")})):E(F({description:b("console:develop.features.applications.notifications.updateApplication.genericError.description"),level:a.QU.ERROR,message:b("console:develop.features.applications.notifications.updateApplication.genericError.message")}))}))}(B)},"data-testid":"".concat(g,"-connector-delete-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(g,"-connector-delete-confirmation-modal-header")},b("console:develop.features.applications.confirmations.deleteOutboundProvisioningIDP.header")),s.createElement(l.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(g,"-connector-delete-confirmation-modal-message")},b("console:develop.features.applications.confirmations.deleteOutboundProvisioningIDP.message")),s.createElement(l.cV.Content,{"data-testid":"".concat(g,"-connector-delete-confirmation-modal-content")},s.createElement("div",{className:"modal-alert-wrapper"}," ",j&&H),b("console:develop.features.applications.confirmations.deleteOutboundProvisioningIDP.content"))),C&&s.createElement(Zo,{closeWizard:function(){return A(!1)},application:d,onUpdate:p,"data-testid":"".concat(g,"-idp-create-wizard")}))};mi.defaultProps={"data-testid":"application-outbound-provisioning-configurations",defaultActiveIndexes:[-1]};var vi=function(e){var t,n,o,a,r=e.application,l=e.featureConfig,c=e.provisioningConfigurations,d=e.onUpdate,p=e.readOnly,f=e["data-testid"],m=(0,u.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes}));return s.createElement(P.Z,null,s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:12},s.createElement(Dn,{appId:r.id,provisioningConfigurations:c,onUpdate:d,readOnly:p||!(0,i.Xr)(null==l?void 0:l.applications,null==l||null===(t=l.applications)||void 0===t||null===(n=t.scopes)||void 0===n?void 0:n.update,m),"data-testid":"".concat(f,"-inbound-configuration")}))),s.createElement(P.Z.Row,null,s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:12},s.createElement(mi,{application:r,provisioningConfigurations:c,onUpdate:d,readOnly:p||!(0,i.Xr)(null==l?void 0:l.applications,null==l||null===(o=l.applications)||void 0===o||null===(a=o.scopes)||void 0===a?void 0:a.update,m),"data-testid":"".concat(f,"-outbound-configuration")}))))};vi.defaultProps={"data-testid":"provisioning-settings"};var hi=n(47533),gi=function(e){var t=e.children,n=e.ifAllowed,o="".concat(n,".enabled"),i=(0,s.useContext)(hi.K);return(0,et.Z)(i.features,o)?s.createElement(s.Fragment,null,t):null},bi=n(34936),yi=n(63987),Ei=n.n(yi);function Si(e){return function(t){return typeof t===e}}var Ci=Si("function"),Ai=function(e){return"RegExp"===Object.prototype.toString.call(e).slice(8,-1)},Oi=function(e){return!wi(e)&&!function(e){return null===e}(e)&&(Ci(e)||"object"==typeof e)},wi=Si("undefined"),Ii=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function Ti(e,t){if(e===t)return!0;if(e&&Oi(e)&&t&&Oi(t)){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)&&Array.isArray(t))return function(e,t){var n=e.length;if(n!==t.length)return!1;for(var o=n;0!=o--;)if(!Ti(e[o],t[o]))return!1;return!0}(e,t);if(e instanceof Map&&t instanceof Map)return function(e,t){var n,o,i,a;if(e.size!==t.size)return!1;try{for(var r=Ii(e.entries()),l=r.next();!l.done;l=r.next()){var s=l.value;if(!t.has(s[0]))return!1}}catch(d){n={error:d}}finally{try{l&&!l.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}try{for(var c=Ii(e.entries()),u=c.next();!u.done;u=c.next())if(!Ti((s=u.value)[1],t.get(s[0])))return!1}catch(p){i={error:p}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}return!0}(e,t);if(e instanceof Set&&t instanceof Set)return function(e,t){var n,o;if(e.size!==t.size)return!1;try{for(var i=Ii(e.entries()),a=i.next();!a.done;a=i.next()){var r=a.value;if(!t.has(r[0]))return!1}}catch(l){n={error:l}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return!0}(e,t);if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return function(e,t){if(e.byteLength!==t.byteLength)return!1;for(var n=new DataView(e.buffer),o=new DataView(t.buffer),i=e.byteLength;i--;)if(n.getUint8(i)!==o.getUint8(i))return!1;return!0}(e,t);if(Ai(e)&&Ai(t))return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var i=n.length;0!=i--;)if(!Object.prototype.hasOwnProperty.call(t,n[i]))return!1;for(i=n.length;0!=i--;){var a=n[i];if(("_owner"!==a||!e.$$typeof)&&!Ti(e[a],t[a]))return!1}return!0}return!(!Number.isNaN(e)||!Number.isNaN(t))||e===t}var Ri=["innerHTML","ownerDocument","style","attributes","nodeValue"],Li=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],Ni=["bigint","boolean","null","number","string","symbol","undefined"];function ki(e){var t,n=Object.prototype.toString.call(e).slice(8,-1);return/HTML\w+Element/.test(n)?"HTMLElement":(t=n,Li.includes(t)?n:void 0)}function Pi(e){return function(t){return ki(t)===e}}function Ui(e){return function(t){return typeof t===e}}function Mi(e){if(null===e)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(Mi.array(e))return"Array";if(Mi.plainFunction(e))return"Function";var t=ki(e);return t||"Object"}Mi.array=Array.isArray,Mi.arrayOf=function(e,t){return!(!Mi.array(e)&&!Mi.function(t))&&e.every((function(e){return t(e)}))},Mi.asyncGeneratorFunction=function(e){return"AsyncGeneratorFunction"===ki(e)},Mi.asyncFunction=Pi("AsyncFunction"),Mi.bigint=Ui("bigint"),Mi.boolean=function(e){return!0===e||!1===e},Mi.date=Pi("Date"),Mi.defined=function(e){return!Mi.undefined(e)},Mi.domElement=function(e){return Mi.object(e)&&!Mi.plainObject(e)&&1===e.nodeType&&Mi.string(e.nodeName)&&Ri.every((function(t){return t in e}))},Mi.empty=function(e){return Mi.string(e)&&0===e.length||Mi.array(e)&&0===e.length||Mi.object(e)&&!Mi.map(e)&&!Mi.set(e)&&0===Object.keys(e).length||Mi.set(e)&&0===e.size||Mi.map(e)&&0===e.size},Mi.error=Pi("Error"),Mi.function=Ui("function"),Mi.generator=function(e){return Mi.iterable(e)&&Mi.function(e.next)&&Mi.function(e.throw)},Mi.generatorFunction=Pi("GeneratorFunction"),Mi.instanceOf=function(e,t){return!(!e||!t)&&Object.getPrototypeOf(e)===t.prototype},Mi.iterable=function(e){return!Mi.nullOrUndefined(e)&&Mi.function(e[Symbol.iterator])},Mi.map=Pi("Map"),Mi.nan=function(e){return Number.isNaN(e)},Mi.null=function(e){return null===e},Mi.nullOrUndefined=function(e){return Mi.null(e)||Mi.undefined(e)},Mi.number=function(e){return Ui("number")(e)&&!Mi.nan(e)},Mi.numericString=function(e){return Mi.string(e)&&e.length>0&&!Number.isNaN(Number(e))},Mi.object=function(e){return!Mi.nullOrUndefined(e)&&(Mi.function(e)||"object"==typeof e)},Mi.oneOf=function(e,t){return!!Mi.array(e)&&e.indexOf(t)>-1},Mi.plainFunction=Pi("Function"),Mi.plainObject=function(e){if("Object"!==ki(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.getPrototypeOf({})},Mi.primitive=function(e){return Mi.null(e)||(t=typeof e,Ni.includes(t));var t},Mi.promise=Pi("Promise"),Mi.propertyOf=function(e,t,n){if(!Mi.object(e)||!t)return!1;var o=e[t];return Mi.function(n)?n(o):Mi.defined(o)},Mi.regexp=Pi("RegExp"),Mi.set=Pi("Set"),Mi.string=Ui("string"),Mi.symbol=Ui("symbol"),Mi.undefined=Ui("undefined"),Mi.weakMap=Pi("WeakMap"),Mi.weakSet=Pi("WeakSet");const xi=Mi;function _i(e,t,n){var o=n.actual,i=n.key,a=n.previous,r=n.type,l=Bi(e,i),s=Bi(t,i),c=[l,s].every(xi.number)&&("increased"===r?l<s:l>s);return xi.undefined(o)||(c=c&&s===o),xi.undefined(a)||(c=c&&l===a),c}function Di(e,t,n){var o=n.key,i=n.type,a=n.value,r=Bi(e,o),l=Bi(t,o),s="added"===i?r:l,c="added"===i?l:r;return xi.nullOrUndefined(a)?[r,l].every(xi.array)?!c.every(Hi(s)):[r,l].every(xi.plainObject)?function(e,t){return t.some((function(t){return!e.includes(t)}))}(Object.keys(s),Object.keys(c)):![r,l].every((function(e){return xi.primitive(e)&&xi.defined(e)}))&&("added"===i?!xi.defined(r)&&xi.defined(l):xi.defined(r)&&!xi.defined(l)):xi.defined(s)?!(!xi.array(s)&&!xi.plainObject(s))&&function(e,t,n){return!!zi(e,t)&&([e,t].every(xi.array)?!e.some(Fi(n))&&t.some(Fi(n)):[e,t].every(xi.plainObject)?!Object.entries(e).some(ji(n))&&Object.entries(t).some(ji(n)):t===n)}(s,c,a):Ti(c,a)}function Zi(e,t,n){var o=(void 0===n?{}:n).key,i=Bi(e,o),a=Bi(t,o);if(!zi(i,a))throw new TypeError("Inputs have different types");if(!function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every((function(e){return xi.string(e)||xi.array(e)||xi.plainObject(e)}))}(i,a))throw new TypeError("Inputs don't have length");return[i,a].every(xi.plainObject)&&(i=Object.keys(i),a=Object.keys(a)),[i,a]}function ji(e){return function(t){var n=t[0],o=t[1];return xi.array(e)?Ti(e,o)||e.some((function(e){return Ti(e,o)||xi.array(o)&&Hi(o)(e)})):xi.plainObject(e)&&e[n]?!!e[n]&&Ti(e[n],o):Ti(e,o)}}function Fi(e){return function(t){return xi.array(e)?e.some((function(e){return Ti(e,t)||xi.array(t)&&Hi(t)(e)})):Ti(e,t)}}function Vi(e,t){return xi.array(e)?e.some((function(e){return Ti(e,t)})):Ti(e,t)}function Hi(e){return function(t){return e.some((function(e){return Ti(e,t)}))}}function zi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every(xi.array)||e.every(xi.number)||e.every(xi.plainObject)||e.every(xi.string)}function Bi(e,t){return xi.plainObject(e)||xi.array(e)?xi.string(t)?t.split(".").reduce((function(e,t){return e&&e[t]}),e):xi.number(t)?e[t]:e:e}function qi(e,t){if([e,t].some(xi.nullOrUndefined))throw new Error("Missing required parameters");if(![e,t].every((function(e){return xi.plainObject(e)||xi.array(e)})))throw new Error("Expected plain objects or array");var n=function(n,o,i){try{var a=Bi(e,n),r=Bi(t,n),l=xi.defined(o),s=xi.defined(i);if(l||s){var c=s?Vi(i,a):!Vi(o,a),u=Vi(o,r);return c&&u}return[a,r].every(xi.array)||[a,r].every(xi.plainObject)?!Ti(a,r):a!==r}catch(d){return!1}};return{added:function(n,o){try{return Di(e,t,{key:n,type:"added",value:o})}catch(i){return!1}},changed:n,changedFrom:function(n,o,i){if(!xi.defined(n))return!1;try{var a=Bi(e,n),r=Bi(t,n),l=xi.defined(i);return Vi(o,a)&&(l?Vi(i,r):!l)}catch(s){return!1}},changedTo:function(e,t){return!!xi.defined(e)&&n(e,t)},decreased:function(n,o,i){if(!xi.defined(n))return!1;try{return _i(e,t,{key:n,actual:o,previous:i,type:"decreased"})}catch(a){return!1}},emptied:function(n){try{var o=Zi(e,t,{key:n}),i=o[0],a=o[1];return!!i.length&&!a.length}catch(r){return!1}},filled:function(n){try{var o=Zi(e,t,{key:n}),i=o[0],a=o[1];return!i.length&&!!a.length}catch(r){return!1}},increased:function(n,o,i){if(!xi.defined(n))return!1;try{return _i(e,t,{key:n,actual:o,previous:i,type:"increased"})}catch(a){return!1}},removed:function(n,o){try{return Di(e,t,{key:n,type:"removed",value:o})}catch(i){return!1}}}}var Wi=n(63730),Gi=n(51979),Qi=n.n(Gi),Ki=n(48879),$i=n.n(Ki),Yi=n(47929),Xi=n.n(Yi),Ji=n(99415),ea=n(9942),ta=n.n(ea),na=n(7862),oa=n.n(na),ia=n(46004),aa="undefined"!=typeof document&&"undefined"!=typeof navigator,ra=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(aa&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var la=aa&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),ra))}};function sa(e){return e&&"[object Function]"==={}.toString.call(e)}function ca(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function ua(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function da(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=ca(e),n=t.overflow,o=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+o)?e:da(ua(e))}function pa(e){return e&&e.referenceNode?e.referenceNode:e}var fa=aa&&!(!window.MSInputMethodContext||!document.documentMode),ma=aa&&/MSIE 10/.test(navigator.userAgent);function va(e){return 11===e?fa:10===e?ma:fa||ma}function ha(e){if(!e)return document.documentElement;for(var t=va(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var o=n&&n.nodeName;return o&&"BODY"!==o&&"HTML"!==o?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===ca(n,"position")?ha(n):n:e?e.ownerDocument.documentElement:document.documentElement}function ga(e){return null!==e.parentNode?ga(e.parentNode):e}function ba(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,o=n?e:t,i=n?t:e,a=document.createRange();a.setStart(o,0),a.setEnd(i,0);var r,l,s=a.commonAncestorContainer;if(e!==s&&t!==s||o.contains(i))return"BODY"===(l=(r=s).nodeName)||"HTML"!==l&&ha(r.firstElementChild)!==r?ha(s):s;var c=ga(e);return c.host?ba(c.host,t):ba(e,ga(t).host)}function ya(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",o=e.nodeName;if("BODY"===o||"HTML"===o){var i=e.ownerDocument.documentElement,a=e.ownerDocument.scrollingElement||i;return a[n]}return e[n]}function Ea(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=ya(t,"top"),i=ya(t,"left"),a=n?-1:1;return e.top+=o*a,e.bottom+=o*a,e.left+=i*a,e.right+=i*a,e}function Sa(e,t){var n="x"===t?"Left":"Top",o="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+o+"Width"])}function Ca(e,t,n,o){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],va(10)?parseInt(n["offset"+e])+parseInt(o["margin"+("Height"===e?"Top":"Left")])+parseInt(o["margin"+("Height"===e?"Bottom":"Right")]):0)}function Aa(e){var t=e.body,n=e.documentElement,o=va(10)&&getComputedStyle(n);return{height:Ca("Height",t,n,o),width:Ca("Width",t,n,o)}}var Oa=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},wa=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),Ia=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Ta=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function Ra(e){return Ta({},e,{right:e.left+e.width,bottom:e.top+e.height})}function La(e){var t={};try{if(va(10)){t=e.getBoundingClientRect();var n=ya(e,"top"),o=ya(e,"left");t.top+=n,t.left+=o,t.bottom+=n,t.right+=o}else t=e.getBoundingClientRect()}catch(d){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},a="HTML"===e.nodeName?Aa(e.ownerDocument):{},r=a.width||e.clientWidth||i.width,l=a.height||e.clientHeight||i.height,s=e.offsetWidth-r,c=e.offsetHeight-l;if(s||c){var u=ca(e);s-=Sa(u,"x"),c-=Sa(u,"y"),i.width-=s,i.height-=c}return Ra(i)}function Na(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=va(10),i="HTML"===t.nodeName,a=La(e),r=La(t),l=da(e),s=ca(t),c=parseFloat(s.borderTopWidth),u=parseFloat(s.borderLeftWidth);n&&i&&(r.top=Math.max(r.top,0),r.left=Math.max(r.left,0));var d=Ra({top:a.top-r.top-c,left:a.left-r.left-u,width:a.width,height:a.height});if(d.marginTop=0,d.marginLeft=0,!o&&i){var p=parseFloat(s.marginTop),f=parseFloat(s.marginLeft);d.top-=c-p,d.bottom-=c-p,d.left-=u-f,d.right-=u-f,d.marginTop=p,d.marginLeft=f}return(o&&!n?t.contains(l):t===l&&"BODY"!==l.nodeName)&&(d=Ea(d,t)),d}function ka(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,o=Na(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),a=Math.max(n.clientHeight,window.innerHeight||0),r=t?0:ya(n),l=t?0:ya(n,"left"),s={top:r-o.top+o.marginTop,left:l-o.left+o.marginLeft,width:i,height:a};return Ra(s)}function Pa(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===ca(e,"position"))return!0;var n=ua(e);return!!n&&Pa(n)}function Ua(e){if(!e||!e.parentElement||va())return document.documentElement;for(var t=e.parentElement;t&&"none"===ca(t,"transform");)t=t.parentElement;return t||document.documentElement}function Ma(e,t,n,o){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a={top:0,left:0},r=i?Ua(e):ba(e,pa(t));if("viewport"===o)a=ka(r,i);else{var l=void 0;"scrollParent"===o?"BODY"===(l=da(ua(t))).nodeName&&(l=e.ownerDocument.documentElement):l="window"===o?e.ownerDocument.documentElement:o;var s=Na(l,r,i);if("HTML"!==l.nodeName||Pa(r))a=s;else{var c=Aa(e.ownerDocument),u=c.height,d=c.width;a.top+=s.top-s.marginTop,a.bottom=u+s.top,a.left+=s.left-s.marginLeft,a.right=d+s.left}}var p="number"==typeof(n=n||0);return a.left+=p?n:n.left||0,a.top+=p?n:n.top||0,a.right-=p?n:n.right||0,a.bottom-=p?n:n.bottom||0,a}function xa(e){return e.width*e.height}function _a(e,t,n,o,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var r=Ma(n,o,a,i),l={top:{width:r.width,height:t.top-r.top},right:{width:r.right-t.right,height:r.height},bottom:{width:r.width,height:r.bottom-t.bottom},left:{width:t.left-r.left,height:r.height}},s=Object.keys(l).map((function(e){return Ta({key:e},l[e],{area:xa(l[e])})})).sort((function(e,t){return t.area-e.area})),c=s.filter((function(e){var t=e.width,o=e.height;return t>=n.clientWidth&&o>=n.clientHeight})),u=c.length>0?c[0].key:s[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function Da(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=o?Ua(t):ba(t,pa(n));return Na(n,i,o)}function Za(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),o=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+o,height:e.offsetHeight+n}}function ja(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function Fa(e,t,n){n=n.split("-")[0];var o=Za(e),i={width:o.width,height:o.height},a=-1!==["right","left"].indexOf(n),r=a?"top":"left",l=a?"left":"top",s=a?"height":"width",c=a?"width":"height";return i[r]=t[r]+t[s]/2-o[s]/2,i[l]=n===l?t[l]-o[c]:t[ja(l)],i}function Va(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function Ha(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var o=Va(e,(function(e){return e[t]===n}));return e.indexOf(o)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&sa(n)&&(t.offsets.popper=Ra(t.offsets.popper),t.offsets.reference=Ra(t.offsets.reference),t=n(t,e))})),t}function za(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=Da(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=_a(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=Fa(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=Ha(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function Ba(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function qa(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),o=0;o<t.length;o++){var i=t[o],a=i?""+i+n:e;if(void 0!==document.body.style[a])return a}return null}function Wa(){return this.state.isDestroyed=!0,Ba(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[qa("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Ga(e){var t=e.ownerDocument;return t?t.defaultView:window}function Qa(e,t,n,o){var i="BODY"===e.nodeName,a=i?e.ownerDocument.defaultView:e;a.addEventListener(t,n,{passive:!0}),i||Qa(da(a.parentNode),t,n,o),o.push(a)}function Ka(e,t,n,o){n.updateBound=o,Ga(e).addEventListener("resize",n.updateBound,{passive:!0});var i=da(e);return Qa(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function $a(){this.state.eventsEnabled||(this.state=Ka(this.reference,this.options,this.state,this.scheduleUpdate))}function Ya(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,Ga(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function Xa(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function Ja(e,t){Object.keys(t).forEach((function(n){var o="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&Xa(t[n])&&(o="px"),e.style[n]=t[n]+o}))}var er=aa&&/Firefox/i.test(navigator.userAgent);function tr(e,t,n){var o=Va(e,(function(e){return e.name===t})),i=!!o&&e.some((function(e){return e.name===n&&e.enabled&&e.order<o.order}));if(!i){var a="`"+t+"`",r="`"+n+"`";console.warn(r+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return i}var nr=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],or=nr.slice(3);function ir(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=or.indexOf(e),o=or.slice(n+1).concat(or.slice(0,n));return t?o.reverse():o}var ar="flip",rr="clockwise",lr="counterclockwise";function sr(e,t,n,o){var i=[0,0],a=-1!==["right","left"].indexOf(o),r=e.split(/(\+|\-)/).map((function(e){return e.trim()})),l=r.indexOf(Va(r,(function(e){return-1!==e.search(/,|\s/)})));r[l]&&-1===r[l].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var s=/\s*,\s*|\s+/,c=-1!==l?[r.slice(0,l).concat([r[l].split(s)[0]]),[r[l].split(s)[1]].concat(r.slice(l+1))]:[r];return c=c.map((function(e,o){var i=(1===o?!a:a)?"height":"width",r=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,r=!0,e):r?(e[e.length-1]+=t,r=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,o){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+i[1],r=i[2];if(!a)return e;if(0===r.indexOf("%")){return Ra("%p"===r?n:o)[t]/100*a}if("vh"===r||"vw"===r)return("vh"===r?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*a;return a}(e,i,t,n)}))})),c.forEach((function(e,t){e.forEach((function(n,o){Xa(n)&&(i[t]+=n*("-"===e[o-1]?-1:1))}))})),i}var cr={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],o=t.split("-")[1];if(o){var i=e.offsets,a=i.reference,r=i.popper,l=-1!==["bottom","top"].indexOf(n),s=l?"left":"top",c=l?"width":"height",u={start:Ia({},s,a[s]),end:Ia({},s,a[s]+a[c]-r[c])};e.offsets.popper=Ta({},r,u[o])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,o=e.placement,i=e.offsets,a=i.popper,r=i.reference,l=o.split("-")[0],s=void 0;return s=Xa(+n)?[+n,0]:sr(n,a,r,l),"left"===l?(a.top+=s[0],a.left-=s[1]):"right"===l?(a.top+=s[0],a.left+=s[1]):"top"===l?(a.left+=s[0],a.top-=s[1]):"bottom"===l&&(a.left+=s[0],a.top+=s[1]),e.popper=a,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||ha(e.instance.popper);e.instance.reference===n&&(n=ha(n));var o=qa("transform"),i=e.instance.popper.style,a=i.top,r=i.left,l=i[o];i.top="",i.left="",i[o]="";var s=Ma(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=a,i.left=r,i[o]=l,t.boundaries=s;var c=t.priority,u=e.offsets.popper,d={primary:function(e){var n=u[e];return u[e]<s[e]&&!t.escapeWithReference&&(n=Math.max(u[e],s[e])),Ia({},e,n)},secondary:function(e){var n="right"===e?"left":"top",o=u[n];return u[e]>s[e]&&!t.escapeWithReference&&(o=Math.min(u[n],s[e]-("right"===e?u.width:u.height))),Ia({},n,o)}};return c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=Ta({},u,d[t](e))})),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,o=t.reference,i=e.placement.split("-")[0],a=Math.floor,r=-1!==["top","bottom"].indexOf(i),l=r?"right":"bottom",s=r?"left":"top",c=r?"width":"height";return n[l]<a(o[s])&&(e.offsets.popper[s]=a(o[s])-n[c]),n[s]>a(o[l])&&(e.offsets.popper[s]=a(o[l])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!tr(e.instance.modifiers,"arrow","keepTogether"))return e;var o=t.element;if("string"==typeof o){if(!(o=e.instance.popper.querySelector(o)))return e}else if(!e.instance.popper.contains(o))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],a=e.offsets,r=a.popper,l=a.reference,s=-1!==["left","right"].indexOf(i),c=s?"height":"width",u=s?"Top":"Left",d=u.toLowerCase(),p=s?"left":"top",f=s?"bottom":"right",m=Za(o)[c];l[f]-m<r[d]&&(e.offsets.popper[d]-=r[d]-(l[f]-m)),l[d]+m>r[f]&&(e.offsets.popper[d]+=l[d]+m-r[f]),e.offsets.popper=Ra(e.offsets.popper);var v=l[d]+l[c]/2-m/2,h=ca(e.instance.popper),g=parseFloat(h["margin"+u]),b=parseFloat(h["border"+u+"Width"]),y=v-e.offsets.popper[d]-g-b;return y=Math.max(Math.min(r[c]-m,y),0),e.arrowElement=o,e.offsets.arrow=(Ia(n={},d,Math.round(y)),Ia(n,p,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(Ba(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=Ma(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),o=e.placement.split("-")[0],i=ja(o),a=e.placement.split("-")[1]||"",r=[];switch(t.behavior){case ar:r=[o,i];break;case rr:r=ir(o);break;case lr:r=ir(o,!0);break;default:r=t.behavior}return r.forEach((function(l,s){if(o!==l||r.length===s+1)return e;o=e.placement.split("-")[0],i=ja(o);var c=e.offsets.popper,u=e.offsets.reference,d=Math.floor,p="left"===o&&d(c.right)>d(u.left)||"right"===o&&d(c.left)<d(u.right)||"top"===o&&d(c.bottom)>d(u.top)||"bottom"===o&&d(c.top)<d(u.bottom),f=d(c.left)<d(n.left),m=d(c.right)>d(n.right),v=d(c.top)<d(n.top),h=d(c.bottom)>d(n.bottom),g="left"===o&&f||"right"===o&&m||"top"===o&&v||"bottom"===o&&h,b=-1!==["top","bottom"].indexOf(o),y=!!t.flipVariations&&(b&&"start"===a&&f||b&&"end"===a&&m||!b&&"start"===a&&v||!b&&"end"===a&&h),E=!!t.flipVariationsByContent&&(b&&"start"===a&&m||b&&"end"===a&&f||!b&&"start"===a&&h||!b&&"end"===a&&v),S=y||E;(p||g||S)&&(e.flipped=!0,(p||g)&&(o=r[s+1]),S&&(a=function(e){return"end"===e?"start":"start"===e?"end":e}(a)),e.placement=o+(a?"-"+a:""),e.offsets.popper=Ta({},e.offsets.popper,Fa(e.instance.popper,e.offsets.reference,e.placement)),e=Ha(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],o=e.offsets,i=o.popper,a=o.reference,r=-1!==["left","right"].indexOf(n),l=-1===["top","left"].indexOf(n);return i[r?"left":"top"]=a[n]-(l?i[r?"width":"height"]:0),e.placement=ja(t),e.offsets.popper=Ra(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!tr(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=Va(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,o=t.y,i=e.offsets.popper,a=Va(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==a&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var r=void 0!==a?a:t.gpuAcceleration,l=ha(e.instance.popper),s=La(l),c={position:i.position},u=function(e,t){var n=e.offsets,o=n.popper,i=n.reference,a=Math.round,r=Math.floor,l=function(e){return e},s=a(i.width),c=a(o.width),u=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),p=t?u||d||s%2==c%2?a:r:l,f=t?a:l;return{left:p(s%2==1&&c%2==1&&!d&&t?o.left-1:o.left),top:f(o.top),bottom:f(o.bottom),right:p(o.right)}}(e,window.devicePixelRatio<2||!er),d="bottom"===n?"top":"bottom",p="right"===o?"left":"right",f=qa("transform"),m=void 0,v=void 0;if(v="bottom"===d?"HTML"===l.nodeName?-l.clientHeight+u.bottom:-s.height+u.bottom:u.top,m="right"===p?"HTML"===l.nodeName?-l.clientWidth+u.right:-s.width+u.right:u.left,r&&f)c[f]="translate3d("+m+"px, "+v+"px, 0)",c[d]=0,c[p]=0,c.willChange="transform";else{var h="bottom"===d?-1:1,g="right"===p?-1:1;c[d]=v*h,c[p]=m*g,c.willChange=d+", "+p}var b={"x-placement":e.placement};return e.attributes=Ta({},b,e.attributes),e.styles=Ta({},c,e.styles),e.arrowStyles=Ta({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return Ja(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&Ja(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,o,i){var a=Da(i,t,e,n.positionFixed),r=_a(n.placement,a,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",r),Ja(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},ur={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:cr},dr=function(){function e(t,n){var o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Oa(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(o.update)},this.update=la(this.update.bind(this)),this.options=Ta({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(Ta({},e.Defaults.modifiers,i.modifiers)).forEach((function(t){o.options.modifiers[t]=Ta({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return Ta({name:e},o.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&sa(e.onLoad)&&e.onLoad(o.reference,o.popper,o.options,e,o.state)})),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return wa(e,[{key:"update",value:function(){return za.call(this)}},{key:"destroy",value:function(){return Wa.call(this)}},{key:"enableEventListeners",value:function(){return $a.call(this)}},{key:"disableEventListeners",value:function(){return Ya.call(this)}}]),e}();dr.Utils=window.PopperUtils,dr.placements=nr,dr.Defaults=ur;const pr=dr;function fr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function mr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fr(Object(n),!0).forEach((function(t){br(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function gr(e,t,n){return t&&hr(e.prototype,t),n&&hr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function br(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sr(e,t)}function Er(e){return Er=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Er(e)}function Sr(e,t){return Sr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Sr(e,t)}function Cr(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ar(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Or(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ar(e)}function wr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Er(e);if(t){var i=Er(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Or(this,n)}}var Ir={flip:{padding:20},preventOverflow:{padding:10}},Tr={INIT:"init",IDLE:"idle",OPENING:"opening",OPEN:"open",CLOSING:"closing",ERROR:"error"},Rr=Qi().canUseDOM,Lr=void 0!==Wi.createPortal;function Nr(){return"ontouchstart"in window&&/Mobi/.test(navigator.userAgent)}function kr(e){var t=e.title,n=e.data,o=e.warn,i=void 0!==o&&o,a=e.debug,r=void 0!==a&&a,l=i?console.warn||console.error:console.log;r&&t&&n&&(console.groupCollapsed("%creact-floater: ".concat(t),"color: #9b00ff; font-weight: bold; font-size: 12px;"),Array.isArray(n)?n.forEach((function(e){xi.plainObject(e)&&e.key?l.apply(console,[e.key,e.value]):l.apply(console,[e])})):l.apply(console,[n]),console.groupEnd())}function Pr(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.addEventListener(t,n,o)}function Ur(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.removeEventListener(t,n,o)}function Mr(){}var xr=function(e){yr(n,e);var t=wr(n);function n(){return vr(this,n),t.apply(this,arguments)}return gr(n,[{key:"componentDidMount",value:function(){Rr&&(this.node||this.appendNode(),Lr||this.renderPortal())}},{key:"componentDidUpdate",value:function(){Rr&&(Lr||this.renderPortal())}},{key:"componentWillUnmount",value:function(){Rr&&this.node&&(Lr||Wi.unmountComponentAtNode(this.node),this.node&&this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=void 0))}},{key:"appendNode",value:function(){var e=this.props,t=e.id,n=e.zIndex;this.node||(this.node=document.createElement("div"),t&&(this.node.id=t),n&&(this.node.style.zIndex=n),document.body.appendChild(this.node))}},{key:"renderPortal",value:function(){if(!Rr)return null;var e=this.props,t=e.children,n=e.setRef;return this.node||this.appendNode(),Lr?Wi.createPortal(t,this.node):(n(Wi.unstable_renderSubtreeIntoContainer(this,t.length>1?s.createElement("div",null,t):t[0],this.node)),null)}},{key:"renderReact16",value:function(){var e=this.props,t=e.hasChildren,n=e.placement,o=e.target;return t||o||"center"===n?this.renderPortal():null}},{key:"render",value:function(){return Lr?this.renderReact16():null}}]),n}(s.Component);br(xr,"propTypes",{children:oa().oneOfType([oa().element,oa().array]),hasChildren:oa().bool,id:oa().oneOfType([oa().string,oa().number]),placement:oa().string,setRef:oa().func.isRequired,target:oa().oneOfType([oa().object,oa().string]),zIndex:oa().number});var _r=function(e){yr(n,e);var t=wr(n);function n(){return vr(this,n),t.apply(this,arguments)}return gr(n,[{key:"parentStyle",get:function(){var e=this.props,t=e.placement,n=e.styles.arrow.length,o={pointerEvents:"none",position:"absolute",width:"100%"};return t.startsWith("top")?(o.bottom=0,o.left=0,o.right=0,o.height=n):t.startsWith("bottom")?(o.left=0,o.right=0,o.top=0,o.height=n):t.startsWith("left")?(o.right=0,o.top=0,o.bottom=0):t.startsWith("right")&&(o.left=0,o.top=0),o}},{key:"render",value:function(){var e,t=this.props,n=t.placement,o=t.setArrowRef,i=t.styles.arrow,a=i.color,r=i.display,l=i.length,c=i.margin,u=i.position,d=i.spread,p={display:r,position:u},f=d,m=l;return n.startsWith("top")?(e="0,0 ".concat(f/2,",").concat(m," ").concat(f,",0"),p.bottom=0,p.marginLeft=c,p.marginRight=c):n.startsWith("bottom")?(e="".concat(f,",").concat(m," ").concat(f/2,",0 0,").concat(m),p.top=0,p.marginLeft=c,p.marginRight=c):n.startsWith("left")?(m=d,e="0,0 ".concat(f=l,",").concat(m/2," 0,").concat(m),p.right=0,p.marginTop=c,p.marginBottom=c):n.startsWith("right")&&(m=d,e="".concat(f=l,",").concat(m," ").concat(f,",0 0,").concat(m/2),p.left=0,p.marginTop=c,p.marginBottom=c),s.createElement("div",{className:"__floater__arrow",style:this.parentStyle},s.createElement("span",{ref:o,style:p},s.createElement("svg",{width:f,height:m,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},s.createElement("polygon",{points:e,fill:a}))))}}]),n}(s.Component);br(_r,"propTypes",{placement:oa().string.isRequired,setArrowRef:oa().func.isRequired,styles:oa().object.isRequired});var Dr=["color","height","width"],Zr=function(e){var t=e.handleClick,n=e.styles,o=n.color,i=n.height,a=n.width,r=Cr(n,Dr);return s.createElement("button",{"aria-label":"close",onClick:t,style:r,type:"button"},s.createElement("svg",{width:"".concat(a,"px"),height:"".concat(i,"px"),viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},s.createElement("g",null,s.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:o}))))};Zr.propTypes={handleClick:oa().func.isRequired,styles:oa().object.isRequired};var jr=function(e){var t=e.content,n=e.footer,o=e.handleClick,i=e.open,a=e.positionWrapper,r=e.showCloseButton,l=e.title,c=e.styles,u={content:s.isValidElement(t)?t:s.createElement("div",{className:"__floater__content",style:c.content},t)};return l&&(u.title=s.isValidElement(l)?l:s.createElement("div",{className:"__floater__title",style:c.title},l)),n&&(u.footer=s.isValidElement(n)?n:s.createElement("div",{className:"__floater__footer",style:c.footer},n)),!r&&!a||xi.boolean(i)||(u.close=s.createElement(Zr,{styles:c.close,handleClick:o})),s.createElement("div",{className:"__floater__container",style:c.container},u.close,u.title,u.content,u.footer)};jr.propTypes={content:oa().node.isRequired,footer:oa().node,handleClick:oa().func.isRequired,open:oa().bool,positionWrapper:oa().bool.isRequired,showCloseButton:oa().bool.isRequired,styles:oa().object.isRequired,title:oa().node};var Fr=function(e){yr(n,e);var t=wr(n);function n(){return vr(this,n),t.apply(this,arguments)}return gr(n,[{key:"style",get:function(){var e=this.props,t=e.disableAnimation,n=e.component,o=e.placement,i=e.hideArrow,a=e.status,r=e.styles,l=r.arrow.length,s=r.floater,c=r.floaterCentered,u=r.floaterClosing,d=r.floaterOpening,p=r.floaterWithAnimation,f=r.floaterWithComponent,m={};return i||(o.startsWith("top")?m.padding="0 0 ".concat(l,"px"):o.startsWith("bottom")?m.padding="".concat(l,"px 0 0"):o.startsWith("left")?m.padding="0 ".concat(l,"px 0 0"):o.startsWith("right")&&(m.padding="0 0 0 ".concat(l,"px"))),-1!==[Tr.OPENING,Tr.OPEN].indexOf(a)&&(m=mr(mr({},m),d)),a===Tr.CLOSING&&(m=mr(mr({},m),u)),a!==Tr.OPEN||t||(m=mr(mr({},m),p)),"center"===o&&(m=mr(mr({},m),c)),n&&(m=mr(mr({},m),f)),mr(mr({},s),m)}},{key:"render",value:function(){var e=this.props,t=e.component,n=e.handleClick,o=e.hideArrow,i=e.setFloaterRef,a=e.status,r={},l=["__floater"];return r.content=t?s.isValidElement(t)?s.cloneElement(t,{closeFn:n}):t({closeFn:n}):s.createElement(jr,this.props),a===Tr.OPEN&&l.push("__floater__open"),o||(r.arrow=s.createElement(_r,this.props)),s.createElement("div",{ref:i,className:l.join(" "),style:this.style},s.createElement("div",{className:"__floater__body"},r.content,r.arrow))}}]),n}(s.Component);br(Fr,"propTypes",{component:oa().oneOfType([oa().func,oa().element]),content:oa().node,disableAnimation:oa().bool.isRequired,footer:oa().node,handleClick:oa().func.isRequired,hideArrow:oa().bool.isRequired,open:oa().bool,placement:oa().string.isRequired,positionWrapper:oa().bool.isRequired,setArrowRef:oa().func.isRequired,setFloaterRef:oa().func.isRequired,showCloseButton:oa().bool,status:oa().string.isRequired,styles:oa().object.isRequired,title:oa().node});var Vr=function(e){yr(n,e);var t=wr(n);function n(){return vr(this,n),t.apply(this,arguments)}return gr(n,[{key:"render",value:function(){var e,t=this.props,n=t.children,o=t.handleClick,i=t.handleMouseEnter,a=t.handleMouseLeave,r=t.setChildRef,l=t.setWrapperRef,c=t.style,u=t.styles;if(n)if(1===s.Children.count(n))if(s.isValidElement(n)){var d=xi.function(n.type)?"innerRef":"ref";e=s.cloneElement(s.Children.only(n),br({},d,r))}else e=s.createElement("span",null,n);else e=n;return e?s.createElement("span",{ref:l,style:mr(mr({},u),c),onClick:o,onMouseEnter:i,onMouseLeave:a},e):null}}]),n}(s.Component);br(Vr,"propTypes",{children:oa().node,handleClick:oa().func.isRequired,handleMouseEnter:oa().func.isRequired,handleMouseLeave:oa().func.isRequired,setChildRef:oa().func.isRequired,setWrapperRef:oa().func.isRequired,style:oa().object,styles:oa().object.isRequired});var Hr={zIndex:100};var zr=["arrow","flip","offset"],Br=["position","top","right","bottom","left"],qr=function(e){yr(o,e);var t=wr(o);function o(e){var n;return vr(this,o),br(Ar(n=t.call(this,e)),"setArrowRef",(function(e){n.arrowRef=e})),br(Ar(n),"setChildRef",(function(e){n.childRef=e})),br(Ar(n),"setFloaterRef",(function(e){n.floaterRef=e})),br(Ar(n),"setWrapperRef",(function(e){n.wrapperRef=e})),br(Ar(n),"handleTransitionEnd",(function(){var e=n.state.status,t=n.props.callback;n.wrapperPopper&&n.wrapperPopper.instance.update(),n.setState({status:e===Tr.OPENING?Tr.OPEN:Tr.IDLE},(function(){var e=n.state.status;t(e===Tr.OPEN?"open":"close",n.props)}))})),br(Ar(n),"handleClick",(function(){var e=n.props,t=e.event,o=e.open;if(!xi.boolean(o)){var i=n.state,a=i.positionWrapper,r=i.status;("click"===n.event||"hover"===n.event&&a)&&(kr({title:"click",data:[{event:t,status:r===Tr.OPEN?"closing":"opening"}],debug:n.debug}),n.toggle())}})),br(Ar(n),"handleMouseEnter",(function(){var e=n.props,t=e.event,o=e.open;if(!xi.boolean(o)&&!Nr()){var i=n.state.status;"hover"===n.event&&i===Tr.IDLE&&(kr({title:"mouseEnter",data:[{key:"originalEvent",value:t}],debug:n.debug}),clearTimeout(n.eventDelayTimeout),n.toggle())}})),br(Ar(n),"handleMouseLeave",(function(){var e=n.props,t=e.event,o=e.eventDelay,i=e.open;if(!xi.boolean(i)&&!Nr()){var a=n.state,r=a.status,l=a.positionWrapper;"hover"===n.event&&(kr({title:"mouseLeave",data:[{key:"originalEvent",value:t}],debug:n.debug}),o?-1===[Tr.OPENING,Tr.OPEN].indexOf(r)||l||n.eventDelayTimeout||(n.eventDelayTimeout=setTimeout((function(){delete n.eventDelayTimeout,n.toggle()}),1e3*o)):n.toggle(Tr.IDLE))}})),n.state={currentPlacement:e.placement,needsUpdate:!1,positionWrapper:e.wrapperOptions.position&&!!e.target,status:Tr.INIT,statusWrapper:Tr.INIT},n._isMounted=!1,n.hasMounted=!1,Rr&&window.addEventListener("load",(function(){n.popper&&n.popper.instance.update(),n.wrapperPopper&&n.wrapperPopper.instance.update()})),n}return gr(o,[{key:"componentDidMount",value:function(){if(Rr){var e=this.state.positionWrapper,t=this.props,n=t.children,o=t.open,i=t.target;this._isMounted=!0,kr({title:"init",data:{hasChildren:!!n,hasTarget:!!i,isControlled:xi.boolean(o),positionWrapper:e,target:this.target,floater:this.floaterRef},debug:this.debug}),this.hasMounted||(this.initPopper(),this.hasMounted=!0),!n&&i&&xi.boolean(o)}}},{key:"componentDidUpdate",value:function(e,t){if(Rr){var n,o=this.props,i=o.autoOpen,a=o.open,r=o.target,l=o.wrapperOptions,s=qi(t,this.state),c=s.changedFrom,u=s.changed;if(e.open!==a)xi.boolean(a)&&(n=a?Tr.OPENING:Tr.CLOSING),this.toggle(n);e.wrapperOptions.position===l.position&&e.target===r||this.changeWrapperPosition(this.props),(u("status",Tr.IDLE)&&a||c("status",Tr.INIT,Tr.IDLE)&&i)&&this.toggle(Tr.OPEN),this.popper&&u("status",Tr.OPENING)&&this.popper.instance.update(),this.floaterRef&&(u("status",Tr.OPENING)||u("status",Tr.CLOSING))&&function(e,t,n){var o;Pr(e,t,o=function(i){n(i),Ur(e,t,o)},arguments.length>3&&void 0!==arguments[3]&&arguments[3])}(this.floaterRef,"transitionend",this.handleTransitionEnd),u("needsUpdate",!0)&&this.rebuildPopper()}}},{key:"componentWillUnmount",value:function(){Rr&&(this._isMounted=!1,this.popper&&this.popper.instance.destroy(),this.wrapperPopper&&this.wrapperPopper.instance.destroy())}},{key:"initPopper",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.target,n=this.state.positionWrapper,o=this.props,i=o.disableFlip,a=o.getPopper,r=o.hideArrow,l=o.offset,s=o.placement,c=o.wrapperOptions,u="top"===s||"bottom"===s?"flip":["right","bottom-end","top-end","left","top-start","bottom-start"];if("center"===s)this.setState({status:Tr.IDLE});else if(t&&this.floaterRef){var d=this.options,p=d.arrow,f=d.flip,m=d.offset,v=Cr(d,zr);new pr(t,this.floaterRef,{placement:s,modifiers:mr({arrow:mr({enabled:!r,element:this.arrowRef},p),flip:mr({enabled:!i,behavior:u},f),offset:mr({offset:"0, ".concat(l,"px")},m)},v),onCreate:function(t){var n;e.popper=t,null!==(n=e.floaterRef)&&void 0!==n&&n.isConnected?(a(t,"floater"),e._isMounted&&e.setState({currentPlacement:t.placement,status:Tr.IDLE}),s!==t.placement&&setTimeout((function(){t.instance.update()}),1)):e.setState({needsUpdate:!0})},onUpdate:function(t){e.popper=t;var n=e.state.currentPlacement;e._isMounted&&t.placement!==n&&e.setState({currentPlacement:t.placement})}})}if(n){var h=xi.undefined(c.offset)?0:c.offset;new pr(this.target,this.wrapperRef,{placement:c.placement||s,modifiers:{arrow:{enabled:!1},offset:{offset:"0, ".concat(h,"px")},flip:{enabled:!1}},onCreate:function(t){e.wrapperPopper=t,e._isMounted&&e.setState({statusWrapper:Tr.IDLE}),a(t,"wrapper"),s!==t.placement&&setTimeout((function(){t.instance.update()}),1)}})}}},{key:"rebuildPopper",value:function(){var e=this;this.floaterRefInterval=setInterval((function(){var t;null!==(t=e.floaterRef)&&void 0!==t&&t.isConnected&&(clearInterval(e.floaterRefInterval),e.setState({needsUpdate:!1}),e.initPopper())}),50)}},{key:"changeWrapperPosition",value:function(e){var t=e.target,n=e.wrapperOptions;this.setState({positionWrapper:n.position&&!!t})}},{key:"toggle",value:function(e){var t=this.state.status===Tr.OPEN?Tr.CLOSING:Tr.OPENING;xi.undefined(e)||(t=e),this.setState({status:t})}},{key:"debug",get:function(){return this.props.debug||!!n.g.ReactFloaterDebug}},{key:"event",get:function(){var e=this.props,t=e.disableHoverToClick,n=e.event;return"hover"===n&&Nr()&&!t?"click":n}},{key:"options",get:function(){var e=this.props.options;return ta()(Ir,e||{})}},{key:"styles",get:function(){var e,t=this,n=this.state,o=n.status,i=n.positionWrapper,a=n.statusWrapper,r=this.props.styles,l=ta()(function(e){var t=ta()(Hr,e.options||{});return{wrapper:{cursor:"help",display:"inline-flex",flexDirection:"column",zIndex:t.zIndex},wrapperPosition:{left:-1e3,position:"absolute",top:-1e3,visibility:"hidden"},floater:{display:"inline-block",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))",maxWidth:300,opacity:0,position:"relative",transition:"opacity 0.3s",visibility:"hidden",zIndex:t.zIndex},floaterOpening:{opacity:1,visibility:"visible"},floaterWithAnimation:{opacity:1,transition:"opacity 0.3s, transform 0.2s",visibility:"visible"},floaterWithComponent:{maxWidth:"100%"},floaterClosing:{opacity:0,visibility:"visible"},floaterCentered:{left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)"},container:{backgroundColor:"#fff",color:"#666",minHeight:60,minWidth:200,padding:20,position:"relative",zIndex:10},title:{borderBottom:"1px solid #555",color:"#555",fontSize:18,marginBottom:5,paddingBottom:6,paddingRight:18},content:{fontSize:15},close:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",fontSize:0,height:15,outline:"none",padding:10,position:"absolute",right:0,top:0,width:15,WebkitAppearance:"none"},footer:{borderTop:"1px solid #ccc",fontSize:13,marginTop:10,paddingTop:5},arrow:{color:"#fff",display:"inline-flex",length:16,margin:8,position:"absolute",spread:32},options:t}}(r),r);i&&(e=-1===[Tr.IDLE].indexOf(o)||-1===[Tr.IDLE].indexOf(a)?l.wrapperPosition:this.wrapperPopper.styles,l.wrapper=mr(mr({},l.wrapper),e));if(this.target){var s=window.getComputedStyle(this.target);this.wrapperStyles?l.wrapper=mr(mr({},l.wrapper),this.wrapperStyles):-1===["relative","static"].indexOf(s.position)&&(this.wrapperStyles={},i||(Br.forEach((function(e){t.wrapperStyles[e]=s[e]})),l.wrapper=mr(mr({},l.wrapper),this.wrapperStyles),this.target.style.position="relative",this.target.style.top="auto",this.target.style.right="auto",this.target.style.bottom="auto",this.target.style.left="auto"))}return l}},{key:"target",get:function(){if(!Rr)return null;var e=this.props.target;return e?xi.domElement(e)?e:document.querySelector(e):this.childRef||this.wrapperRef}},{key:"render",value:function(){var e=this.state,t=e.currentPlacement,n=e.positionWrapper,o=e.status,i=this.props,a=i.children,r=i.component,l=i.content,c=i.disableAnimation,u=i.footer,d=i.hideArrow,p=i.id,f=i.open,m=i.showCloseButton,v=i.style,h=i.target,g=i.title,b=s.createElement(Vr,{handleClick:this.handleClick,handleMouseEnter:this.handleMouseEnter,handleMouseLeave:this.handleMouseLeave,setChildRef:this.setChildRef,setWrapperRef:this.setWrapperRef,style:v,styles:this.styles.wrapper},a),y={};return n?y.wrapperInPortal=b:y.wrapperAsChildren=b,s.createElement("span",null,s.createElement(xr,{hasChildren:!!a,id:p,placement:t,setRef:this.setFloaterRef,target:h,zIndex:this.styles.options.zIndex},s.createElement(Fr,{component:r,content:l,disableAnimation:c,footer:u,handleClick:this.handleClick,hideArrow:d||"center"===t,open:f,placement:t,positionWrapper:n,setArrowRef:this.setArrowRef,setFloaterRef:this.setFloaterRef,showCloseButton:m,status:o,styles:this.styles,title:g}),y.wrapperInPortal),y.wrapperAsChildren)}}]),o}(s.Component);function Wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Gr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wr(Object(n),!0).forEach((function(t){Yr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function $r(e,t,n){return t&&Kr(e.prototype,t),n&&Kr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xr(){return Xr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Xr.apply(this,arguments)}function Jr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tl(e,t)}function el(e){return el=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},el(e)}function tl(e,t){return tl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tl(e,t)}function nl(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ol(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function il(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ol(e)}function al(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=el(e);if(t){var i=el(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return il(this,n)}}br(qr,"propTypes",{autoOpen:oa().bool,callback:oa().func,children:oa().node,component:(0,ia.Z)(oa().oneOfType([oa().func,oa().element]),(function(e){return!e.content})),content:(0,ia.Z)(oa().node,(function(e){return!e.component})),debug:oa().bool,disableAnimation:oa().bool,disableFlip:oa().bool,disableHoverToClick:oa().bool,event:oa().oneOf(["hover","click"]),eventDelay:oa().number,footer:oa().node,getPopper:oa().func,hideArrow:oa().bool,id:oa().oneOfType([oa().string,oa().number]),offset:oa().number,open:oa().bool,options:oa().object,placement:oa().oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto","center"]),showCloseButton:oa().bool,style:oa().object,styles:oa().object,target:oa().oneOfType([oa().object,oa().string]),title:oa().node,wrapperOptions:oa().shape({offset:oa().number,placement:oa().oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto"]),position:oa().bool})}),br(qr,"defaultProps",{autoOpen:!1,callback:Mr,debug:!1,disableAnimation:!1,disableFlip:!1,disableHoverToClick:!1,event:"click",eventDelay:.4,getPopper:Mr,hideArrow:!1,offset:15,placement:"bottom",showCloseButton:!1,styles:{},target:null,wrapperOptions:{position:!1}});var rl={INIT:"init",START:"start",STOP:"stop",RESET:"reset",PREV:"prev",NEXT:"next",GO:"go",CLOSE:"close",SKIP:"skip",UPDATE:"update"},ll="tour:start",sl="step:before",cl="beacon",ul="tooltip",dl="step:after",pl="tour:end",fl="tour:status",ml="error:target_not_found",vl={INIT:"init",READY:"ready",BEACON:"beacon",TOOLTIP:"tooltip",COMPLETE:"complete",ERROR:"error"},hl={IDLE:"idle",READY:"ready",WAITING:"waiting",RUNNING:"running",PAUSED:"paused",SKIPPED:"skipped",FINISHED:"finished",ERROR:"error"},gl=Qi().canUseDOM,bl=void 0!==Wi.createPortal;function yl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent,t=e;return document.documentMode?t="ie":/Edge/.test(e)?t="edge":Boolean(window.opera)||e.indexOf(" OPR/")>=0?t="opera":void 0!==window.InstallTrigger?t="firefox":window.chrome?t="chrome":/(Version\/([0-9._]+).*Safari|CriOS|FxiOS| Mobile\/)/.test(e)&&(t="safari"),t}function El(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function Sl(e){var t=[];return function e(n){if("string"==typeof n||"number"==typeof n)t.push(n);else if(Array.isArray(n))n.forEach((function(t){return e(t)}));else if(n&&n.props){var o=n.props.children;Array.isArray(o)?o.forEach((function(t){return e(t)})):e(o)}}(e),t.join(" ").trim()}function Cl(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Al(e,t){return!(!xi.plainObject(e)||!xi.array(t))&&Object.keys(e).every((function(e){return-1!==t.indexOf(e)}))}function Ol(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,o){return t+t+n+n+o+o})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:[]}function wl(e){return e.disableBeacon||"center"===e.placement}function Il(e,t){var n,o=(0,s.isValidElement)(e)||(0,s.isValidElement)(t),i=xi.undefined(e)||xi.undefined(t);if(El(e)!==El(t)||o||i)return!1;if(xi.domElement(e))return e.isSameNode(t);if(xi.number(e))return e===t;if(xi.function(e))return e.toString()===t.toString();for(var a in e)if(Cl(e,a)){if(void 0===e[a]||void 0===t[a])return!1;if(n=El(e[a]),-1!==["object","array"].indexOf(n)&&Il(e[a],t[a]))continue;if("function"===n&&Il(e[a],t[a]))continue;if(e[a]!==t[a])return!1}for(var r in t)if(Cl(t,r)&&void 0===e[r])return!1;return!0}function Tl(){return!(-1!==["chrome","safari","firefox","opera"].indexOf(yl()))}function Rl(e){var t=e.title,n=e.data,o=e.warn,i=void 0!==o&&o,a=e.debug,r=void 0!==a&&a,l=i?console.warn||console.error:console.log;r&&(t&&n?(console.groupCollapsed("%creact-joyride: ".concat(t),"color: #ff0044; font-weight: bold; font-size: 12px;"),Array.isArray(n)?n.forEach((function(e){xi.plainObject(e)&&e.key?l.apply(console,[e.key,e.value]):l.apply(console,[e])})):l.apply(console,[n]),console.groupEnd()):console.error("Missing title or data props"))}var Ll={action:"",controlled:!1,index:0,lifecycle:vl.INIT,size:0,status:hl.IDLE},Nl=["action","index","lifecycle","status"];function kl(e){var t=new Map,n=new Map,o=function(){function e(){var t=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=o.continuous,a=void 0!==i&&i,r=o.stepIndex,l=o.steps,s=void 0===l?[]:l;Qr(this,e),Yr(this,"listener",void 0),Yr(this,"setSteps",(function(e){var o=t.getState(),i=o.size,a=o.status,r={size:e.length,status:a};n.set("steps",e),a===hl.WAITING&&!i&&e.length&&(r.status=hl.RUNNING),t.setState(r)})),Yr(this,"addListener",(function(e){t.listener=e})),Yr(this,"update",(function(e){if(!Al(e,Nl))throw new Error("State is not valid. Valid keys: ".concat(Nl.join(", ")));t.setState(Gr({},t.getNextState(Gr(Gr(Gr({},t.getState()),e),{},{action:e.action||rl.UPDATE}),!0)))})),Yr(this,"start",(function(e){var n=t.getState(),o=n.index,i=n.size;t.setState(Gr(Gr({},t.getNextState({action:rl.START,index:xi.number(e)?e:o},!0)),{},{status:i?hl.RUNNING:hl.WAITING}))})),Yr(this,"stop",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=t.getState(),o=n.index,i=n.status;-1===[hl.FINISHED,hl.SKIPPED].indexOf(i)&&t.setState(Gr(Gr({},t.getNextState({action:rl.STOP,index:o+(e?1:0)})),{},{status:hl.PAUSED}))})),Yr(this,"close",(function(){var e=t.getState(),n=e.index;e.status===hl.RUNNING&&t.setState(Gr({},t.getNextState({action:rl.CLOSE,index:n+1})))})),Yr(this,"go",(function(e){var n=t.getState(),o=n.controlled,i=n.status;if(!o&&i===hl.RUNNING){var a=t.getSteps()[e];t.setState(Gr(Gr({},t.getNextState({action:rl.GO,index:e})),{},{status:a?i:hl.FINISHED}))}})),Yr(this,"info",(function(){return t.getState()})),Yr(this,"next",(function(){var e=t.getState(),n=e.index;e.status===hl.RUNNING&&t.setState(t.getNextState({action:rl.NEXT,index:n+1}))})),Yr(this,"open",(function(){t.getState().status===hl.RUNNING&&t.setState(Gr({},t.getNextState({action:rl.UPDATE,lifecycle:vl.TOOLTIP})))})),Yr(this,"prev",(function(){var e=t.getState(),n=e.index;e.status===hl.RUNNING&&t.setState(Gr({},t.getNextState({action:rl.PREV,index:n-1})))})),Yr(this,"reset",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=t.getState(),o=n.controlled;o||t.setState(Gr(Gr({},t.getNextState({action:rl.RESET,index:0})),{},{status:e?hl.RUNNING:hl.READY}))})),Yr(this,"skip",(function(){t.getState().status===hl.RUNNING&&t.setState({action:rl.SKIP,lifecycle:vl.INIT,status:hl.SKIPPED})})),this.setState({action:rl.INIT,controlled:xi.number(r),continuous:a,index:xi.number(r)?r:0,lifecycle:vl.INIT,status:s.length?hl.READY:hl.IDLE},!0),this.setSteps(s)}return $r(e,[{key:"setState",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this.getState(),i=Gr(Gr({},o),e),a=i.action,r=i.index,l=i.lifecycle,s=i.size,c=i.status;t.set("action",a),t.set("index",r),t.set("lifecycle",l),t.set("size",s),t.set("status",c),n&&(t.set("controlled",e.controlled),t.set("continuous",e.continuous)),this.listener&&this.hasUpdatedState(o)&&this.listener(this.getState())}},{key:"getState",value:function(){return t.size?{action:t.get("action")||"",controlled:t.get("controlled")||!1,index:parseInt(t.get("index"),10),lifecycle:t.get("lifecycle")||"",size:t.get("size")||0,status:t.get("status")||""}:Gr({},Ll)}},{key:"getNextState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getState(),o=n.action,i=n.controlled,a=n.index,r=n.size,l=n.status,s=xi.number(e.index)?e.index:a,c=i&&!t?a:Math.min(Math.max(s,0),r);return{action:e.action||o,controlled:i,index:c,lifecycle:e.lifecycle||vl.INIT,size:e.size||r,status:c===r?hl.FINISHED:e.status||l}}},{key:"hasUpdatedState",value:function(e){return JSON.stringify(e)!==JSON.stringify(this.getState())}},{key:"getSteps",value:function(){var e=n.get("steps");return Array.isArray(e)?e:[]}},{key:"getHelpers",value:function(){return{close:this.close,go:this.go,info:this.info,next:this.next,open:this.open,prev:this.prev,reset:this.reset,skip:this.skip}}}]),e}();return new o(e)}function Pl(e){return e?e.getBoundingClientRect():{}}function Ul(e){return"string"==typeof e?document.querySelector(e):e}function Ml(e){return e&&1===e.nodeType?getComputedStyle(e):{}}function xl(e,t,n){var o=Xi()(e);return o.isSameNode(Fl())?n?document:Fl():o.scrollHeight>o.offsetHeight||t?o:(o.style.overflow="initial",Fl())}function _l(e,t){return!!e&&!xl(e,t).isSameNode(Fl())}function Dl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fixed";if(!(e&&e instanceof HTMLElement))return!1;var n=e.nodeName;return"BODY"!==n&&"HTML"!==n&&(Ml(e).position===t||Dl(e.parentNode,t))}function Zl(e){return e instanceof HTMLElement?e.offsetParent instanceof HTMLElement?Zl(e.offsetParent)+e.offsetTop:e.offsetTop:0}function jl(e,t,n){if(!e)return 0;var o=Xi()(e),i=Zl(e);return _l(e,n)&&!function(e){return e.offsetParent!==document.body}(e)&&(i-=Zl(o)),Math.floor(i-t)}function Fl(){return document.scrollingElement||document.createElement("body")}!function(e){function t(t,n,o,i,a,r){var l=i||"<<anonymous>>",s=r||o;if(null==n[o])return t?new Error("Required ".concat(a," `").concat(s,"` was not specified in `").concat(l,"`.")):null;for(var c=arguments.length,u=new Array(c>6?c-6:0),d=6;d<c;d++)u[d-6]=arguments[d];return e.apply(void 0,[n,o,l,a,s].concat(u))}var n=t.bind(null,!1);n.isRequired=t.bind(null,!0)}((function(e,t,n,o,i){var a=e[t],r=a;if(!s.isValidElement(a)&&(0,Ji.isValidElementType)(a)){var l={ref:function(){},step:{}};r=s.createElement(r,l)}if(xi.string(a)||xi.number(a)||!(0,Ji.isValidElementType)(a)||-1===[Ji.Element,Ji.ForwardRef].indexOf((0,Ji.typeOf)(r)))return new Error("Invalid ".concat(o," `").concat(i,"` supplied to `").concat(n,"`. Expected a React class or forwardRef."))}));var Vl={arrowColor:"#fff",backgroundColor:"#fff",beaconSize:36,overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#f04",spotlightShadow:"0 0 15px rgba(0, 0, 0, 0.5)",textColor:"#333",zIndex:100},Hl={backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",cursor:"pointer",fontSize:16,lineHeight:1,padding:8,WebkitAppearance:"none"},zl={borderRadius:4,position:"absolute"};var Bl={floaterProps:{options:{preventOverflow:{boundariesElement:"scrollParent"}},wrapperOptions:{offset:-18,position:!0}},locale:{back:"Back",close:"Close",last:"Last",next:"Next",open:"Open the dialog",skip:"Skip"},step:{event:"click",placement:"bottom",offset:10}};function ql(e){var t=["beaconComponent","disableCloseOnEsc","disableOverlay","disableOverlayClose","disableScrolling","disableScrollParentFix","floaterProps","hideBackButton","hideCloseButton","locale","showProgress","showSkipButton","spotlightClicks","spotlightPadding","styles","tooltipComponent"];return Object.keys(e).filter((function(e){return-1!==t.indexOf(e)})).reduce((function(t,n){return t[n]=e[n],t}),{})}function Wl(e,t){if(!e)return null;var n=ta().all([ql(t),Bl.step,e],{isMergeableObject:xi.plainObject}),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ta()(Vl,e.options||{}),n=290;window.innerWidth>480&&(n=380),t.width&&(n=window.innerWidth<t.width?window.innerWidth-30:t.width);var o={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,zIndex:t.zIndex},i={beacon:Gr(Gr({},Hl),{},{display:"inline-block",height:t.beaconSize,position:"relative",width:t.beaconSize,zIndex:t.zIndex}),beaconInner:{animation:"joyride-beacon-inner 1.2s infinite ease-in-out",backgroundColor:t.primaryColor,borderRadius:"50%",display:"block",height:"50%",left:"50%",opacity:.7,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"50%"},beaconOuter:{animation:"joyride-beacon-outer 1.2s infinite ease-in-out",backgroundColor:"rgba(".concat(Ol(t.primaryColor).join(","),", 0.2)"),border:"2px solid ".concat(t.primaryColor),borderRadius:"50%",boxSizing:"border-box",display:"block",height:"100%",left:0,opacity:.9,position:"absolute",top:0,transformOrigin:"center",width:"100%"},tooltip:{backgroundColor:t.backgroundColor,borderRadius:5,boxSizing:"border-box",color:t.textColor,fontSize:16,maxWidth:"100%",padding:15,position:"relative",width:n},tooltipContainer:{lineHeight:1.4,textAlign:"center"},tooltipTitle:{fontSize:18,margin:0},tooltipContent:{padding:"20px 10px"},tooltipFooter:{alignItems:"center",display:"flex",justifyContent:"flex-end",marginTop:15},tooltipFooterSpacer:{flex:1},buttonNext:Gr(Gr({},Hl),{},{backgroundColor:t.primaryColor,borderRadius:4,color:"#fff"}),buttonBack:Gr(Gr({},Hl),{},{color:t.primaryColor,marginLeft:"auto",marginRight:5}),buttonClose:Gr(Gr({},Hl),{},{color:t.textColor,height:14,padding:15,position:"absolute",right:0,top:0,width:14}),buttonSkip:Gr(Gr({},Hl),{},{color:t.textColor,fontSize:14}),overlay:Gr(Gr({},o),{},{backgroundColor:t.overlayColor,mixBlendMode:"hard-light"}),overlayLegacy:Gr({},o),overlayLegacyCenter:Gr(Gr({},o),{},{backgroundColor:t.overlayColor}),spotlight:Gr(Gr({},zl),{},{backgroundColor:"gray"}),spotlightLegacy:Gr(Gr({},zl),{},{boxShadow:"0 0 0 9999px ".concat(t.overlayColor,", ").concat(t.spotlightShadow)}),floaterStyles:{arrow:{color:t.arrowColor},options:{zIndex:t.zIndex+100}},options:t};return ta()(i,e)}(ta()(t.styles||{},e.styles||{})),i=_l(Ul(e.target),n.disableScrollParentFix),a=ta().all([t.floaterProps||{},Bl.floaterProps,n.floaterProps||{}]);return a.offset=n.offset,a.styles=ta()(a.styles||{},o.floaterStyles||{}),delete o.floaterStyles,a.offset+=t.spotlightPadding||e.spotlightPadding||0,e.placementBeacon&&(a.wrapperOptions.placement=e.placementBeacon),i&&(a.options.preventOverflow.boundariesElement="window"),Gr(Gr({},n),{},{locale:ta().all([Bl.locale,t.locale||{},n.locale||{}]),floaterProps:a,styles:o})}function Gl(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return xi.plainObject(e)?!!e.target||(Rl({title:"validateStep",data:"target is missing from the step",warn:!0,debug:t}),!1):(Rl({title:"validateStep",data:"step must be an object",warn:!0,debug:t}),!1)}function Ql(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return xi.array(e)?e.every((function(e){return Gl(e,t)})):(Rl({title:"validateSteps",data:"steps must be an array",warn:!0,debug:t}),!1)}var Kl=$r((function e(t){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Qr(this,e),Yr(this,"element",void 0),Yr(this,"options",void 0),Yr(this,"canBeTabbed",(function(e){var t=e.tabIndex;return(null===t||t<0)&&(t=void 0),!isNaN(t)&&n.canHaveFocus(e)})),Yr(this,"canHaveFocus",(function(e){var t=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(t)&&!e.getAttribute("disabled")||"a"===t&&!!e.getAttribute("href"))&&n.isVisible(e)})),Yr(this,"findValidTabElements",(function(){return[].slice.call(n.element.querySelectorAll("*"),0).filter(n.canBeTabbed)})),Yr(this,"handleKeyDown",(function(e){var t=n.options.keyCode,o=void 0===t?9:t;e.keyCode===o&&n.interceptTab(e)})),Yr(this,"interceptTab",(function(e){var t=n.findValidTabElements();if(t.length){e.preventDefault();var o=e.shiftKey,i=t.indexOf(document.activeElement);-1===i||!o&&i+1===t.length?i=0:o&&0===i?i=t.length-1:i+=o?-1:1,t[i].focus()}})),Yr(this,"isHidden",(function(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0,n=window.getComputedStyle(e);return!(!t||e.innerHTML)||(t&&"visible"!==n.getPropertyValue("overflow")||"none"===n.getPropertyValue("display"))})),Yr(this,"isVisible",(function(e){for(var t=e;t;)if(t instanceof HTMLElement){if(t===document.body)break;if(n.isHidden(t))return!1;t=t.parentNode}return!0})),Yr(this,"removeScope",(function(){window.removeEventListener("keydown",n.handleKeyDown)})),Yr(this,"checkFocus",(function(e){document.activeElement!==e&&(e.focus(),window.requestAnimationFrame((function(){return n.checkFocus(e)})))})),Yr(this,"setFocus",(function(){var e=n.options.selector;if(e){var t=n.element.querySelector(e);t&&window.requestAnimationFrame((function(){return n.checkFocus(t)}))}})),!(t instanceof HTMLElement))throw new TypeError("Invalid parameter: element must be an HTMLElement");this.element=t,this.options=o,window.addEventListener("keydown",this.handleKeyDown,!1),this.setFocus()})),$l=function(e){Jr(n,e);var t=al(n);function n(e){var o;if(Qr(this,n),Yr(ol(o=t.call(this,e)),"setBeaconRef",(function(e){o.beacon=e})),!e.beaconComponent){var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",a.id="joyride-beacon-animation",void 0!==e.nonce&&a.setAttribute("nonce",e.nonce),a.appendChild(document.createTextNode("\n        @keyframes joyride-beacon-inner {\n          20% {\n            opacity: 0.9;\n          }\n        \n          90% {\n            opacity: 0.7;\n          }\n        }\n        \n        @keyframes joyride-beacon-outer {\n          0% {\n            transform: scale(1);\n          }\n        \n          45% {\n            opacity: 0.7;\n            transform: scale(0.75);\n          }\n        \n          100% {\n            opacity: 0.9;\n            transform: scale(1);\n          }\n        }\n      ")),i.appendChild(a)}return o}return $r(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.shouldFocus;setTimeout((function(){xi.domElement(e.beacon)&&t&&e.beacon.focus()}),0)}},{key:"componentWillUnmount",value:function(){var e=document.getElementById("joyride-beacon-animation");e&&e.parentNode.removeChild(e)}},{key:"render",value:function(){var e,t=this.props,n=t.beaconComponent,o=t.locale,i=t.onClickOrHover,a=t.styles,r={"aria-label":o.open,onClick:i,onMouseEnter:i,ref:this.setBeaconRef,title:o.open};if(n){var l=n;e=s.createElement(l,r)}else e=s.createElement("button",Xr({key:"JoyrideBeacon",className:"react-joyride__beacon",style:a.beacon,type:"button"},r),s.createElement("span",{style:a.beaconInner}),s.createElement("span",{style:a.beaconOuter}));return e}}]),n}(s.Component);function Yl(e){var t=e.styles;return s.createElement("div",{key:"JoyrideSpotlight",className:"react-joyride__spotlight",style:t})}var Xl=["mixBlendMode","zIndex"],Jl=function(e){Jr(n,e);var t=al(n);function n(){var e;Qr(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return Yr(ol(e=t.call.apply(t,[this].concat(i))),"_isMounted",!1),Yr(ol(e),"state",{mouseOverSpotlight:!1,isScrolling:!1,showSpotlight:!0}),Yr(ol(e),"handleMouseMove",(function(t){var n=e.state.mouseOverSpotlight,o=e.spotlightStyles,i=o.height,a=o.left,r=o.position,l=o.top,s=o.width,c="fixed"===r?t.clientY:t.pageY,u="fixed"===r?t.clientX:t.pageX,d=u>=a&&u<=a+s&&(c>=l&&c<=l+i);d!==n&&e.updateState({mouseOverSpotlight:d})})),Yr(ol(e),"handleScroll",(function(){var t=Ul(e.props.target);e.scrollParent!==document?(e.state.isScrolling||e.updateState({isScrolling:!0,showSpotlight:!1}),clearTimeout(e.scrollTimeout),e.scrollTimeout=setTimeout((function(){e.updateState({isScrolling:!1,showSpotlight:!0})}),50)):Dl(t,"sticky")&&e.updateState({})})),Yr(ol(e),"handleResize",(function(){clearTimeout(e.resizeTimeout),e.resizeTimeout=setTimeout((function(){e._isMounted&&e.forceUpdate()}),100)})),e}return $r(n,[{key:"componentDidMount",value:function(){var e=this.props;e.debug,e.disableScrolling;var t=e.disableScrollParentFix,n=Ul(e.target);this.scrollParent=xl(n,t,!0),this._isMounted=!0,window.addEventListener("resize",this.handleResize)}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,o=n.lifecycle,i=n.spotlightClicks,a=qi(e,this.props).changed;a("lifecycle",vl.TOOLTIP)&&(this.scrollParent.addEventListener("scroll",this.handleScroll,{passive:!0}),setTimeout((function(){t.state.isScrolling||t.updateState({showSpotlight:!0})}),100)),(a("spotlightClicks")||a("disableOverlay")||a("lifecycle"))&&(i&&o===vl.TOOLTIP?window.addEventListener("mousemove",this.handleMouseMove,!1):o!==vl.TOOLTIP&&window.removeEventListener("mousemove",this.handleMouseMove))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("resize",this.handleResize),clearTimeout(this.resizeTimeout),clearTimeout(this.scrollTimeout),this.scrollParent.removeEventListener("scroll",this.handleScroll)}},{key:"spotlightStyles",get:function(){var e=this.state.showSpotlight,t=this.props,n=t.disableScrollParentFix,o=t.spotlightClicks,i=t.spotlightPadding,a=t.styles,r=Ul(t.target),l=Pl(r),s=Dl(r),c=function(e,t,n){var o=Pl(e),i=xl(e,n),a=_l(e,n),r=0;i instanceof HTMLElement&&(r=i.scrollTop);var l=o.top+(a||Dl(e)?0:r);return Math.floor(l-t)}(r,i,n);return Gr(Gr({},Tl()?a.spotlightLegacy:a.spotlight),{},{height:Math.round(l.height+2*i),left:Math.round(l.left-i),opacity:e?1:0,pointerEvents:o?"none":"auto",position:s?"fixed":"absolute",top:c,transition:"opacity 0.2s",width:Math.round(l.width+2*i)})}},{key:"updateState",value:function(e){this._isMounted&&this.setState(e)}},{key:"render",value:function(){var e=this.state,t=e.mouseOverSpotlight,n=e.showSpotlight,o=this.props,i=o.disableOverlay,a=o.disableOverlayClose,r=o.lifecycle,l=o.onClickOverlay,c=o.placement,u=o.styles;if(i||r!==vl.TOOLTIP)return null;var d=u.overlay;Tl()&&(d="center"===c?u.overlayLegacyCenter:u.overlayLegacy);var p,f,m,v=Gr({cursor:a?"default":"pointer",height:(p=document,f=p.body,m=p.documentElement,f&&m?Math.max(f.scrollHeight,f.offsetHeight,m.clientHeight,m.scrollHeight,m.offsetHeight):0),pointerEvents:t?"none":"auto"},d),h="center"!==c&&n&&s.createElement(Yl,{styles:this.spotlightStyles});if("safari"===yl()){v.mixBlendMode,v.zIndex;var g=nl(v,Xl);h=s.createElement("div",{style:Gr({},g)},h),delete v.backgroundColor}return s.createElement("div",{className:"react-joyride__overlay",style:v,onClick:l},h)}}]),n}(s.Component),es=["styles"],ts=["color","height","width"];function ns(e){var t=e.styles,n=nl(e,es),o=t.color,i=t.height,a=t.width,r=nl(t,ts);return s.createElement("button",Xr({style:r,type:"button"},n),s.createElement("svg",{width:"number"==typeof a?"".concat(a,"px"):a,height:"number"==typeof i?"".concat(i,"px"):i,viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},s.createElement("g",null,s.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:o}))))}var os=function(e){Jr(n,e);var t=al(n);function n(){return Qr(this,n),t.apply(this,arguments)}return $r(n,[{key:"render",value:function(){var e=this.props,t=e.backProps,n=e.closeProps,o=e.continuous,i=e.index,a=e.isLastStep,r=e.primaryProps,l=e.size,c=e.skipProps,u=e.step,d=e.tooltipProps,p=u.content,f=u.hideBackButton,m=u.hideCloseButton,v=u.hideFooter,h=u.showProgress,g=u.showSkipButton,b=u.title,y=u.styles,E=u.locale,S=E.back,C=E.close,A=E.last,O=E.next,w=E.skip,I={primary:C};return o&&(I.primary=a?A:O,h&&(I.primary=s.createElement("span",null,I.primary," (",i+1,"/",l,")"))),g&&!a&&(I.skip=s.createElement("button",Xr({style:y.buttonSkip,type:"button","aria-live":"off"},c),w)),!f&&i>0&&(I.back=s.createElement("button",Xr({style:y.buttonBack,type:"button"},t),S)),I.close=!m&&s.createElement(ns,Xr({styles:y.buttonClose},n)),s.createElement("div",Xr({key:"JoyrideTooltip",className:"react-joyride__tooltip",style:y.tooltip},d),s.createElement("div",{style:y.tooltipContainer},b&&s.createElement("h4",{style:y.tooltipTitle,"aria-label":b},b),s.createElement("div",{style:y.tooltipContent},p)),!v&&s.createElement("div",{style:y.tooltipFooter},s.createElement("div",{style:y.tooltipFooterSpacer},I.skip),I.back,s.createElement("button",Xr({style:y.buttonNext,type:"button"},r),I.primary)),I.close)}}]),n}(s.Component),is=["beaconComponent","tooltipComponent"],as=function(e){Jr(n,e);var t=al(n);function n(){var e;Qr(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return Yr(ol(e=t.call.apply(t,[this].concat(i))),"handleClickBack",(function(t){t.preventDefault(),e.props.helpers.prev()})),Yr(ol(e),"handleClickClose",(function(t){t.preventDefault(),e.props.helpers.close()})),Yr(ol(e),"handleClickPrimary",(function(t){t.preventDefault();var n=e.props,o=n.continuous,i=n.helpers;o?i.next():i.close()})),Yr(ol(e),"handleClickSkip",(function(t){t.preventDefault(),e.props.helpers.skip()})),Yr(ol(e),"getElementsProps",(function(){var t=e.props,n=t.continuous,o=t.isLastStep,i=t.setTooltipRef,a=t.step,r=Sl(a.locale.back),l=Sl(a.locale.close),s=Sl(a.locale.last),c=Sl(a.locale.next),u=Sl(a.locale.skip),d=n?c:l;return o&&(d=s),{backProps:{"aria-label":r,"data-action":"back",onClick:e.handleClickBack,role:"button",title:r},closeProps:{"aria-label":l,"data-action":"close",onClick:e.handleClickClose,role:"button",title:l},primaryProps:{"aria-label":d,"data-action":"primary",onClick:e.handleClickPrimary,role:"button",title:d},skipProps:{"aria-label":u,"data-action":"skip",onClick:e.handleClickSkip,role:"button",title:u},tooltipProps:{"aria-modal":!0,ref:i,role:"alertdialog"}}})),e}return $r(n,[{key:"render",value:function(){var e=this.props,t=e.continuous,n=e.index,o=e.isLastStep,i=e.size,a=e.step;a.beaconComponent;var r,l=a.tooltipComponent,c=nl(a,is);if(l){var u=Gr(Gr({},this.getElementsProps()),{},{continuous:t,index:n,isLastStep:o,size:i,step:c}),d=l;r=s.createElement(d,u)}else r=s.createElement(os,Xr({},this.getElementsProps(),{continuous:t,index:n,isLastStep:o,size:i,step:a}));return r}}]),n}(s.Component),rs=function(e){Jr(n,e);var t=al(n);function n(){return Qr(this,n),t.apply(this,arguments)}return $r(n,[{key:"componentDidMount",value:function(){gl&&(bl||this.renderReact15())}},{key:"componentDidUpdate",value:function(){gl&&(bl||this.renderReact15())}},{key:"componentWillUnmount",value:function(){gl&&this.node&&(bl||Wi.unmountComponentAtNode(this.node),this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=void 0))}},{key:"appendNode",value:function(){var e=this.props.id;this.node||(this.node=document.createElement("div"),e&&(this.node.id=e),document.body.appendChild(this.node))}},{key:"renderReact15",value:function(){if(!gl)return null;var e=this.props.children;return this.node||this.appendNode(),Wi.unstable_renderSubtreeIntoContainer(this,e,this.node),null}},{key:"renderReact16",value:function(){if(!gl||!bl)return null;var e=this.props.children;return this.node||this.appendNode(),Wi.createPortal(e,this.node)}},{key:"render",value:function(){return bl?this.renderReact16():null}}]),n}(s.Component),ls=function(e){Jr(n,e);var t=al(n);function n(){var e;Qr(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return Yr(ol(e=t.call.apply(t,[this].concat(i))),"scope",{removeScope:function(){}}),Yr(ol(e),"handleClickHoverBeacon",(function(t){var n=e.props,o=n.step,i=n.update;"mouseenter"===t.type&&"hover"!==o.event||i({lifecycle:vl.TOOLTIP})})),Yr(ol(e),"handleClickOverlay",(function(){var t=e.props,n=t.helpers;t.step.disableOverlayClose||n.close()})),Yr(ol(e),"setTooltipRef",(function(t){e.tooltip=t})),Yr(ol(e),"setPopper",(function(t,n){var o=e.props,i=o.action,a=o.setPopper,r=o.update;"wrapper"===n?e.beaconPopper=t:e.tooltipPopper=t,a(t,n),e.beaconPopper&&e.tooltipPopper&&r({action:i===rl.CLOSE?rl.CLOSE:i,lifecycle:vl.READY})})),e}return $r(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.debug,n=e.index;Rl({title:"step:".concat(n),data:[{key:"props",value:this.props}],debug:t})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.action,o=t.callback,i=t.continuous,a=t.controlled,r=t.debug,l=t.index,s=t.lifecycle,c=t.size,u=t.status,d=t.step,p=t.update,f=qi(e,this.props),m=f.changed,v=f.changedFrom,h={action:n,controlled:a,index:l,lifecycle:s,size:c,status:u},g=i&&n!==rl.CLOSE&&(l>0||n===rl.PREV),b=m("action")||m("index")||m("lifecycle")||m("status"),y=v("lifecycle",[vl.TOOLTIP,vl.INIT],vl.INIT);if(m("action",[rl.NEXT,rl.PREV,rl.SKIP,rl.CLOSE])&&(y||a)&&o(Gr(Gr({},h),{},{index:e.index,lifecycle:vl.COMPLETE,step:e.step,type:dl})),m("index")&&l>0&&s===vl.INIT&&u===hl.RUNNING&&"center"===d.placement&&p({lifecycle:vl.READY}),b&&d){var E=Ul(d.target),S=!!E,C=S&&function(e){if(!e)return!1;for(var t=e;t&&t!==document.body;){if(t instanceof HTMLElement){var n=getComputedStyle(t),o=n.display,i=n.visibility;if("none"===o||"hidden"===i)return!1}t=t.parentNode}return!0}(E);C?(v("status",hl.READY,hl.RUNNING)||v("lifecycle",vl.INIT,vl.READY))&&o(Gr(Gr({},h),{},{step:d,type:sl})):(console.warn(S?"Target not visible":"Target not mounted",d),o(Gr(Gr({},h),{},{type:ml,step:d})),a||p({index:l+(-1!==[rl.PREV].indexOf(n)?-1:1)}))}v("lifecycle",vl.INIT,vl.READY)&&p({lifecycle:wl(d)||g?vl.TOOLTIP:vl.BEACON}),m("index")&&Rl({title:"step:".concat(s),data:[{key:"props",value:this.props}],debug:r}),m("lifecycle",vl.BEACON)&&o(Gr(Gr({},h),{},{step:d,type:cl})),m("lifecycle",vl.TOOLTIP)&&(o(Gr(Gr({},h),{},{step:d,type:ul})),this.scope=new Kl(this.tooltip,{selector:"[data-action=primary]"}),this.scope.setFocus()),v("lifecycle",[vl.TOOLTIP,vl.INIT],vl.INIT)&&(this.scope.removeScope(),delete this.beaconPopper,delete this.tooltipPopper)}},{key:"componentWillUnmount",value:function(){this.scope.removeScope()}},{key:"open",get:function(){var e=this.props,t=e.step,n=e.lifecycle;return!(!wl(t)&&n!==vl.TOOLTIP)}},{key:"render",value:function(){var e=this.props,t=e.continuous,n=e.debug,o=e.helpers,i=e.index,a=e.lifecycle,r=e.nonce,l=e.shouldScroll,c=e.size,u=e.step,d=Ul(u.target);return Gl(u)&&xi.domElement(d)?s.createElement("div",{key:"JoyrideStep-".concat(i),className:"react-joyride__step"},s.createElement(rs,{id:"react-joyride-portal"},s.createElement(Jl,Xr({},u,{debug:n,lifecycle:a,onClickOverlay:this.handleClickOverlay}))),s.createElement(qr,Xr({component:s.createElement(as,{continuous:t,helpers:o,index:i,isLastStep:i+1===c,setTooltipRef:this.setTooltipRef,size:c,step:u}),debug:n,getPopper:this.setPopper,id:"react-joyride-step-".concat(i),isPositioned:u.isFixed||Dl(d),open:this.open,placement:u.placement,target:u.target},u.floaterProps),s.createElement($l,{beaconComponent:u.beaconComponent,locale:u.locale,nonce:r,onClickOrHover:this.handleClickHoverBeacon,shouldFocus:l,styles:u.styles}))):null}}]),n}(s.Component),ss=function(e){Jr(n,e);var t=al(n);function n(e){var o;return Qr(this,n),Yr(ol(o=t.call(this,e)),"initStore",(function(){var e=o.props,t=e.debug,n=e.getHelpers,i=e.run,a=e.stepIndex;o.store=new kl(Gr(Gr({},o.props),{},{controlled:i&&xi.number(a)})),o.helpers=o.store.getHelpers();var r=o.store.addListener;return Rl({title:"init",data:[{key:"props",value:o.props},{key:"state",value:o.state}],debug:t}),r(o.syncState),n(o.helpers),o.store.getState()})),Yr(ol(o),"callback",(function(e){var t=o.props.callback;xi.function(t)&&t(e)})),Yr(ol(o),"handleKeyboard",(function(e){var t=o.state,n=t.index,i=t.lifecycle,a=o.props.steps[n],r=window.Event?e.which:e.keyCode;i===vl.TOOLTIP&&27===r&&a&&!a.disableCloseOnEsc&&o.store.close()})),Yr(ol(o),"syncState",(function(e){o.setState(e)})),Yr(ol(o),"setPopper",(function(e,t){"wrapper"===t?o.beaconPopper=e:o.tooltipPopper=e})),Yr(ol(o),"shouldScroll",(function(e,t,n,o,i,a,r){return!e&&(0!==t||n||o===vl.TOOLTIP)&&"center"!==i.placement&&(!i.isFixed||!Dl(a))&&r.lifecycle!==o&&-1!==[vl.BEACON,vl.TOOLTIP].indexOf(o)})),o.state=o.initStore(),o}return $r(n,[{key:"componentDidMount",value:function(){if(gl){var e=this.props,t=e.disableCloseOnEsc,n=e.debug,o=e.run,i=e.steps,a=this.store.start;Ql(i,n)&&o&&a(),t||document.body.addEventListener("keydown",this.handleKeyboard,{passive:!0})}}},{key:"componentDidUpdate",value:function(e,t){if(gl){var n=this.state,o=n.action,i=n.controlled,a=n.index,r=n.lifecycle,l=n.status,s=this.props,c=s.debug,u=s.run,d=s.stepIndex,p=s.steps,f=e.steps,m=e.stepIndex,v=this.store,h=v.reset,g=v.setSteps,b=v.start,y=v.stop,E=v.update,S=qi(e,this.props).changed,C=qi(t,this.state),A=C.changed,O=C.changedFrom,w=Wl(p[a],this.props),I=!Il(f,p),T=xi.number(d)&&S("stepIndex"),R=Ul(null==w?void 0:w.target);if(I&&(Ql(p,c)?g(p):console.warn("Steps are not valid",p)),S("run")&&(u?b(d):y()),T){var L=m<d?rl.NEXT:rl.PREV;o===rl.STOP&&(L=rl.START),-1===[hl.FINISHED,hl.SKIPPED].indexOf(l)&&E({action:o===rl.CLOSE?rl.CLOSE:L,index:d,lifecycle:vl.INIT})}i||l!==hl.RUNNING||0!==a||R||(E({index:a+1}),this.callback(Gr(Gr({},this.state),{},{type:ml,step:w})));var N=Gr(Gr({},this.state),{},{index:a,step:w});if(A("action",[rl.NEXT,rl.PREV,rl.SKIP,rl.CLOSE])&&A("status",hl.PAUSED)){var k=Wl(p[t.index],this.props);this.callback(Gr(Gr({},N),{},{index:t.index,lifecycle:vl.COMPLETE,step:k,type:dl}))}if(A("status",[hl.FINISHED,hl.SKIPPED])){var P=Wl(p[t.index],this.props);i||this.callback(Gr(Gr({},N),{},{index:t.index,lifecycle:vl.COMPLETE,step:P,type:dl})),this.callback(Gr(Gr({},N),{},{index:t.index,step:P,type:pl})),h()}else O("status",[hl.IDLE,hl.READY],hl.RUNNING)?this.callback(Gr(Gr({},N),{},{type:ll})):(A("status")||A("action",rl.RESET))&&this.callback(Gr(Gr({},N),{},{type:fl}));w&&(this.scrollToStep(t),o===rl.START&&r===vl.INIT&&l===hl.RUNNING&&"center"===w.placement&&E({lifecycle:vl.READY}))}}},{key:"componentWillUnmount",value:function(){this.props.disableCloseOnEsc||document.body.removeEventListener("keydown",this.handleKeyboard)}},{key:"scrollToStep",value:function(e){var t=this.state,n=t.index,o=t.lifecycle,i=t.status,a=this.props,r=a.debug,l=a.disableScrolling,s=a.disableScrollParentFix,c=a.scrollToFirstStep,u=a.scrollOffset,d=a.scrollDuration,p=Wl(a.steps[n],this.props);if(p){var f=Ul(p.target),m=this.shouldScroll(l,n,c,o,p,f,e);if(i===hl.RUNNING&&m){var v=_l(f,s),h=xl(f,s),g=Math.floor(jl(f,u,s))||0;if(Rl({title:"scrollToStep",data:[{key:"index",value:n},{key:"lifecycle",value:o},{key:"status",value:i}],debug:r}),o===vl.BEACON&&this.beaconPopper){var b=this.beaconPopper,y=b.placement,E=b.popper;-1!==["bottom"].indexOf(y)||v||(g=Math.floor(E.top-u))}else if(o===vl.TOOLTIP&&this.tooltipPopper){var S=this.tooltipPopper,C=S.flipped,A=S.placement,O=S.popper;-1===["top","right","left"].indexOf(A)||C||v?g-=p.spotlightPadding:g=Math.floor(O.top-u)}g=g>=0?g:0,i===hl.RUNNING&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fl(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;new Promise((function(o,i){var a=t.scrollTop,r=e>a?e-a:a-e;$i().top(t,e,{duration:r<100?50:n},(function(e){return e&&"Element already at target scroll position"!==e.message?i(e):o()}))}))}(g,h,d)}}}},{key:"render",value:function(){if(!gl)return null;var e,t=this.state,n=t.index,o=t.status,i=this.props,a=i.continuous,r=i.debug,l=i.nonce,c=i.scrollToFirstStep,u=Wl(i.steps[n],this.props);return o===hl.RUNNING&&u&&(e=s.createElement(ls,Xr({},this.state,{callback:this.callback,continuous:a,debug:r,setPopper:this.setPopper,helpers:this.helpers,nonce:l,shouldScroll:!u.disableScrolling&&(0!==n||c),step:u,update:this.store.update}))),s.createElement("div",{className:"react-joyride"},e)}}]),n}(s.Component);Yr(ss,"defaultProps",{continuous:!1,debug:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrolling:!1,disableScrollParentFix:!1,getHelpers:function(){},hideBackButton:!1,run:!0,scrollOffset:20,scrollDuration:300,scrollToFirstStep:!1,showSkipButton:!1,showProgress:!1,spotlightClicks:!1,spotlightPadding:10,steps:[]});var cs=n(35479),us=n(10327);new Set;function ds(){return[["b","\b"],["f","\f"],["n","\n"],["r","\r"],["t","\t"],["v","\v"],["0","\0"]].reduce(((e,[t,n])=>(e.set(t,n),e)),new Map)}const ps=ds();[...ps.keys()].reduce(((e,t)=>(e.set(ps.get(t),`\\${t}`),e)),new Map);function fs(e,t){let n;n="number"==typeof t?{count:t}:t&&"object"==typeof t?t:{};const{count:o=1,defaultEscapeValue:i=!0,b:a=i,f:r=i,n:l=i,r:s=i,t:c=i,v:u=i,0:d=i,x:p=i,u:f=i,uEs6:m=f}=n,v=ds();a||v.delete("b"),r||v.delete("f"),l||v.delete("n"),s||v.delete("r"),c||v.delete("t"),u||v.delete("v"),d||v.delete("0");const h=[];p&&h.push("x[a-fA-F0-9]{2}"),f&&h.push("u[a-fA-F0-9]{4}"),m&&h.push("u{[a-fA-F0-9]+}");const g=new RegExp(`\\\\(${[...h,".","$"].join("|")})`,"g");for(let b=Math.max(1,o>>0);b>0;--b)e=e.replace(g,((...[,e])=>{const t=e;if(t.length>1){if("x"===t[0])return String.fromCharCode(Number.parseInt(t.slice(1),16));if("u"===t[0]){if("{"===t[1]){const e=t.slice(2,-1),n=Number.parseInt(e,16);if(n>1114111)return t;if(n>=65536){const e=n-65536,t=55296+(e>>10),o=56320+(1023&e);return`${String.fromCharCode(t,o)}`}return String.fromCharCode(n)}return String.fromCharCode(Number.parseInt(t.slice(1),16))}}return v.get(t)||t}));return e}var ms=n(6299),vs=n(7247);function hs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gs(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var bs=function(e){var t,n,o=e.template,i=e.open,a=e.onClose,r=(0,c.$)().t,u=(0,l.fQ)().getLink;return s.createElement(G.Z,{open:i,onClose:a,dimmer:"blurring",size:"small"},s.createElement(G.Z.Header,null,o.title),s.createElement(G.Z.Content,{scrolling:!0},s.createElement("p",null,o.summary,(t=null==o?void 0:o.name,n=void 0,t===S.qr.USER_AGE_BASED&&(n=u("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.template.userAgeBased.learnMore")),t===S.qr.GROUP_BASED&&(n=u("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.template.groupBased.learnMore")),t===S.qr.IP_BASED&&(n=u("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.template.ipBased.learnMore")),t===S.qr.NEW_DEVICE_BASED&&(n=u("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.template.deviceBased.learnMore")),void 0===n?null:s.createElement(l.eb,{link:n},r("common:learnMore")))),Array.isArray(null==o?void 0:o.preRequisites)&&o.preRequisites.length>0&&s.createElement(s.Fragment,null,s.createElement("h4",null,r("console:develop.features.applications.edit.sections.signOnMethod.sections.templateDescription.description.prerequisites")),s.createElement(rt.Z,null,o.preRequisites.map((function(e,t){var n=function(){var e=[];return(0,vs.Z)(o.parametersDescription)&&Object.entries(o.parametersDescription).map((function(t){var n=hs(t,1)[0];e.push(n)})),e}();return s.createElement(rt.Z.Item,{key:t},s.createElement(rt.Z.Icon,{name:"check circle outline",color:"green"}),s.createElement(rt.Z.Content,null,function(e,t){var n=e.split(" "),o=[],i="";return n.map((function(e,n){t.includes(e)?(o.push(s.createElement("span",{key:n},i," ")),o.push(s.createElement("span",{key:n},s.createElement(l.EK,null,e))),i=""):i=i.concat(e+" ")})),o.push(s.createElement("span",null,i)),s.createElement("p",null,o.map((function(e){return e})))}(e,n)))})))),(0,vs.Z)(o.parametersDescription)&&s.createElement(s.Fragment,null,s.createElement("h4",null,r("console:develop.features.applications.edit.sections.signOnMethod.sections.templateDescription.description.parameters")),s.createElement(D.Z,{definition:!0},s.createElement(D.Z.Header,null,s.createElement(D.Z.Row,null,s.createElement(D.Z.HeaderCell,null),s.createElement(D.Z.HeaderCell,null,r("console:develop.features.applications.edit.sections.signOnMethod.sections.templateDescription.description.description")))),s.createElement(D.Z.Body,null,Object.entries(o.parametersDescription).map((function(e,t){var n=hs(e,2),o=n[0],i=n[1];return s.createElement(D.Z.Row,{key:t},s.createElement(D.Z.Cell,null,s.createElement(l.EK,null,o)),s.createElement(D.Z.Cell,null,i))}))))),(0,vs.Z)(o.defaultStepsDescription)&&s.createElement(s.Fragment,null,s.createElement("h4",null,r("console:develop.features.applications.edit.sections.signOnMethod.sections.templateDescription.description.defaultSteps")),Object.entries(o.defaultStepsDescription).map((function(e,t,n){var o=hs(e,2),i=o[0],a=o[1];return s.createElement("div",{className:"stepper",key:"".concat(t,"-").concat(i)},s.createElement("div",{className:"step-number"},t+1),s.createElement("div",{className:"step-text"},a),n.length!==t+1&&s.createElement("div",{className:"step-connector"},s.createElement("div",{className:"step-line"})))}))),o.helpLink&&s.createElement(s.Fragment,null,s.createElement("h4",null,r("console:develop.features.applications.edit.sections.signOnMethod.sections.templateDescription.description.helpReference")),s.createElement(l.v0,{type:"info",content:s.createElement("a",{target:"_blank",href:o.helpLink,rel:"noreferrer"},o.helpLink)})),o.code&&s.createElement(s.Fragment,null,s.createElement("h4",null,r("console:develop.features.applications.edit.sections.signOnMethod.sections.templateDescription.description.code")),s.createElement(l.pq,{lint:!0,language:"javascript",sourceCode:o.code,options:{lineWrapping:!0},readOnly:!0,"data-testid":"".concat(o.title,"-code-editor"),getThemeFromEnvironment:!0}))),s.createElement(G.Z.Actions,null,s.createElement(l.Qj,{onClick:a},r("common:cancel"))))};function ys(e){return function(e){if(Array.isArray(e))return Cs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ss(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Es(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||Ss(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ss(e,t){if(e){if("string"==typeof e)return Cs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cs(e,t):void 0}}function Cs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var As=(0,s.forwardRef)((function(e,t){var n=e.defaultActiveIndexes,o=e.onTemplateSelect,i=e.templates,a=e.title,r=e.visible,u=e.readOnly,d=e["data-testid"],p=(0,c.$)().t,m=Es((0,s.useState)(n),2),v=m[0],h=m[1],g=Es((0,s.useState)(null),2),b=g[0],y=g[1],E=function(e,t){var n=t.index,o=ys(v);if(o.includes(n)){var i=o.indexOf(n);o.splice(i,1)}else o.push(n);h(o)};return s.createElement(s.Fragment,null,b&&s.createElement(bs,{template:b,open:!!b,onClose:function(){y(null)}}),s.createElement(us.Z,{as:V.Z,ref:t,className:"script-templates-panel",animation:"overlay",icon:"labeled",direction:"right",vertical:!0,secondary:!0,visible:r,"data-testid":d},a&&"string"==typeof a?s.createElement(l.X6,{as:"h6",bold:!0},a):a,i&&i instanceof Array&&i.length>0?s.createElement(ms.Z,{as:N.Z,className:"template-category-menu","data-testid":"".concat(d,"-accordion"),fluid:!0,secondary:!0,vertical:!0},(0,M.Z)(i,"order").map((function(e,t){return(null==e?void 0:e.templates)&&e.templates instanceof Array&&s.createElement(N.Z.Item,{key:t},s.createElement(ms.Z.Title,{active:v.includes(t),className:"category-name",content:e.displayName,index:t,icon:s.createElement(f.Z,{className:"angle right caret-icon"}),onClick:E,"data-testid":"".concat(d,"-accordion-title-").concat(t)}),s.createElement(ms.Z.Content,{className:"template-list",active:v.includes(t),"data-testid":"".concat(d,"-accordion-content-").concat(t)},e.templates.map((function(e,t){return s.createElement(N.Z.Item,{key:t,className:"template-list-item","data-componentid":e.name},s.createElement(l.GI,{trigger:s.createElement("div",{className:"template-name"},e.name),content:e.title||e.name}),s.createElement("div",{className:"actions"},s.createElement(l.u,{compact:!0,trigger:s.createElement(f.Z,{className:"add-button",name:"info circle",onClick:function(){y(e)},"data-componentid":"".concat(e.name,"-info")}),content:p("console:develop.features.applications.edit.sections.signOnMethod.sections.templateDescription.popupContent")}),!u&&s.createElement(l.u,{compact:!0,trigger:s.createElement(f.Z,{className:"add-button",name:"add",onClick:function(){return o(e)},"data-componentid":"".concat(e.name,"-add")}),content:p("common:add")})))}))))}))):null))}));As.defaultProps={"data-testid":"script-templates-side-panel",defaultActiveIndexes:[-1],visible:!1};var Os=n(28472),ws=n(87535),Is=n(76210);function Ts(e){return Ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ts(e)}function Rs(){Rs=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",r=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,n){return e[t]=n}}function s(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),r=new A(o||[]);return a._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return w()}for(n.method=i,n.arg=a;;){var r=n.delegate;if(r){var l=E(r,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=c(e,t,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}(e,n,r),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=s;var u={};function d(){}function p(){}function f(){}var m={};l(m,i,(function(){return this}));var v=Object.getPrototypeOf,h=v&&v(v(O([])));h&&h!==t&&n.call(h,i)&&(m=h);var g=f.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function o(i,a,r,l){var s=c(e[i],e,a);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==Ts(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,r,l)}),(function(e){o("throw",e,r,l)})):t.resolve(d).then((function(e){u.value=e,r(u)}),(function(e){return o("throw",e,r,l)}))}l(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){o(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var o=c(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,u;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:w}}function w(){return{value:void 0,done:!0}}return p.prototype=f,l(g,"constructor",f),l(f,"constructor",p),p.displayName=l(f,r,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,r,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(y.prototype),l(y.prototype,a,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,o,i,a){void 0===a&&(a=Promise);var r=new y(s(t,n,o,i),a);return e.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},b(g),l(g,r,"Generator"),l(g,i,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=O,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],r=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(l&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function Ls(e,t,n,o,i,a,r){try{var l=e[a](r),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(o,i)}function Ns(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ks(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ks(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ks(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Ps=function(e){var t=e.authenticationSequence,n=e.onTemplateSelect,o=e.onScriptChange,i=e.readOnly,p=e.authenticationSteps,m=e.isDefaultScript,v=e.isMinimized,b=e.onAdaptiveScriptReset,S=e["data-testid"],A=(0,c.$)().t,O=(0,l.fQ)().getLink,w=(0,u.I0)(),I=(0,s.useRef)(null),T=(0,s.useRef)(null),R=Ns((0,s.useState)(void 0),2),k=R[0],P=R[1],U=Ns((0,s.useState)(void 0),2),M=U[0],x=U[1],D=Ns((0,s.useState)(!0),2),F=D[0],V=D[1],H=Ns((0,s.useState)(void 0),2),z=H[0],B=H[1],q=Ns((0,s.useState)(!0),2),W=q[0],G=q[1],Q=Ns((0,s.useState)(void 0),2),K=Q[0],$=Q[1],Y=Ns((0,s.useState)(void 0),2),X=Y[0],J=Y[1],ee=Ns((0,s.useState)(!1),2),te=ee[0],ne=ee[1],oe=Ns((0,s.useState)(!1),2),ie=oe[0],ae=oe[1],re=Ns((0,s.useState)(!1),2),le=re[0],se=re[1],ce=Ns((0,s.useState)(!1),2),ue=ce[0],de=ce[1],pe=Ns((0,s.useState)(v),2),fe=pe[0],me=pe[1],ve=Ns((0,s.useState)(!1),2),he=ve[0],ge=ve[1],be=Ns((0,s.useState)(!1),2),ye=be[0],Ee=be[1],Se=Ns((0,s.useState)(void 0),2),Ce=Se[0],Ae=Se[1],Oe=Ns((0,s.useState)(!1),2),we=Oe[0],Ie=Oe[1],Te=Ns((0,s.useState)([]),2),Re=Te[0],Le=Te[1],Ne=Ns((0,s.useState)([]),2),ke=Ne[0],Pe=Ne[1],Ue=Ns((0,s.useState)(!0),2),Me=Ue[0],xe=Ue[1],_e=Ns((0,s.useState)(!1),2),Ze=_e[0],je=_e[1],Fe=Ns((0,s.useState)(void 0),2),Ve=Fe[0],Be=Fe[1],qe=h.lD.getInstance();(0,s.useEffect)((function(){We()}),[]);var We=function(){De.F.getOrganizationType()!==g.$B.SUPER_ORGANIZATION&&De.F.getOrganizationType()!==g.$B.FIRST_LEVEL_ORGANIZATION&&De.F.getOrganizationType()!==g.$B.TENANT||(xe(!0),(0,Os.pR)({params:{secretType:Is.H0}}).then((function(e){Le(e.data),Pe(e.data)})).catch((function(e){var t,n;e.response&&e.response.data&&e.response.data.description?w((0,r.V_)({description:null===(t=e.response.data)||void 0===t?void 0:t.description,level:a.QU.ERROR,message:null===(n=e.response.data)||void 0===n?void 0:n.message})):w((0,r.V_)({description:A("console:develop.features.secrets.errors.generic.description"),level:a.QU.ERROR,message:A("console:develop.features.secrets.errors.generic.message")}))})).finally((function(){xe(!1)})))},Ge=function(){We()},Qe=function(){Ee(!1),Ge()};(0,s.useEffect)((function(){(0,y.im)().then((function(e){P(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?w((0,r.V_)({description:e.response.data.description,level:a.QU.ERROR,message:He.ru.API_RETRIEVAL_ERROR_ALERT_MESSAGE})):w((0,r.V_)({description:E.jo.ADAPTIVE_AUTH_TEMPLATES_FETCH_ERROR,level:a.QU.ERROR,message:He.ru.API_RETRIEVAL_ERROR_ALERT_MESSAGE}))}))}),[]);var Ke=function(){var e,t,n,o="100%";F&&(o="calc(100% - ".concat(null==I||null===(e=I.current)||void 0===e||null===(t=e.ref)||void 0===t||null===(n=t.current)||void 0===n?void 0:n.offsetWidth,"px)"));T.current.style.width=o};(0,s.useEffect)((function(){Ke()}),[F]),(0,s.useEffect)((function(){Ke()})),(0,s.useEffect)((function(){var e;i?me(!0):null==t||!t.script||C.w1.isDefaultScript(t.script,null==t||null===(e=t.steps)||void 0===e?void 0:e.length)?me(!1):me(!0)}),[t]),(0,s.useEffect)((function(){Ye(null==t?void 0:t.script)}),[null==t?void 0:t.steps,null==t?void 0:t.script,p]);var $e,Ye=function(e){var n,o;if(!e&&0===(null==t||null===(n=t.steps)||void 0===n?void 0:n.length))return B(C.w1.getDefaultScript()),void ne(!1);if(!e&&(null==t||null===(o=t.steps)||void 0===o?void 0:o.length)>0)return B(C.w1.generateScript(p+1)),void ne(!1);if(ze.StringUtils.isValidJSONString(e)){if(te&&!ie&&C.w1.minifyScript(K)!==C.w1.minifyScript(JSON.parse(e)))return;return ne(!0),B(JSON.parse(e)),void ae(!1)}return e&&C.w1.isDefaultScript(null!=K?K:e,null!=X?X:p)?(J(p),B(C.w1.generateScript(p+1)),void ne(!1)):e&&!C.w1.isDefaultScript(null!=K?K:e,null!=X?X:p)?(J(p),C.w1.minifyScript(K)!==C.w1.minifyScript(e)?void B(null!=K?K:e):(B(Ei().js(fs(e))),void ne(!1))):void(m?Xe():(B(e),ne(!1)))},Xe=function(){B(C.w1.generateScript(p+1)),ne(!1),b(),me(!1)},Je=[{content:s.createElement("div",{className:"tour-step"},s.createElement(l.X6,{bold:!0,as:"h6"},A("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.0.heading")),s.createElement(l.xv,null,A("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.0.content.0")),s.createElement(l.xv,null,s.createElement(_.c,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.0.content.1"},"Click on the ",s.createElement(l.EK,null,"Next")," button to learn about the process."))),disableBeacon:!0,placement:"top",target:'[data-tourid="conditional-auth"]'},{content:s.createElement("div",{className:"tour-step"},s.createElement(l.X6,{bold:!0,as:"h6"},A("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.1.heading")),s.createElement(l.xv,null,A("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.1.content.0"))),disableBeacon:!0,placement:"right",target:'[data-tourid="add-authentication-options-button"]'},{content:s.createElement("div",{className:"tour-step"},s.createElement(l.X6,{bold:!0,as:"h6"},A("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.2.heading")),s.createElement(l.xv,null,s.createElement(_.c,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.2.content.0"},"Click here if you need to add more steps to the flow. Once you add a new step,",s.createElement(l.EK,null,"executeStep(STEP_NUMBER);")," will appear on the script editor."))),disableBeacon:!0,placement:"right",target:'[data-tourid="add-new-step-button"]'}],tt=function(){var e,t=(e=Rs().mark((function e(){return Rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ve){e.next=19;break}return e.prev=1,e.next=4,(0,Os.c8)({params:{secretName:Ve.secretName,secretType:Ve.type}});case 4:w((0,r.V_)({description:A("console:develop.features.secrets.alerts.deleteSecret.description",{secretName:Ve.secretName,secretType:Ve.type}),level:a.QU.SUCCESS,message:A("console:develop.features.secrets.alerts.deleteSecret.message")})),e.next=13;break;case 7:if(e.prev=7,e.t0=e.catch(1),!(e.t0.response&&e.t0.response.data&&e.t0.response.data.description)){e.next=12;break}return w((0,r.V_)({description:e.t0.response.data.description,level:a.QU.ERROR,message:e.t0.response.data.message})),e.abrupt("return");case 12:w((0,r.V_)({description:A("console:develop.features.secrets.errors.generic.description"),level:a.QU.ERROR,message:A("console:develop.features.secrets.errors.generic.message")}));case 13:return e.prev=13,Ge(),je(!1),Be(void 0),e.finish(13);case 19:case"end":return e.stop()}}),e,null,[[1,7,13,19]])})),function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function r(e){Ls(a,o,i,r,l,"next",e)}function l(e){Ls(a,o,i,r,l,"throw",e)}r(void 0)}))});return function(){return t.apply(this,arguments)}}(),nt=function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=h.Wj.getUserPreferences();if(!(0,L.Z)(n)){var o=(0,Zn.Z)(n);(0,Hn.Z)(null==o||null===(e=o.identityAppsSettings)||void 0===e?void 0:e.devPortal,E.jo.CONDITIONAL_AUTH_TOUR_STATUS_STORAGE_KEY,t),h.Wj.setUserPreferences(o)}},ot=function(){var e,t=h.Wj.getUserPreferences();return!(0,L.Z)(t)&&(0,et.Z)(null==t||null===(e=t.identityAppsSettings)||void 0===e?void 0:e.devPortal,E.jo.CONDITIONAL_AUTH_TOUR_STATUS_STORAGE_KEY,!1)},it=s.createElement(l.cV,{onClose:function(){je(!1),Be(void 0)},onSecondaryActionClick:function(){je(!1),Be(void 0)},onPrimaryActionClick:tt,open:Ze,type:"negative",assertionHint:A("console:develop.features.secrets.modals.deleteSecret.assertionHint"),assertionType:"checkbox",primaryAction:A("console:develop.features.secrets.modals.deleteSecret.primaryActionButtonText"),secondaryAction:A("console:develop.features.secrets.modals.deleteSecret.secondaryActionButtonText"),"data-testid":"".concat(S,"-delete-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(S,"-delete-confirmation-modal-header")},A("console:develop.features.secrets.modals.deleteSecret.title")),s.createElement(l.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(S,"-delete-confirmation-modal-message")},A("console:develop.features.secrets.modals.deleteSecret.warningMessage")),s.createElement(l.cV.Content,{"data-testid":"".concat(S,"-delete-confirmation-modal-content")},A("console:develop.features.secrets.modals.deleteSecret.content")));return s.createElement(s.Fragment,null,s.createElement("div",{className:"conditional-auth-section"},s.createElement(l.el,{fluid:!0,"data-testid":"".concat(S,"-accordion"),className:"conditional-auth-accordion"},s.createElement(l.el.Title,{"data-testid":"".concat(S,"-accordion-title"),active:fe,content:s.createElement(s.Fragment,null,s.createElement("div",{className:"conditional-auth-accordion-title"},!i&&s.createElement(j.Z,{toggle:!0,"data-tourid":"conditional-auth",onChange:function(){fe?se(!0):(qe.publish("application-sign-in-method-enable-conditional-authentication"),me(!0))},checked:fe,className:"conditional-auth-accordion-toggle"}),s.createElement("div",{className:"conditional-auth-accordion-title-text"},s.createElement(l.X6,{as:"h5",compact:!0},A("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.accordion.title.heading")),s.createElement(l.xv,{muted:!0,compact:!0},A("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.accordion.title.description"),s.createElement(l.eb,{link:O("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.learnMore")},A("common:learnMore"))))),s.createElement(ss,{continuous:!0,disableOverlay:!0,showSkipButton:!0,callback:function(e){e.status!==hl.FINISHED&&e.status!==hl.SKIPPED||nt()},run:!!fe&&!1===ot(),steps:Je,styles:{buttonClose:{display:"none"},tooltipContent:{paddingBottom:1}},locale:{back:A("common:back"),close:A("common:close"),last:A("common:done"),next:A("common:next"),skip:A("common:skip")}})),hideChevron:!0}),s.createElement(l.el.Content,{active:fe,className:"conditional-auth-accordion-content","data-testid":"".concat(S,"-accordion-content")},s.createElement(us.Z.Pushable,{className:"script-editor-with-template-panel no-border"},!i&&s.createElement(As,{title:A("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.templates.heading"),ref:I,onTemplateSelect:function(e){x(e),de(!0)},templates:(null==k?void 0:k.templatesJSON)&&Object.values(k.templatesJSON),visible:F,readOnly:i,"data-testid":"".concat(S,"-script-templates-side-panel")}),s.createElement(us.Z.Pusher,null,s.createElement("div",{className:"script-editor-container",ref:T},s.createElement(N.Z,{attached:"top",className:"action-panel",secondary:!0},s.createElement(N.Z.Menu,{position:"right"},void 0===($e=O("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.apiReference"))?null:s.createElement(N.Z.Item,{className:"action p-3",href:$e,target:"_blank"},s.createElement(l.u,{compact:!0,trigger:s.createElement(l.zx,{labelPosition:"left"},s.createElement(l.dn,{className:"p-1 mr-1",transparent:!0,defaultIcon:!0,size:"micro",icon:(0,h.YT)().openBookIcon,"data-testid":"".concat(S,"-code-editor-open-documentation")}),s.createElement("p",null,A("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.apiDocumentation"))),content:A("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.goToApiDocumentation"),size:"mini"})),s.createElement(N.Z.Item,{className:"action ".concat(we?"selected-secret":"")},s.createElement("div",null,s.createElement(cs.Z,{defaultOpen:!Me,labeled:!0,button:!0,upward:!1,options:ke,onOpen:function(){return Ie(!0)},onClose:function(){return Ie(!1)},icon:s.createElement(l.GI,{disabled:we,trigger:s.createElement("div",null,s.createElement(l.dn,{hoverable:!0,transparent:!0,defaultIcon:!0,size:"micro",hoverType:"rounded",icon:(0,h.YT)().keyIcon,"data-testid":"".concat(S,"-code-editor-secret-selection")})),content:s.createElement(_.c,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.secretsList.tooltips.keyIcon"},"Securely store access keys as secrets. A secret can replace the consumer secret in ",s.createElement(l.EK,null,"callChoreo()")," function in the conditional authentication scripts."),position:"bottom left",pinned:!0})},s.createElement(cs.Z.Menu,null,Re.length>0&&s.createElement(Z.Z,{"data-testid":"".concat(S,"-secret-search"),icon:"search",iconPosition:"left",className:"search",placeholder:A("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.secretsList.search"),onChange:function(e){var t;null!==(t=e.currentTarget)&&void 0!==t&&t.value?Pe(Re.filter((function(t){return t.secretName.toLowerCase().includes(e.currentTarget.value.toLowerCase())}))):Pe(Re)},onClick:function(e){return e.stopPropagation()}}),s.createElement(cs.Z.Menu,{"data-testid":"".concat(S,"-secret-list"),scrolling:!0,className:"custom-dropdown"},ke.length>0?ke.map((function(e){return s.createElement(cs.Z.Item,{key:e.secretId},s.createElement(d.Z,{as:"h6",className:"header-with-icon",style:{margin:"0.25rem auto"}},s.createElement(l.dn,{defaultIcon:!0,link:!0,linkType:"primary",transparent:!0,floated:"right",size:"micro",style:{paddingTop:0},icon:s.createElement(l.u,{trigger:s.createElement(f.Z,{name:"trash alternate"}),content:A("common:delete"),size:"mini"}),onClick:function(){!function(e){Be(e),je(!0)}(e)},"data-testid":"".concat(S,"-secret-delete")}),s.createElement(l.dn,{defaultIcon:!0,transparent:!0,link:!0,linkType:"primary",floated:"right",size:"micro",style:{paddingTop:0},icon:s.createElement(l.u,{trigger:s.createElement(f.Z,{name:"plus"}),content:A("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.secretsList.tooltips.plusIcon"),size:"mini"}),onClick:function(){!function(e){var t=Ce.getDoc(),n='"'.concat(e.secretName,'"');if(t.somethingSelected())t.replaceSelection(n);else{var o=t.getCursor();t.replaceRange(n,o)}}(e)},"data-testid":"".concat(S,"-secret-add")}),s.createElement(d.Z.Content,null,e.secretName),s.createElement(d.Z.Subheader,{className:"truncate ellipsis"},e.description)))})):s.createElement(cs.Z.Item,{"data-testid":"".concat(S,"-empty-placeholder"),key:"secretEmptyPlaceholder",text:A("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.secretsList.emptyPlaceholder"),disabled:!0})),(De.F.getOrganizationType()===g.$B.SUPER_ORGANIZATION||De.F.getOrganizationType()===g.$B.FIRST_LEVEL_ORGANIZATION||De.F.getOrganizationType()===g.$B.TENANT)&&s.createElement(cs.Z.Menu,{className:"create-button-item",scrolling:!0},s.createElement(cs.Z.Item,{key:"createSecret",text:A("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.secretsList.create"),onClick:function(){Ee(!0)}})))))),s.createElement(N.Z.Item,{className:"action"},s.createElement(l.u,{compact:!0,trigger:s.createElement("div",null,s.createElement(l.dn,{hoverable:!0,transparent:!0,defaultIcon:!0,size:"micro",hoverType:"rounded",icon:(0,h.YT)().maximize,onClick:function(){ge(!he)},"data-testid":"".concat(S,"-code-editor-fullscreen-toggle")})),content:function(){var e=A("common:goFullScreen");return he&&setTimeout((function(){e=A("common:exitFullScreen")}),500),e},size:"mini"})),s.createElement(N.Z.Item,{className:"action"},s.createElement(l.u,{compact:!0,trigger:s.createElement("div",null,s.createElement(l.dn,{hoverable:!0,defaultIcon:!0,transparent:!0,size:"micro",hoverType:"rounded",icon:W?(0,h.YT)().lightMode:(0,h.YT)().darkMode,onClick:function(){G(!W)},"data-testid":"".concat(S,"-code-editor-mode-toggle")})),content:A(W?"common:lightMode":"common:darkMode"),size:"mini"})),!i&&s.createElement(N.Z.Item,{onClick:function(){V(!F)},className:"action hamburger","data-testid":"".concat(S,"-script-template-sidebar-toggle")},s.createElement(f.Z,{name:"bars"})))),s.createElement("div",{className:"code-editor-wrapper"},s.createElement(l.pq,{editorDidMount:function(e){Ae(e)},lint:!0,allowFullScreen:!0,controlledFullScreenMode:!1,triggerFullScreen:he,language:"javascript",sourceCode:z,options:{lineWrapping:!0},onChange:function(e,t,n){$(n),o(n)},onFullScreenToggle:function(e){ge(e),function(){var e=C.w1.sourceToString(K);if(e!==C.w1.sourceToString(z)){var t=Ce.doc.getCursor();B(e.split(E.jo.LINE_BREAK)),Ce.doc.setCursor(t)}}()},theme:W?"dark":"light",readOnly:i,translations:{copyCode:A("common:copyToClipboard"),exitFullScreen:A("common:exitFullScreen"),goFullScreen:A("common:goFullScreen")},"data-testid":"".concat(S,"-code-editor")}))))))),ye&&s.createElement(ws.Z,{onClose:Qe}),Ze&&it),le&&s.createElement(l.cV,{onClose:function(){return se(!1)},type:"warning",open:le,primaryAction:A("common:confirm"),secondaryAction:A("common:cancel"),onSecondaryActionClick:function(){return se(!1)},onPrimaryActionClick:function(){se(!1),Xe()},"data-testid":"".concat(S,"-delete-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(S,"-reset-confirmation-modal-header")},A("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.heading")),s.createElement(l.cV.Message,{attached:!0,warning:!0,"data-testid":"".concat(S,"-reset-confirmation-modal-message")},A("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.message")),s.createElement(l.cV.Content,{"data-testid":"".concat(S,"-reset-confirmation-modal-content")},s.createElement(_.c,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.content"},"This action will reset the adaptive authentication script back to default. Click ",s.createElement(l.EK,null,"Confirm")," to proceed."))),ue&&s.createElement(l.cV,{onClose:function(){return de(!1)},type:"warning",open:ue,primaryAction:A("common:confirm"),secondaryAction:A("common:cancel"),onSecondaryActionClick:function(){de(!1),x(void 0)},onPrimaryActionClick:function(){var e;de(!1),e=M,qe.publish("application-sign-in-method-conditional-authentication-template",{type:(0,bi.Z)(e.name)}),ae(!0),n(e),x(void 0)},"data-testid":"".concat(S,"-adaptive-script-template-change-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(S,"-reset-confirmation-modal-header")},A("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.heading")),s.createElement(l.cV.Message,{attached:!0,warning:!0,"data-testid":"".concat(S,"-reset-confirmation-modal-message")},A("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.message")),s.createElement(l.cV.Content,{"data-testid":"".concat(S,"-reset-confirmation-modal-content")},s.createElement(_.c,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.changeConfirmation.content"},"The selected template will replace the existing script in the editor and the step configuration. Your current progress will be lost. Click ",s.createElement(l.EK,null,"Confirm")," to proceed."))))};Ps.defaultProps={"data-testid":"script-based-flow",isMinimized:!0};var Us=n(50350),Ms=n(83849),xs=n.n(Ms),_s=n(2189);function Ds(e){return function(e){if(Array.isArray(e))return Fs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||js(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||js(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function js(e,t){if(e){if("string"==typeof e)return Fs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fs(e,t):void 0}}function Fs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Vs=function(e){var t=e.authenticators,n=e.authenticationSteps,o=e.currentStep,i=e.defaultName,a=e.heading,r=e.onAuthenticatorSelect,u=e.selected,d=e.showLabels,v=e["data-testid"],h=(0,c.$)().t,g=Zs((0,s.useState)(void 0),2),b=g[0],y=g[1],E=xs()("authenticator",{"with-labels":d});(0,s.useEffect)((function(){u&&y(u)}),[u]);var S=function(e){return e.category===en.Xi.SECOND_FACTOR?0!==o&&C.Yw.isSecondFactorAdditionValid(e.defaultAuthenticator.authenticatorId,o,n):e.name===en.bQ.BACKUP_CODE_AUTHENTICATOR?0!==o&&C.Yw.countTwoFactorAuthenticatorsInCurrentStep(o,n)>0:![en.bQ.IDENTIFIER_FIRST_AUTHENTICATOR_ID,en.bQ.BASIC_AUTHENTICATOR_ID].includes(e.id)||C.Yw.isFirstFactorValid(o,n)},A=function(e){var t,n,i=s.createElement(p.Z,{attached:"top"},s.createElement(f.Z,{name:"info circle"})," Info");return e.category===en.Xi.SECOND_FACTOR?s.createElement(s.Fragment,null,0===o?s.createElement(s.Fragment,null,i,s.createElement(l.xv,null,null!==(t=m.applicationConfig.signInMethod.authenticatorSelection.messages.secondFactorDisabledInFirstStep)&&void 0!==t?t:h("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.secondFactorDisabledInFirstStep"))):s.createElement(s.Fragment,null,i,s.createElement(l.xv,null,null!==(n=m.applicationConfig.signInMethod.authenticatorSelection.messages.secondFactorDisabled)&&void 0!==n?n:s.createElement(_.c,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.secondFactorDisabled"},"The second-factor authenticators can only be used if"," ",s.createElement(l.EK,{withBackground:!0},"Username & Password"),","," ",s.createElement(l.EK,{withBackground:!0},"Social Login"),",",s.createElement(l.EK,{withBackground:!0},"Security Key/Biometrics"),"or any other handlers that can handle these factors are present in a previous step.")))):e.name===en.bQ.BACKUP_CODE_AUTHENTICATOR?s.createElement(s.Fragment,null,0===o?s.createElement(s.Fragment,null,i,s.createElement(l.xv,null,h("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.backupCodesDisabledInFirstStep"))):s.createElement(s.Fragment,null,i,s.createElement(l.xv,null,h("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.backupCodesDisabled")))):e.category===en.Xi.SOCIAL?s.createElement(s.Fragment,null,i,s.createElement(l.xv,null,h("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.authenticatorDisabled"))):[en.bQ.IDENTIFIER_FIRST_AUTHENTICATOR_ID,en.bQ.BASIC_AUTHENTICATOR_ID].includes(e.id)?s.createElement(s.Fragment,null,i,s.createElement(l.xv,null,h("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.firstFactorDisabled"))):void 0},O=function(e){var t;return e&&null!==(t=en.Cr.getAuthenticatorLabels(e.authenticatorId))&&void 0!==t?t:[]};return s.createElement(s.Fragment,{"data-testid":v},a&&s.createElement(l.X6,{as:"h6"},a),t.map((function(e,t){return e.id===en.bQ.BACKUP_CODE_AUTHENTICATOR_ID?null:s.createElement(l.GI,{hoverable:!0,hideOnScroll:!0,position:"top center",key:t,on:"hover",disabled:S(e),content:A(e),trigger:s.createElement(l.rJ,{showTooltips:!0,imageSize:"micro",className:E,header:e.displayName||i,disabled:!S(e),selected:S(e)&&Array.isArray(b)&&b.some((function(t){return t.id===e.id})),subHeader:e.categoryDisplayName,description:e.description,image:e.image,tags:d&&O(null==e?void 0:e.defaultAuthenticator),onClick:function(){S(e)&&function(e){if(e.isEnabled){if(b.some((function(t){return t.id===e.id}))){var t=b.filter((function(t){return t.id!==e.id}));return r(t),void y(t)}r([].concat(Ds(b),[e])),y([].concat(Ds(b),[e]))}}(e)},imageOptions:{floated:!1,inline:!0},"data-testid":"".concat(v,"-authenticator-").concat(e.name)})})})))};Vs.defaultProps={"data-testid":"authenticators",defaultName:"Unknown",showLabels:!0};var Hs=n(85065),zs=["allowSocialLoginAddition","authenticationSteps","authenticators","categorizedIDPTemplates","className","currentStep","header","onClose","open","onAddNewClick","onIDPCreateWizardTrigger","onModalSubmit","message","showStepSelector","stepCount","showLabels","subjectStepId","attributeStepId","refreshAuthenticators","data-testid"];function Bs(){return Bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Bs.apply(this,arguments)}function qs(e){return function(e){if(Array.isArray(e))return Qs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Gs(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ws(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||Gs(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gs(e,t){if(e){if("string"==typeof e)return Qs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qs(e,t):void 0}}function Qs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Ks(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var $s=function(e){var t=e.allowSocialLoginAddition,n=e.authenticationSteps,o=e.authenticators,i=e.categorizedIDPTemplates,a=e.className,r=e.currentStep,d=e.header,m=e.onClose,v=e.open,b=e.onAddNewClick,y=e.onIDPCreateWizardTrigger,E=e.onModalSubmit,S=e.message,C=e.showStepSelector,A=e.stepCount,O=e.showLabels,w=e.subjectStepId,I=e.attributeStepId,T=e.refreshAuthenticators,R=e["data-testid"],N=Ks(e,zs),U=(0,c.$)().t,M=Ws((0,s.useState)(v),1)[0],x=Ws((0,s.useState)([]),2),_=x[0],D=x[1],j=Ws((0,s.useState)([]),2),F=j[0],V=j[1],H=Ws((0,s.useState)(A),2),z=H[0],B=H[1],q=Ws((0,s.useState)(null),2),W=q[0],Q=q[1],K=Ws((0,s.useState)(!1),2),$=K[0],Y=K[1],X=Ws((0,s.useState)([]),2),J=X[0],ee=X[1],te=Ws((0,s.useState)([]),2),ne=te[0],oe=te[1],ie=xs()("add-authenticator-modal",a),ae=h.lD.getInstance(),re=(0,u.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organizationType}));(0,s.useEffect)((function(){if(o){var e=re===g.$B.SUBORGANIZATION?o.filter((function(e){var t;return e.name!==en.bQ.SMS_OTP_AUTHENTICATOR_ID&&e.name!==(null===Hs.authenticatorConfig||void 0===Hs.authenticatorConfig||null===(t=Hs.authenticatorConfig.overriddenAuthenticatorNames)||void 0===t?void 0:t.SMS_OTP_AUTHENTICATOR)})):o;V(e),le(e)}}),[o]);var le=function(e){var t=[];e.filter((function(e){en.zc.getAuthenticatorLabels(e).filter((function(e){t.includes(e)||t.push(e)}))})),ee(t)},se=function(e,t){var n=t.value.toLocaleLowerCase();Q(n),V(ce(n,ne))},ce=function(e,t){var n=function(e){return!!(0,L.Z)(t)||en.zc.getAuthenticatorLabels(e).some((function(e){return t.includes(e)}))};return o.filter((function(t){var o,i,a,r,l;return e?(null==t||null===(o=t.displayName)||void 0===o?void 0:o.toLocaleLowerCase()).includes(e)||en.zc.getAuthenticatorLabels(t).some((function(t){var n,o,i;return(null==t||null===(n=t.toLocaleLowerCase())||void 0===n?void 0:n.includes(e))||(null===(o=(0,_s.Z)(t))||void 0===o||null===(i=o.toLocaleLowerCase())||void 0===i?void 0:i.includes(e))}))||null!==(i=t.category)&&void 0!==i&&null!==(a=i.toLocaleLowerCase())&&void 0!==a&&a.includes(e)||null!==(r=t.categoryDisplayName)&&void 0!==r&&null!==(l=r.toLocaleLowerCase())&&void 0!==l&&l.includes(e)?n(t):void 0:n(t)}))},ue=function(){b(),Y(!0)};return s.createElement(s.Fragment,null,s.createElement(G.Z,Bs({className:ie,"data-testid":R,open:M},N),s.createElement(G.Z.Header,null,d),C&&s.createElement(G.Z.Content,{className:"step-selection-dropdown-container"},s.createElement(s.Fragment,null,s.createElement(l.X6,{as:"h5"},U("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.stepSelectDropdown.label")),s.createElement(l.kW,null,U("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.stepSelectDropdown.hint")),s.createElement(k.Z,null,s.createElement(k.Z.Field,{inline:!0},s.createElement(k.Z.Select,{scrolling:!0,placeholder:U("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.stepSelectDropdown.placeholder"),options:function(){for(var e=[],t=0;t<A;t++)e.push({key:t,text:"".concat(U("common:step")," ").concat(t+1),value:t+1});return e}(),onChange:function(e,t){var n=t.value;B(parseInt(n,10))},value:z,"data-testid":"".concat(R,"-step-select")}))))),$&&i?s.createElement(G.Z.Content,{scrolling:!0,className:"authenticator-container"},s.createElement("div",{className:"page-header-wrapper"},s.createElement("div",{className:"back-button mb-0",onClick:function(){return Y(!1)}},s.createElement(f.Z,{name:"arrow left"}),U("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.goBackButton"))),s.createElement(be.Z,{hidden:!0}),i.map((function(e,t){return s.createElement(l.Q8,{key:t,isEmpty:!(null!=e&&e.templates&&Array.isArray(e.templates)&&e.templates.length>0),emptyPlaceholder:s.createElement(l.$J,{image:(0,h.jF)().newList,imageSize:"tiny",title:U("console:develop.features.authenticationProvider.placeHolders.emptyConnectionTypeList.title"),subtitle:[U("console:develop.features.authenticationProvider.placeHolders.emptyConnectionTypeList.subtitles.0"),U("console:develop.features.authenticationProvider.placeHolders.emptyConnectionTypeList.subtitles.1")],"data-testid":"".concat(R,"-empty-placeholder")})},e.templates.map((function(e,t){var n="organization-enterprise-idp"===e.templateId;return n&&!isOrganizationManagementEnabled||n&&re===g.$B.SUBORGANIZATION?null:s.createElement(l.Q8.Card,{key:t,resourceName:e.name,isResourceComingSoon:e.comingSoon,disabled:e.disabled,comingSoonRibbonLabel:U("common:comingSoon"),resourceDescription:e.description,resourceImage:en.zc.resolveTemplateImage(e.image,(0,en.nI)()),tags:e.tags,onClick:function(){y(e.id,(function(){Y(!1)}),e)},showTooltips:!1,"data-testid":"".concat(R,"-").concat(e.name)})})))}))):s.createElement(s.Fragment,null,s.createElement(G.Z.Content,{className:"authenticator-search-container"},s.createElement(Z.Z,{loading:!1,className:"mb-3",icon:s.createElement(f.Z,{name:"search"}),value:W,iconPosition:"left",fluid:!0,onChange:se,placeholder:U("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.search.placeholder")}),J&&Array.isArray(J)&&J.length>0&&s.createElement(p.Z.Group,null,J.map((function(e,t){var n=ne.includes(e);return s.createElement(p.Z,{basic:!0,key:t,as:"a",className:"filter-label ".concat(n?"active":""),onClick:function(){return function(e){var t=[];t=ne.includes(e)?ne.filter((function(t){return t!==e})):[].concat(qs(ne),[e]),oe(t),V(ce(W,t))}(e)}},en.zc.getAuthenticatorLabelDisplayName(e),n&&s.createElement(f.Z,{name:"check"}))})))),s.createElement(G.Z.Content,{scrolling:!0,className:"authenticator-container"},S,F&&Array.isArray(F)&&F.length>0?s.createElement(Fo.Z.Group,{itemsPerRow:3},s.createElement(Vs,{refreshAuthenticators:T,authenticators:F,authenticationSteps:n,onAuthenticatorSelect:function(e){D(e)},selected:_,showLabels:O,"data-testid":"".concat(R,"-authenticators"),currentStep:r,subjectStepId:w,attributeStepId:I}),t&&s.createElement(Fo.Z,{as:"div",className:"basic-card authenticator add-custom-authenticator-card ".concat(O?"with-labels":""),onClick:ue},s.createElement(Fo.Z.Content,{textAlign:"center"},s.createElement(l.dn,{transparent:!0,className:"mb-3",size:"mini",icon:(0,ct.s_)().addCircleOutline}),s.createElement(l.xv,{weight:"500"},U("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.addNewAuthenticatorCard.title"))))):s.createElement("div",null,s.createElement(l.$J,{subtitle:[U("console:develop.features.applications.placeholders.emptyAuthenticatorsList.subtitles")]}),t&&s.createElement(Fo.Z.Group,{centered:!0,itemsPerRow:3},s.createElement(Fo.Z,{as:"div",className:"basic-card authenticator add-custom-authenticator-card ".concat(O?"with-labels":""),onClick:ue},s.createElement(Fo.Z.Content,{textAlign:"center"},s.createElement(l.dn,{transparent:!0,className:"mb-3",size:"mini",icon:(0,ct.s_)().addCircleOutline}),s.createElement(l.xv,{weight:"500"},U("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.addNewAuthenticatorCard.title")))))))),s.createElement(G.Z.Actions,null,s.createElement(P.Z,null,s.createElement(P.Z.Row,{column:1},s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:8},s.createElement(l.Qj,{floated:"left",onClick:function(e){return m(e,null)}},U("common:cancel"))),!$&&s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:8},s.createElement(l.KM,{floated:"right",onClick:function(){ae.compute((function(){null==_||_.forEach((function(e){ae.publish("application-sign-in-method-add-new-authenticator",{type:(0,bi.Z)(e.defaultAuthenticator.name)})}))})),E(_,z)},disabled:(0,L.Z)(_),"data-testid":"".concat(R,"-next-button")},U("common:add"))))))))};function Ys(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xs(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}$s.defaultProps={"data-testid":"add-authenticator-modal",showLabels:!0,size:"small"};var Js=function(e){var t=e.authenticators,n=e.className,o=e.onStepDelete,i=e.onAddAuthenticationClick,a=e.onStepOptionAuthenticatorChange,r=e.onStepOptionDelete,u=e.readOnly,d=e.showStepDeleteAction,m=e.showStepMeta,v=e.step,g=e.stepIndex,b=e.subjectStepId,y=e.attributeStepId,E=e.onSubjectCheckboxChange,S=e.onAttributeCheckboxChange,C=e.updateAuthenticationStep,A=e["data-testid"],O=(0,c.$)().t,w=xs()("authentication-step-container timeline-body",n),I=Ys((0,s.useState)(!1),2),T=I[0],R=I[1],L=Ys((0,s.useState)(!1),2),N=L[0],P=L[1],U=Ys((0,s.useState)(null),2),M=U[0],x=U[1];(0,s.useEffect)((function(){var e=!1;v.options.map((function(t){[en.bQ.TOTP_AUTHENTICATOR,en.bQ.EMAIL_OTP_AUTHENTICATOR,en.bQ.SMS_OTP_AUTHENTICATOR,en.bQ.BACKUP_CODE_AUTHENTICATOR,en.bQ.IDENTIFIER_FIRST_AUTHENTICATOR].includes(t.authenticator)?R(!1):R(!0),[en.bQ.TOTP_AUTHENTICATOR,en.bQ.EMAIL_OTP_AUTHENTICATOR,en.bQ.SMS_OTP_AUTHENTICATOR,en.bQ.BACKUP_CODE_AUTHENTICATOR].includes(t.authenticator)&&(e=!0)})),P(e)}),[JSON.stringify(v.options)]);var _=(0,s.useMemo)((function(){return b===g+1}),[b,g]),D=(0,s.useMemo)((function(){return y===g+1}),[y,g]),Z=(0,s.useMemo)((function(){var e=!1;return v.options.map((function(t,n){t.authenticator===en.bQ.BACKUP_CODE_AUTHENTICATOR&&(e=!0,x(n))})),e}),[JSON.stringify(v.options)]);return s.createElement("div",{className:"timeline-item"},s.createElement("div",{className:"timeline-badge"},v.id),s.createElement("div",{className:w,"data-testid":A},m&&s.createElement("div",{className:"authentication-step-actions"},s.createElement(l.X6,{className:"step-header",bold:"500",as:"h6"},O("common:step")," ",v.id),!u&&d&&s.createElement(f.Z,{className:"delete-button",name:"cancel",onClick:function(){return o(g)},"data-testid":"".concat(A,"-delete-button")})),s.createElement("div",{className:"authentication-step with-extension ".concat(v.options&&v.options instanceof Array&&v.options.length>0?"":"empty-placeholder-container")},v.options&&v.options instanceof Array&&v.options.length>0?s.createElement(s.Fragment,null,v.options.map((function(e,n){return function(e,n,o){if(t&&t instanceof Array&&t.length>0){var i,c,d,f,m=null;return(m=e.idp===en.bQ.LOCAL_IDP_IDENTIFIER?t.find((function(t){return t.defaultAuthenticator.name===e.authenticator})):t.find((function(t){return t.idp===e.idp})))?s.createElement(l.GI,{wide:!0,style:{minWidth:"200px"},key:n,hoverable:!0,disabled:!(null!==(i=m)&&void 0!==i&&i.authenticators&&m.authenticators instanceof Array&&m.authenticators.length>1),trigger:s.createElement("div",{className:"authenticator-item-wrapper","data-testid":"".concat(A,"-option"),hidden:(null===(c=m)||void 0===c?void 0:c.id)===en.bQ.BACKUP_CODE_AUTHENTICATOR_ID},s.createElement(Fo.Z,{fluid:!0,className:"basic-card authenticator-card"},s.createElement(Fo.Z.Content,null,!u&&s.createElement(p.Z,{basic:!0,floating:!0,circular:!0,className:"close-button",size:"mini",onClick:!u&&function(){return r(n,o)},"data-testid":"".concat(A,"-close-button")},s.createElement(l.dn,{transparent:!0,size:"nano",icon:(0,h.s_)().crossIcon})),s.createElement(l.dn,{square:!0,inline:!0,className:"card-image",size:"micro",spaced:"right",floated:"left",icon:m.image,"data-testid":"".concat(A,"-image"),transparent:!0}),s.createElement("span",{"data-testid":"".concat(A,"-option-name")},m.displayName)))),content:s.createElement("div",null,s.createElement(p.Z,{attached:"top"},O("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.actions.selectAuthenticator")),s.createElement(k.Z,{"data-testid":"".concat(A,"-authenticator-selection")},null===(d=m)||void 0===d||null===(f=d.authenticators)||void 0===f?void 0:f.map((function(t){return s.createElement(k.Z.Field,{key:t.authenticatorId},s.createElement(Cn.Z,{label:t.name,name:t.name,value:t.authenticatorId,checked:t.name===e.authenticator,onChange:function(){return a(n,o,t)}}))}))))}):null}}(e,g,n)})),!u&&s.createElement(l.Qj,{"data-tourid":"add-authentication-options-button",className:"authenticator-item-wrapper",onClick:i},s.createElement(f.Z,{name:"plus"}),O("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.actions.addAuthentication"))):!u&&s.createElement(s.Fragment,null,s.createElement(l.Qj,{fluid:!0,"data-tourid":"add-authentication-options-button",onClick:i},s.createElement(f.Z,{name:"plus"}),O("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.actions.addAuthentication")),s.createElement(l.$J,{subtitle:[O("console:develop.features.applications.placeholders.emptyAuthenticatorStep.subtitles.0")],"data-testid":"".concat(A,"-empty-placeholder")}))),!u&&m&&v.options&&v.options instanceof Array&&v.options.length>0&&s.createElement("div",{className:"checkboxes-extension"},T?s.createElement(s.Fragment,null,s.createElement(j.Z,{label:O("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.forms.fields.subjectIdentifierFrom.label"),checked:_,onChange:function(){return E(g+1)},readOnly:_}),s.createElement(j.Z,{label:O("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.forms.fields.attributesFrom.label"),checked:D,onChange:function(){return S(g+1)},readOnly:D})):null,N?s.createElement(j.Z,{label:O("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.forms.fields.enableBackupCodes.label"),checked:Z,onChange:function(){Z?r(g,M):C(g,en.bQ.BACKUP_CODE_AUTHENTICATOR_ID)}}):null)))};function ec(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function tc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ec(Object(n),!0).forEach((function(t){nc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ec(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oc(e){return function(e){if(Array.isArray(e))return rc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ac(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ic(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||ac(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ac(e,t){if(e){if("string"==typeof e)return rc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rc(e,t):void 0}}function rc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Js.defaultProps={"data-testid":"authentication-step"};var lc=function(e){var t=e.authenticators,n=e.authenticationSequence,o=e.onIDPCreateWizardTrigger,i=e.onUpdate,d=e.readOnly,p=e.triggerUpdate,f=e.updateSteps,v=e.onAuthenticationSequenceChange,g=e.refreshAuthenticators,b=e["data-testid"],y=(0,c.$)().t,A=(0,u.I0)(),O=(0,u.v9)((function(e){return e.config})),w=(0,u.v9)((function(e){var t;return null===(t=e.identityProvider)||void 0===t?void 0:t.groupedTemplates})),I=ic((0,s.useState)([]),2),T=I[0],R=I[1],N=ic((0,s.useState)([]),2),k=N[0],P=N[1],U=ic((0,s.useState)([]),2),M=U[0],_=U[1],D=ic((0,s.useState)([]),2),Z=D[0],j=D[1],F=ic((0,s.useState)([]),2),V=F[0],H=F[1],z=ic((0,s.useState)([]),2),B=z[0],q=z[1],W=ic((0,s.useState)(1),2),G=W[0],Q=W[1],K=ic((0,s.useState)(1),2),$=K[0],Y=K[1],X=ic((0,s.useState)(!1),2),J=X[0],ee=X[1],te=ic((0,s.useState)(!1),2),ne=te[0],oe=te[1],ie=ic((0,s.useState)(1),2),ae=ie[0],re=ie[1],le=ic((0,s.useState)(!1),2),se=le[0],ce=le[1],ue=ic((0,s.useState)(void 0),2),de=ue[0],pe=ue[1],fe=ic((0,s.useState)(!1),2),me=fe[0],ve=fe[1],he=ic((0,s.useState)(0),2),ge=he[0],be=he[1],ye=ic((0,s.useState)(0),2),Ee=ye[0],Se=ye[1],Ce=ic((0,s.useState)(0),2),Ae=Ce[0],Oe=Ce[1],we=(0,s.useRef)(null),Ie=h.lD.getInstance();(0,s.useEffect)((function(){if(t&&Array.isArray(t)&&t[0]&&t[1]){var e=t[0],n=t[1],o=[],i=[],a=[],r=[],l=[];e.forEach((function(e){e.id===en.bQ.FIDO_AUTHENTICATOR_ID&&(e.displayName=m.identityProviderConfig.getOverriddenAuthenticatorDisplayName(e.id,e.displayName)),e.name===en.bQ.BACKUP_CODE_AUTHENTICATOR?l.push(e):E.jo.SECOND_FACTOR_AUTHENTICATORS.includes(e.id)?r.push(e):a.push(e)})),n.forEach((function(e){E.jo.SOCIAL_AUTHENTICATORS.includes(e.defaultAuthenticator.authenticatorId)?o.push(e):i.push(e)})),j(r),H(l),_(a),R(i),P(o)}}),[t]),(0,s.useEffect)((function(){n&&(q(null==n?void 0:n.steps),Q(null==n?void 0:n.subjectStepId),Y(null==n?void 0:n.attributeStepId))}),[n]),(0,s.useEffect)((function(){p&&(Me()&&i({attributeStepId:$,requestPathAuthenticators:[],steps:B,subjectStepId:G,type:S.a1.USER_DEFINED}))}),[p]),(0,s.useEffect)((function(){if(null!=we&&we.current)try{we.current.scrollLeft=we.current.scrollWidth}catch(e){}}),[B]),(0,s.useEffect)((function(){me&&w&&w.length>0&&De(w)}),[w,me]),(0,s.useEffect)((function(){oc(B).some((function(e){return!(0,L.Z)(e.options)}))?v(!1,B):v(!0,B)}),[B]);var Te=function(e,t){var n=[].concat(oc(M),oc(T),oc(k),oc(Z),oc(V)).find((function(e){return e.id===t}));if(n){var o=oc(B);e===o.length&&(o.push({id:o.length+1,options:[]}),f(!0));var i=function(e,t){var n,o=t.some((function(t){var n;return t.authenticator===(null==e||null===(n=e.defaultAuthenticator)||void 0===n?void 0:n.name)})),i=E.jo.EIDP_AUTHENTICATORS.includes(null==e||null===(n=e.defaultAuthenticator)||void 0===n?void 0:n.name);return o&&i&&(o=t.some((function(t){return t.idp===(null==e?void 0:e.idp)}))),!o||(A((0,r.V_)({description:y("console:develop.features.applications.notifications.duplicateAuthenticationStep.genericError.description"),level:a.QU.WARNING,message:y("console:develop.features.applications.notifications.duplicateAuthenticationStep.genericError.message")})),!1)}(n,o[e].options);if(E.jo.HANDLER_AUTHENTICATORS.includes(t)&&ee(!0),!E.jo.SECOND_FACTOR_AUTHENTICATORS.includes(t)||0!==e&&C.Yw.isSecondFactorAdditionValid(n.defaultAuthenticator.authenticatorId,e,o)){if(m.applicationConfig.signInMethod.authenticatorSelection.customAuthenticatorAdditionValidation(t,e,A)&&i){var l=n.authenticators.find((function(e){return e.authenticatorId===n.defaultAuthenticator.authenticatorId}));o[e].options.push({authenticator:l.name,idp:n.idp}),q(o)}}else A((0,r.V_)({description:y("console:develop.features.applications.notifications.secondFactorAuthenticatorToFirstStep.genericError.description"),level:a.QU.WARNING,message:y("console:develop.features.applications.notifications.secondFactorAuthenticatorToFirstStep.genericError.message")}))}},Re=function(e,t){var n=oc(B),o=n[e],i=o.options[t].authenticator;if((i===en.bQ.TOTP_AUTHENTICATOR||i===en.bQ.EMAIL_OTP_AUTHENTICATOR||i===en.bQ.SMS_OTP_AUTHENTICATOR)&&C.Yw.hasSpecificAuthenticatorInCurrentStep(en.bQ.BACKUP_CODE_AUTHENTICATOR,e,n)&&C.Yw.countTwoFactorAuthenticatorsInCurrentStep(e,n)<2)return o.options.map((function(e,t){e.authenticator===en.bQ.BACKUP_CODE_AUTHENTICATOR&&Se(t)})),Oe(t),be(e),void oe(!0);var a=ic(C.Yw.getLeftAndRightSideSteps(e,n),2),r=a[0],l=a[1];if(C.Yw.hasSpecificFactorsInSteps(oc(E.jo.SECOND_FACTOR_AUTHENTICATORS),l)){var s=n[e].options[t],c=C.Yw.countSpecificFactorInSteps(oc(E.jo.SECOND_FACTOR_AUTHENTICATORS),l)===C.Yw.countSpecificFactorInSteps([en.bQ.TOTP_AUTHENTICATOR,en.bQ.EMAIL_OTP_AUTHENTICATOR],l),u=[].concat(oc(E.jo.FIRST_FACTOR_AUTHENTICATORS),[en.bQ.IDENTIFIER_FIRST_AUTHENTICATOR]).includes(s.authenticator),d=[].concat(oc(E.jo.TOTP_HANDLERS),oc(E.jo.EMAIL_OTP_HANDLERS)).includes(s.authenticator),p=C.Yw.getImmediateStepHavingSpecificFactors(E.jo.SECOND_FACTOR_AUTHENTICATORS,n);if(u||d){var f=0,m=0;if(n[e].options.filter((function(e){E.jo.FIRST_FACTOR_AUTHENTICATORS.includes(e.authenticator)&&f++,[].concat(oc(E.jo.TOTP_HANDLERS),oc(E.jo.EMAIL_OTP_HANDLERS)).includes(e.authenticator)&&m++})),c&&m<=1||!c&&f<=1)if(!(c?C.Yw.hasSpecificFactorsInSteps([].concat(oc(E.jo.TOTP_HANDLERS),oc(E.jo.EMAIL_OTP_HANDLERS)),r):C.Yw.hasSpecificFactorsInSteps(E.jo.FIRST_FACTOR_AUTHENTICATORS,r))){var v=ic(C.Yw.getLeftAndRightSideSteps(p,n),1)[0];if((c?C.Yw.countSpecificFactorInSteps([].concat(oc(E.jo.TOTP_HANDLERS),oc(E.jo.EMAIL_OTP_HANDLERS)),v):C.Yw.countSpecificFactorInSteps(E.jo.FIRST_FACTOR_AUTHENTICATORS,v))<=1)return void Le()}}}n[e].options.splice(t,1),q(n)},Le=function(){A((0,r.V_)({description:y("console:develop.features.applications.notifications.deleteOptionErrorDueToSecondFactorsOnRight.genericError.description"),level:a.QU.WARNING,message:y("console:develop.features.applications.notifications.deleteOptionErrorDueToSecondFactorsOnRight.genericError.message")}))},Ne=function(e,t,n){var o=oc(B);o[e].options[t].authenticator=n.name,q(o)},ke=function(e){var t=oc(B);if(t.length<=1)A((0,r.V_)({description:y("console:develop.features.applications.notifications.authenticationStepMin.genericError.description"),level:a.QU.WARNING,message:y("console:develop.features.applications.notifications.authenticationStepMin.genericError.message")}));else{var n=ic(C.Yw.getLeftAndRightSideSteps(e,t),3),o=n[0],i=n[1],l=n[2],s=C.Yw.hasSpecificFactorsInSteps(E.jo.SECOND_FACTOR_AUTHENTICATORS,i),c=C.Yw.countSpecificFactorInSteps([en.bQ.TOTP_AUTHENTICATOR],i),u=C.Yw.countSpecificFactorInSteps(E.jo.SECOND_FACTOR_AUTHENTICATORS,i)+C.Yw.countSpecificFactorInSteps(E.jo.FIRST_FACTOR_AUTHENTICATORS,i);if(s)if(!(u===c?C.Yw.hasSpecificFactorsInSteps(E.jo.TOTP_HANDLERS,o):C.Yw.hasSpecificFactorsInSteps(E.jo.FIRST_FACTOR_AUTHENTICATORS,o)||C.Yw.checkImmediateStepHavingSpecificFactors(E.jo.FIRST_FACTOR_AUTHENTICATORS,l)))return void A((0,r.V_)({description:y("console:develop.features.applications.notifications.authenticationStepDeleteErrorDueToSecondFactors.genericError.description"),level:a.QU.WARNING,message:y("console:develop.features.applications.notifications.authenticationStepDeleteErrorDueToSecondFactors.genericError.message")}));t.splice(e,1),t.forEach((function(e,t){return e.id=t+1})),q(t),f(!1)}},Pe=function(e){Q(e)},Ue=function(e){Y(e)},Me=function(){var e=oc(B);return e.find((function(e){return(0,L.Z)(e.options)}))?(A((0,r.V_)({description:y("console:develop.features.applications.notifications.emptyAuthenticationStep.genericError.description"),level:a.QU.WARNING,message:y("console:develop.features.applications.notifications.emptyAuthenticationStep.genericError.message")})),!1):1!==e.length||1!==e[0].options.length||e[0].options[0].authenticator!==en.bQ.IDENTIFIER_FIRST_AUTHENTICATOR||(A((0,r.V_)({description:y("console:develop.features.applications.notifications.updateOnlyIdentifierFirstError.description"),level:a.QU.WARNING,message:y("console:develop.features.applications.notifications.updateOnlyIdentifierFirstError.message")})),!1)},xe=function(e,t,n){var o;return(0,L.Z)(e)?[]:null===(o=O.ui)||void 0===o||!o.hiddenAuthenticators||!Array.isArray(O.ui.hiddenAuthenticators)||O.ui.hiddenAuthenticators.length<1?e:e.filter((function(e){return!O.ui.hiddenAuthenticators.includes(e.name)})).map((function(e){return tc(tc({},e),{},{category:t,categoryDisplayName:n})}))},_e=function(){if(void 0===w){var e=O.ui.identityProviderTemplateLoadingStrategy?O.ui.identityProviderTemplateLoadingStrategy===en.w7.REMOTE:en.bQ.DEFAULT_IDP_TEMPLATE_LOADING_STRATEGY===en.w7.REMOTE;en.b9.getIdentityProviderTemplates(e).finally((function(){ve(!0)}))}else De(w)},De=function(e){en.b9.categorizeTemplates(e).then((function(e){var t=[];e.filter((function(e){e.templates=(0,Us.Z)(e.templates,["comingSoon"],["desc"]),e.templates.filter((function(e){null!=e&&e.tags&&Array.isArray(e.tags)&&e.tags.length>0&&(t=(0,x.Z)(t,e.tags))}))})),pe(e),ve(!1)})).catch((function(){pe([]),ve(!1)}))};return s.createElement("div",{className:"authentication-flow-wrapper","data-testid":b},s.createElement("div",{className:"authentication-flow-section timeline"},s.createElement("div",{className:"timeline-button start"},s.createElement(l.dn,{size:"x50",transparent:!0,icon:(0,ct.m9)().startButton})),s.createElement("div",{className:"authentication-steps-section",ref:we},B&&B instanceof Array&&B.length>0?B.map((function(e,t){return s.createElement(s.Fragment,{key:t},s.createElement(Js,{authenticators:[].concat(oc(M),oc(T),oc(k),oc(Z),oc(V)),onStepDelete:ke,onStepOptionAuthenticatorChange:Ne,onAddAuthenticationClick:function(){ce(!0),re(t)},onStepOptionDelete:Re,showStepMeta:B.length>1,showStepDeleteAction:B.length>1,step:e,stepIndex:t,readOnly:d,subjectStepId:G,attributeStepId:$,onAttributeCheckboxChange:Ue,onSubjectCheckboxChange:Pe,"data-testid":"".concat(b,"-authentication-step-").concat(t),updateAuthenticationStep:Te}))})):null),!d&&s.createElement("div",{className:"timeline-button add"},s.createElement(l.GI,{trigger:s.createElement("div",null,s.createElement(l.dn,{link:!0,transparent:!0,size:"mini",fill:"primary",icon:(0,ct.m9)().addButton,onClick:function(){var e=oc(B);e.push({id:e.length+1,options:[]}),Ie.publish("application-sign-in-method-click-add-new-step"),q(e),f(!0)},"data-tourid":"add-new-step-button"})),position:"left center",content:"Add a new authentication step"})),s.createElement("div",{className:"timeline-button done"},s.createElement(l.dn,{size:"x50",transparent:!0,icon:(0,ct.m9)().doneButton}))),se&&s.createElement($s,{refreshAuthenticators:g,authenticationSteps:B,allowSocialLoginAddition:!0,currentStep:ae,open:se,onModalSubmit:function(e){e.map((function(e){Te(ae,e.id)})),ce(!1)},onClose:function(){return ce(!1)},header:y("console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.heading"),authenticators:[].concat(oc(xe(M,en.Xi.LOCAL,y(en.Cr.getAuthenticatorTypeDisplayName(en.Xi.LOCAL)))),oc(xe(k,en.Xi.SOCIAL,y(en.Cr.getAuthenticatorTypeDisplayName(en.Xi.SOCIAL)))),oc(xe(Z,en.Xi.SECOND_FACTOR,y(en.Cr.getAuthenticatorTypeDisplayName(en.Xi.SECOND_FACTOR)))),oc(xe(T,en.Xi.ENTERPRISE,y(en.Cr.getAuthenticatorTypeDisplayName(en.Xi.ENTERPRISE)))),oc(xe(V,en.Xi.RECOVERY,y(en.Cr.getAuthenticatorTypeDisplayName(en.Xi.RECOVERY))))),showStepSelector:!1,stepCount:B.length,onAddNewClick:_e,onIDPCreateWizardTrigger:o,categorizedIDPTemplates:de,subjectStepId:G,attributeStepId:$}),J&&s.createElement(l.cV,{onClose:function(){return ee(!1)},type:"warning",open:J,primaryAction:y("common:confirm"),secondaryAction:y("common:cancel"),onPrimaryActionClick:function(){return ee(!1)},"data-testid":"".concat(b,"-handler-disclaimer-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(b,"-delete-confirmation-modal-header")},y("console:develop.features.applications.confirmations.handlerAuthenticatorAddition.header")),s.createElement(l.cV.Message,{attached:!0,warning:!0,"data-testid":"".concat(b,"-delete-confirmation-modal-message")},y("console:develop.features.applications.confirmations.handlerAuthenticatorAddition.message")),s.createElement(l.cV.Content,{"data-testid":"".concat(b,"-delete-confirmation-modal-content")},y("console:develop.features.applications.confirmations.handlerAuthenticatorAddition.content"))),ne&&s.createElement(l.cV,{onClose:function(){return oe(!1)},type:"negative",open:ne,primaryAction:y("common:continue"),secondaryAction:y("common:cancel"),onPrimaryActionClick:function(){Re(ge,Ee),Re(ge,Ae),oe(!1)},onSecondaryActionClick:function(){return oe(!1)},"data-testid":"".concat(b,"-backupcode-delete-confirm-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(b,"-backupcode-delete-confirmation-modal-header")},y("console:develop.features.applications.confirmations.backupCodeAuthenticatorDelete.header")),s.createElement(l.cV.Content,{"data-testid":"".concat(b,"-backupcode-delete-confirmation-modal-content")},y("console:develop.features.applications.confirmations.backupCodeAuthenticatorDelete.content"))))};lc.defaultProps={"data-testid":"step-based-flow"};const sc=JSON.parse('{"steps":[{"id":1,"options":[{"idp":"LOCAL","authenticator":"BasicAuthenticator"}]}]}');function cc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function uc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cc(Object(n),!0).forEach((function(t){dc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var mc=function(e){var t,n=e.appId,o=e.authenticators,i=e.authenticationSequence,d=e.clientId,p=e.isLoading,m=e.setIsLoading,v=e.onIDPCreateWizardTrigger,b=e.onReset,E=e.onUpdate,S=e.readOnly,A=e.refreshAuthenticators,O=e["data-testid"],w=(0,c.$)().t,I=(0,l.fQ)().getLink,T=(0,u.I0)(),R=(0,u.v9)((function(e){return e.config})),L=(0,u.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organizationType})),N=pc((0,s.useState)(i),2),k=N[0],U=N[1],M=pc((0,s.useState)(!1),2),x=M[0],D=M[1],Z=pc((0,s.useState)(void 0),2),j=Z[0],F=Z[1],V=pc((0,s.useState)(void 0),2),H=V[0],z=V[1],B=pc((0,s.useState)(void 0),2),q=B[0],W=B[1],G=pc((0,s.useState)(1),2),Q=G[0],K=G[1],$=pc((0,s.useState)(!0),2),Y=$[0],X=$[1],J=pc((0,s.useState)(!1),2),ee=J[0],te=J[1],ne=pc((0,s.useState)(),2),oe=ne[0],ie=ne[1],ae=pc((0,s.useState)(void 0),2),re=ae[0],le=ae[1],se=pc((0,s.useState)(null),2),ce=se[0],ue=se[1],de=h.lD.getInstance();(0,s.useEffect)((function(){var e=C.Yw.isConnectionsJITUPConflictWithMFA({federatedAuthenticators:o&&o[1],steps:oe,subjectStepId:null==i?void 0:i.subjectStepId});le(e);var t=C.Yw.isFederatedConflictWithSMSOTP({federatedAuthenticators:o&&o[1],steps:oe,subjectStepId:null==i?void 0:i.subjectStepId});ue(t)}),[Q,o,oe]),(0,s.useEffect)((function(){x&&D(!1)}),[x]),(0,s.useEffect)((function(){me()}),[]),(0,s.useEffect)((function(){i&&null!=i&&i.steps&&Array.isArray(i.steps)&&K(i.steps.length)}),[i]);var pe,fe=function(e,t){var o;o=t?{authenticationSequence:uc(uc({},sc),{},{requestPathAuthenticators:q,script:""})}:{authenticationSequence:uc(uc({},e),{},{requestPathAuthenticators:q,script:j})},m(!0),(0,y.bz)(n,o).then((function(){T((0,r.V_)({description:w("console:develop.features.applications.notifications.updateAuthenticationFlow.success.description"),level:a.QU.SUCCESS,message:w("console:develop.features.applications.notifications.updateAuthenticationFlow.success.message")})),E(n)})).catch((function(e){var t;e.response&&"APP-60001"===(null===(t=e.response.data)||void 0===t?void 0:t.code)?T((0,r.V_)({description:s.createElement("p",null,s.createElement(_.c,{i18nKey:"console:develop.features.applications.notifications.conditionalScriptLoopingError.description"},"Looping constructs such as ",s.createElement(l.EK,null,"for"),", ",s.createElement(l.EK,null,"while")," and,",s.createElement(l.EK,null,"forEach")," are not allowed in the conditional authentication script.")),level:a.QU.ERROR,message:w("console:develop.features.applications.notifications.conditionalScriptLoopingError.message")})):e.response&&e.response.data&&e.response.data.description?T((0,r.V_)({description:e.response.data.description,level:a.QU.ERROR,message:w("console:develop.features.applications.notifications.updateAuthenticationFlow.error.message")})):T((0,r.V_)({description:w("console:develop.features.applications.notifications.updateAuthenticationFlow.genericError.description"),level:a.QU.ERROR,message:w("console:develop.features.applications.notifications.updateAuthenticationFlow.genericError.message")}))})).finally((function(){m(!1)}))},me=function(){(0,y.fF)().then((function(e){z(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.detail?T((0,r.V_)({description:w("console:develop.features.applications.edit.sections.signOnMethod.sections.requestPathAuthenticators.notifications.getRequestPathAuthenticators.error.description",{description:e.response.data.description}),level:a.QU.ERROR,message:w("console:develop.features.applications.edit.sections.signOnMethod.sections.requestPathAuthenticators.notifications.getRequestPathAuthenticators.error.message")})):T((0,r.V_)({description:w("console:develop.features.applications.edit.sections.signOnMethod.sections.requestPathAuthenticators.notifications.getRequestPathAuthenticators.genericError.description"),level:a.QU.ERROR,message:w("console:develop.features.applications.edit.sections.signOnMethod.sections.requestPathAuthenticators.notifications.getRequestPathAuthenticators.genericError.message")}))}))},ve=function(){C.w1.isEmptyScript(j)&&(isAdaptiveAuthenticationAvailable&&L!==g.$B.SUBORGANIZATION?(F(C.w1.generateScript(Q+1).join("\n")),X(!0)):F("")),de.compute((function(){var e={"script-based":!C.w1.isDefaultScript(j,Q),"step-based":[]};oe.forEach((function(t){var n={};Array.isArray(null==t?void 0:t.options)&&t.options.length>0&&(t.options.forEach((function(e,t){n[t]=(0,bi.Z)(null==e?void 0:e.authenticator)})),e["step-based"].push(n))})),de.publish("application-sign-in-method-click-update-button",{"client-id":d,type:e})})),D(!0)},he=s.createElement(s.Fragment,null,s.createElement(l.X6,{as:"h4"},w("console:develop.features.applications.edit.sections.signOnMethod.sections.requestPathAuthenticators.title")),s.createElement(l.kW,null,w("console:develop.features.applications.edit.sections.signOnMethod.sections.requestPathAuthenticators.subTitle")),s.createElement(Be.Es,null,s.createElement(P.Z,null,s.createElement(P.Z.Row,{columns:1},s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:8},s.createElement(Be.gN,{name:"requestPathAuthenticators",label:"",type:"checkbox",required:!1,value:null==i?void 0:i.requestPathAuthenticators,requiredErrorMessage:"",children:null==H?void 0:H.map((function(e){return{label:e.displayName,value:e.name}})),listen:function(e){W(e.get("requestPathAuthenticators"))},readOnly:S,"data-testid":"".concat(O,"-request-path-authenticators")}))))));return s.createElement("div",null,s.createElement("div",null,s.createElement(l.X6,{as:"h4",className:"display-inline-block"},w("console:develop.features.applications.edit.sections.signOnMethod.sections.customization.heading")),!S&&s.createElement("div",{className:"display-inline-block floated right"},s.createElement(l.Qj,{className:"pr-0",onClick:function(){de.publish("application-revert-sign-in-method-default",{"client-id":d}),fe(null,!0),b()}},s.createElement(f.Z,{name:"refresh"}),w("console:develop.features.applications.edit.sections.signOnMethod.sections.customization.revertToDefaultButton.label")),s.createElement(l.kW,{inline:!0,popup:!0},w("console:develop.features.applications.edit.sections.signOnMethod.sections.customization.revertToDefaultButton.hint")))),s.createElement(be.Z,{hidden:!0}),i.steps[0].options.find((function(e){return e.authenticator===en.bQ.FIDO_AUTHENTICATOR}))&&s.createElement(l.v0,{type:"warning",content:s.createElement(s.Fragment,null,s.createElement(_.c,{i18nKey:w("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.usernameless.info")},"To sign in with passwordless login, your users should have their FIDO2 security keys or biometrics registered via My Account."),s.createElement(l.eb,{link:I("develop.applications.editApplication.signInMethod.fido"),showEmptyLink:!1},w("common:learnMore")))}),null!=re&&re.conflicting||null==ce||!ce.conflicting||null==ce||!ce.idpList.length?null:(pe=ce.idpList,s.createElement(l.v0,{"data-componentid":"jit-provisioning-mfa-in-sequence-warning-message","data-testid":"jit-provisioning-mfa-in-sequence-warning-message",type:"info",content:s.createElement(s.Fragment,null,pe.length>1?s.createElement(s.Fragment,null,s.createElement(_.c,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.federatedSMSOTPConflictNote.multipleIdps"},"Asgardeo requires the user's profile containing the",s.createElement("i",null," mobile number")," to configure",s.createElement("strong",null," SMS OTP")," with the following connections."),s.createElement("ul",{className:"mb-3"},null==pe?void 0:pe.map((function(e){var t=e.name;return s.createElement("li",{key:t},s.createElement("strong",null,t))})))):s.createElement(s.Fragment,null,s.createElement(_.c,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.federatedSMSOTPConflictNote.singleIdp",values:{idpName:pe[0].name}},"Asgardeo requires the user's profile containing the",s.createElement("i",null," mobile number")," to configure ",s.createElement("strong",null," SMS OTP "),"with ",s.createElement("strong",null,pe[0].name)," connection.")))})),s.createElement(lc,{refreshAuthenticators:A,authenticators:o,authenticationSequence:k,isLoading:p,onUpdate:fe,triggerUpdate:x,readOnly:S,"data-testid":"".concat(O,"-step-based-flow"),updateSteps:function(e){K(e?Q+1:Q-1)},onIDPCreateWizardTrigger:v,onAuthenticationSequenceChange:function(e,t){te(e),ie(t)}}),s.createElement(be.Z,{className:"x1",hidden:!0}),null!=re&&re.conflicting&&null!=re&&re.idpList.length?function(){var e=re.idpList,t=e.length>1;return s.createElement(l.v0,{"data-componentid":"jit-provisioning-mfa-in-sequence-warning-message","data-testid":"jit-provisioning-mfa-in-sequence-warning-message",type:"warning",header:"Warning",content:s.createElement(s.Fragment,null,t?s.createElement(s.Fragment,null,"Currently, Just-in-Time (JIT) user provisioning is ",s.createElement("strong",null,"disabled")," for the following connections:",s.createElement("ul",{className:"mb-3"},null==e?void 0:e.map((function(e,t){var n=e.name;return s.createElement("li",{key:t},s.createElement("strong",null,n))})))):s.createElement(s.Fragment,null,"Currently, Just-in-Time(JIT) user provisioning is disabled for the ",s.createElement("strong",null,e[0].name)," connection."),t?s.createElement(s.Fragment,null,"To use MFA with these connections, ",s.createElement("em",null,"enable JIT provisioning")," or use an ",s.createElement("em",null,"authentication script")," to skip the MFA options for these connections during user login."):s.createElement(s.Fragment,null,"To use MFA with this connection, ",s.createElement("em",null,"enable JIT provisioning")," or use an ",s.createElement("em",null,"authentication script")," to skip the MFA options for this connection during user login."),s.createElement(l.eb,{link:I("develop.connections.edit.advancedSettings.jit")},"Learn More"))})}():null,s.createElement(be.Z,{className:"x2"}),isAdaptiveAuthenticationAvailable&&L!==g.$B.SUBORGANIZATION&&s.createElement(gi,{ifAllowed:"console.application.signIn.adaptiveAuth"},s.createElement(Ps,{authenticationSequence:k,isLoading:p,onTemplateSelect:function(e){if(e){X(!1);var t=uc({},k);if(e.code&&(t=uc(uc({},t),{},{requestPathAuthenticators:q,script:JSON.stringify(e.code)})),e.defaultAuthenticators){for(var n=[],o=0,i=Object.entries(e.defaultAuthenticators);o<i.length;o++){var a=pc(i[o],2),r=a[0],l=a[1];n.push({id:parseInt(r,10),options:l.local.map((function(e){return{authenticator:e,idp:"LOCAL"}}))})}t=uc(uc({},t),{},{attributeStepId:1,steps:n,subjectStepId:1})}U(t)}},onScriptChange:function(e){F(e)},readOnly:S,"data-testid":"".concat(O,"-script-based-flow"),authenticationSteps:Q,isDefaultScript:Y,onAdaptiveScriptReset:function(){return X(!0)}})),!1===(null==R||null===(t=R.ui)||void 0===t?void 0:t.isRequestPathAuthenticationEnabled)?null:H&&he,S?null:s.createElement(s.Fragment,null,s.createElement(be.Z,{hidden:!0}),s.createElement(l.KM,{onClick:ve,"data-testid":"".concat(O,"-update-button"),disabled:ee||p,loading:p},w("common:update"))))};mc.defaultProps={"data-testid":"sign-in-method-customization"};var vc=function(e){var t,n,o=e.isLoading,i=e.onLoginFlowSelect,a=e.hiddenOptions,r=e["data-testid"],d=e.clientId,p=(0,c.$)().t,f=(0,l.kH)().isMobileViewport,v=(0,u.v9)((function(e){return e.config})),y=(0,b.B)(),E=h.lD.getInstance();return s.createElement(V.Z,{basic:!0,loading:o,"data-testid":r,className:"sign-in-method-landing"},s.createElement(P.Z,null,s.createElement(P.Z.Row,null,s.createElement(P.Z.Column,{width:16},s.createElement(l.X6,{as:"h2",textAlign:f?"center":"left"},p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.heading")))),s.createElement(P.Z.Row,null,s.createElement(P.Z.Column,{computer:8,tablet:16,mobile:16,className:"flow-options-column"},s.createElement("div",{className:"pr-5 pl-5"},!a.includes(S.Tb.DEFAULT)&&s.createElement(s.Fragment,null,s.createElement(l.X6,{as:"h4"},p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.headings.default")),s.createElement(l.rJ,{fluid:!0,"data-testid":"basic-configuration-flow-card",image:(0,ct.C4)().basic,imageSize:"mini",header:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.defaultConfig.heading"),description:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.defaultConfig.description"),onClick:function(){E.publish("application-begin-sign-in-default-configuration",{"client-id":d}),i(S.Tb.DEFAULT)}})),s.createElement(l.X6,{as:"h4"},p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.headings.multiFactorLogin")),!a.includes(S.Tb.SECOND_FACTOR_TOTP)&&s.createElement(l.rJ,{fluid:!0,"data-testid":"totp-mfa-flow-card",image:(0,ct.C4)().totp,imageSize:"mini",header:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.totp.heading"),description:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.totp.description"),onClick:function(){E.publish("application-begin-sign-in-totp-mfa",{"client-id":d}),i(S.Tb.SECOND_FACTOR_TOTP)}}),!a.includes(S.Tb.SECOND_FACTOR_EMAIL_OTP)&&s.createElement(l.rJ,{fluid:!0,"data-testid":"email-otp-mfa-flow-card",image:(0,ct.C4)().emailOTP,imageSize:"mini",header:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.emailOTP.heading"),description:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.emailOTP.description"),onClick:function(){E.publish("application-begin-sign-in-email-otp-mfa",{"client-id":d}),i(S.Tb.SECOND_FACTOR_EMAIL_OTP)}}),!a.includes(S.Tb.SECOND_FACTOR_SMS_OTP)&&y!==g.$B.SUBORGANIZATION&&s.createElement(l.rJ,{fluid:!0,"data-testid":"sms-otp-mfa-flow-card",image:(0,ct.C4)().smsOTP,imageSize:"mini",header:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.smsOTP.heading"),description:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.smsOTP.description"),onClick:function(){E.publish("application-begin-sign-in-sms-otp-mfa",{"client-id":d}),i(S.Tb.SECOND_FACTOR_SMS_OTP)}}))),s.createElement(P.Z.Column,{computer:8,tablet:16,mobile:16,className:"flow-options-column"},s.createElement("div",{className:"pr-5 pl-5"},s.createElement(l.X6,{as:"h4"},p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.headings.passwordlessLogin")),!(null!=a&&a.includes(S.Tb.FIDO_LOGIN))&&!(null!==(t=v.ui)&&void 0!==t&&t.hiddenAuthenticators.includes(en.bQ.FIDO_AUTHENTICATOR))&&s.createElement(l.rJ,{fluid:!0,"data-testid":"usernameless-flow-card",image:(0,ct.C4)().fido,imageSize:"mini",header:m.identityProviderConfig.getOverriddenAuthenticatorDisplayName(en.bQ.FIDO_AUTHENTICATOR_ID,p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.usernameless.heading")),description:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.usernameless.description"),onClick:function(){E.publish("application-begin-sign-in-biometrics-password-less",{"client-id":d}),i(S.Tb.FIDO_LOGIN)}}),!(null!=a&&a.includes(S.Tb.MAGIC_LINK))&&!(null!==(n=v.ui)&&void 0!==n&&n.hiddenAuthenticators.includes(en.bQ.MAGIC_LINK_AUTHENTICATOR))&&s.createElement(l.rJ,{fluid:!0,"data-testid":"magic-link-flow-card",image:(0,ct.C4)().magicLink,imageSize:"mini",header:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.magicLink.heading"),description:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.magicLink.description"),onClick:function(){E.publish("application-begin-sign-in-magiclink-password-less",{"client-id":d}),i(S.Tb.MAGIC_LINK)}}),(!a.includes(S.Tb.GOOGLE_LOGIN)||!a.includes(S.Tb.FACEBOOK_LOGIN)||!a.includes(S.Tb.GITHUB_LOGIN)||!a.includes(S.Tb.MICROSOFT_LOGIN)||!a.includes(S.Tb.APPLE_LOGIN))&&s.createElement(s.Fragment,null,s.createElement(l.X6,{as:"h4"},p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.headings.socialLogin")),!a.includes(S.Tb.GOOGLE_LOGIN)&&s.createElement(l.rJ,{fluid:!0,"data-testid":"google-login-flow-card",imageSize:"mini",image:(0,ct.C4)().google,header:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.google.heading"),description:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.google.description"),onClick:function(){E.publish("application-begin-sign-in-google-social-login",{type:d}),i(S.Tb.GOOGLE_LOGIN)}}),!a.includes(S.Tb.GITHUB_LOGIN)&&s.createElement(l.rJ,{fluid:!0,"data-testid":"github-login-flow-card",imageSize:"mini",image:(0,ct.C4)().github,header:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.github.heading"),description:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.github.description"),onClick:function(){return i(S.Tb.GITHUB_LOGIN)}}),!a.includes(S.Tb.FACEBOOK_LOGIN)&&s.createElement(l.rJ,{fluid:!0,"data-testid":"facebook-login-flow-card",imageSize:"mini",image:(0,ct.C4)().facebook,header:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.facebook.heading"),description:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.facebook.description"),onClick:function(){return i(S.Tb.FACEBOOK_LOGIN)}}),!a.includes(S.Tb.MICROSOFT_LOGIN)&&s.createElement(l.rJ,{fluid:!0,"data-testid":"microsoft-login-flow-card",imageSize:"mini",image:(0,ct.C4)().microsoft,header:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.microsoft.heading"),description:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.microsoft.description"),onClick:function(){E.publish("application-begin-sign-in-microsoft-social-login",{type:d}),i(S.Tb.MICROSOFT_LOGIN)}}),!a.includes(S.Tb.APPLE_LOGIN)&&s.createElement(l.rJ,{fluid:!0,"data-testid":"apple-login-flow-card",imageSize:"mini",image:(0,ct.C4)().apple,header:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.apple.heading"),description:p("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.types.apple.description"),onClick:function(){return i(S.Tb.APPLE_LOGIN)}})))))))};vc.defaultProps={"data-testid":"sign-in-method-landing",hiddenOptions:[S.Tb.FACEBOOK_LOGIN,S.Tb.GITHUB_LOGIN]};const hc=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"AppleOIDCAuthenticator","idp":"<APPLE_IDP>"}]}]}'),gc=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"FacebookAuthenticator","idp":"<FACEBOOK_IDP>"}]}]}'),bc=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"GithubAuthenticator","idp":"<GITHUB_IDP>"}]}]}'),yc=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"GoogleOIDCAuthenticator","idp":"<GOOGLE_IDP>"}]}]}'),Ec=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"MagicLinkAuthenticator","idp":"LOCAL"}]}]}'),Sc=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"OpenIDConnectAuthenticator","idp":"Microsoft"}]}]}'),Cc=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"BasicAuthenticator","idp":"LOCAL"}]},{"id":2,"options":[{"authenticator":"email-otp-authenticator","idp":"LOCAL"}]}]}'),Ac=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"BasicAuthenticator","idp":"LOCAL"}]},{"id":2,"options":[{"authenticator":"sms-otp-authenticator","idp":"LOCAL"}]}]}'),Oc=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"BasicAuthenticator","idp":"LOCAL"}]},{"id":2,"options":[{"authenticator":"totp","idp":"LOCAL"}]}]}'),wc=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"BasicAuthenticator","idp":"LOCAL"},{"authenticator":"FIDOAuthenticator","idp":"LOCAL"}]}]}');var Ic=n(34118);function Tc(e){return function(e){if(Array.isArray(e))return Uc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Pc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Lc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rc(Object(n),!0).forEach((function(t){Nc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||Pc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pc(e,t){if(e){if("string"==typeof e)return Uc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Uc(e,t):void 0}}function Uc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Mc=null,xc=function(e){var t=e.appId,n=e.authenticationSequence,o=e.clientId,i=e.isLoading,a=e.onUpdate,r=e.readOnly,u=e["data-testid"],d=(0,c.$)().t,p=kc((0,s.useState)(void 0),2),f=p[0],m=p[1],v=kc((0,s.useState)(void 0),2),g=v[0],b=v[1],y=kc((0,s.useState)(void 0),2),A=y[0],O=y[1],w=kc((0,s.useState)(void 0),2),I=w[0],T=w[1],R=kc((0,s.useState)(void 0),2),N=R[0],k=R[1],P=kc((0,s.useState)(void 0),2),U=P[0],M=P[1],x=kc((0,s.useState)(void 0),2),D=x[0],Z=x[1],j=kc((0,s.useState)(void 0),2),F=j[0],V=j[1],H=kc((0,s.useState)(!1),2),z=H[0],B=H[1],q=kc((0,s.useState)(!0),2),W=q[0],G=q[1],Q=kc((0,s.useState)(!1),2),K=Q[0],$=Q[1],Y=kc((0,s.useState)(void 0),2),X=Y[0],J=Y[1],ee=kc((0,s.useState)(n),2),te=ee[0],ne=ee[1],oe=kc((0,s.useState)(void 0),2),ie=oe[0],ae=oe[1],re=kc((0,s.useState)(void 0),2),le=re[0],se=re[1],ce=kc((0,s.useState)(!1),2),ue=ce[0],de=ce[1],pe=kc((0,s.useState)(void 0),2),fe=pe[0],me=pe[1],ve=h.lD.getInstance();(0,s.useEffect)((function(){he().finally(),ze.LocalStorageUtils.setValueInLocalStorage(E.jo.AUTHENTICATORS_LOCAL_STORAGE_KEY,JSON.stringify([]))}),[]),(0,s.useEffect)((function(){void 0!==n&&ne(n)}),[n]);var he=function(e){return G(!0),en.zc.getAllAuthenticators().then((function(t){var n=[],o=[],i=[],a=[],r=[];t[1].filter((function(e){e.defaultAuthenticator.authenticatorId===en.bQ.GOOGLE_OIDC_AUTHENTICATOR_ID?n.push(e):e.defaultAuthenticator.authenticatorId===en.bQ.GITHUB_AUTHENTICATOR_ID?o.push(e):e.defaultAuthenticator.authenticatorId===en.bQ.FACEBOOK_AUTHENTICATOR_ID?i.push(e):e.defaultAuthenticator.authenticatorId===en.bQ.MICROSOFT_AUTHENTICATOR_ID&&e.description===Ic.description?a.push(e):e.defaultAuthenticator.authenticatorId===en.bQ.APPLE_AUTHENTICATOR_ID&&r.push(e)})),T(n),k(o),M(i),Z(a),V(r),O(t),e&&e(t,n,o,i,a,r)})).finally((function(){G(!1)}))},ge=function(e,t,o,i,a,r){if(e)if(e===S.Tb.DEFAULT)ve.publish("application-sign-in-method-click-add",{type:"default"}),ne(Lc(Lc({},n),(0,Zn.Z)(sc)));else if(e===S.Tb.SECOND_FACTOR_TOTP)ve.publish("application-sign-in-method-click-add",{type:"second-factor-totp"}),ne(Lc(Lc({},n),(0,Zn.Z)(Oc)));else if(e===S.Tb.SECOND_FACTOR_EMAIL_OTP)ve.publish("application-sign-in-method-click-add",{type:"second-factor-email-otp"}),ne(Lc(Lc({},n),(0,Zn.Z)(Cc)));else if(e===S.Tb.SECOND_FACTOR_SMS_OTP)ve.publish("application-sign-in-method-click-add",{type:"second-factor-sms-otp"}),ne(Lc(Lc({},n),(0,Zn.Z)(Ac)));else if(e===S.Tb.FIDO_LOGIN)ve.publish("application-sign-in-method-click-add",{type:"first-factor-fido"}),ne(Lc(Lc({},n),(0,Zn.Z)(wc)));else if(e===S.Tb.GOOGLE_LOGIN){if(ve.publish("application-sign-in-method-click-add",{type:"google-login"}),b(S.Tb.GOOGLE_LOGIN),(0,L.Z)(t))return void B(!0);if(t.length>1)return J(t[0]),void $(!0);1===t.length&&ne(Lc(Lc({},n),ye(t[0].idp,S.Tb.GOOGLE_LOGIN)))}else if(e===S.Tb.GITHUB_LOGIN){if(ve.publish("application-sign-in-method-click-add",{type:"github-login"}),b(S.Tb.GITHUB_LOGIN),(0,L.Z)(o))return void B(!0);if(o.length>1)return J(o[0]),void $(!0);1===o.length&&ne(Lc(Lc({},n),ye(o[0].idp,S.Tb.GITHUB_LOGIN)))}else if(e===S.Tb.FACEBOOK_LOGIN){if(ve.publish("application-sign-in-method-click-add",{type:"facebook-login"}),b(S.Tb.FACEBOOK_LOGIN),(0,L.Z)(i))return void B(!0);if(i.length>1)return J(i[0]),void $(!0);1===i.length&&ne(Lc(Lc({},n),ye(i[0].idp,S.Tb.FACEBOOK_LOGIN)))}else if(e===S.Tb.MICROSOFT_LOGIN){if(ve.publish("application-sign-in-method-click-add",{type:"microsoft-login"}),b(S.Tb.MICROSOFT_LOGIN),(0,L.Z)(a))return void B(!0);if(a.length>1)return J(a[0]),void $(!0);1===a.length&&ne(Lc(Lc({},n),ye(a[0].idp,S.Tb.MICROSOFT_LOGIN)))}else if(e===S.Tb.APPLE_LOGIN){if(ve.publish("application-sign-in-method-click-add",{type:"apple-login"}),b(S.Tb.APPLE_LOGIN),(0,L.Z)(r))return void B(!0);if(r.length>1)return J(r[0]),void $(!0);1===r.length&&ne(Lc(Lc({},n),ye(r[0].idp,S.Tb.APPLE_LOGIN)))}else e===S.Tb.MAGIC_LINK&&(ve.publish("application-sign-in-method-click-add",{type:"magic-link-login"}),ne(Lc(Lc({},n),(0,Zn.Z)(Ec))));else ne(n);m(e)},ye=function(e,t){var n={},o=null;return t===S.Tb.GOOGLE_LOGIN?(n=(0,Zn.Z)(yc),o=en.bQ.GOOGLE_OIDC_AUTHENTICATOR_NAME):t===S.Tb.GITHUB_LOGIN?(n=(0,Zn.Z)(bc),o=en.bQ.GITHUB_AUTHENTICATOR_NAME):t===S.Tb.FACEBOOK_LOGIN?(n=(0,Zn.Z)(gc),o=en.bQ.FACEBOOK_AUTHENTICATOR_NAME):t===S.Tb.MICROSOFT_LOGIN?(n=(0,Zn.Z)(Sc),o=en.bQ.MICROSOFT_AUTHENTICATOR_NAME):t===S.Tb.APPLE_LOGIN&&(n=(0,Zn.Z)(hc),o=en.bQ.APPLE_AUTHENTICATOR_NAME),n.steps[0].options.forEach((function(t){t.authenticator===o&&(t.idp=e)})),n};return s.createElement(l.pJ,{className:"sign-on-methods-tab-content",padded:"very"},i||W?s.createElement(l.pO,{inline:"centered",active:!0}):r||f||!function(){var e,t,o;if(1!==(null==n||null===(e=n.steps)||void 0===e?void 0:e.length)||1!==(null===(t=n.steps[0].options)||void 0===t?void 0:t.length))return!1;var i=n.steps[0].options[0].authenticator===en.bQ.BASIC_AUTHENTICATOR,a=!n.script||C.w1.isDefaultScript(n.script,null===(o=n.steps)||void 0===o?void 0:o.length);return i&&a&&n.type===S.a1.DEFAULT}()?s.createElement(s.Fragment,null,s.createElement(mc,{refreshAuthenticators:function(){return he()},appId:t,authenticators:A,clientId:o,authenticationSequence:te,onIDPCreateWizardTrigger:function(e,t,n){ae(n),me("EXTERNAL"),se(e),B(!1),de(!0),Mc=t},onUpdate:a,onReset:function(){m(void 0),b(void 0),B(!1),$(!1),J(void 0),ne(n),se(void 0),me(void 0),de(!1)},"data-testid":u,isLoading:W,setIsLoading:G,readOnly:r})):s.createElement(vc,{readOnly:r,clientId:o,onLoginFlowSelect:function(e){ge(e,I,N,U,D,F)},"data-testid":"".concat(u,"-landing")}),ue&&function(){if(le)return s.createElement(en.zy,{open:ue,type:le,selectedTemplate:ie,onIDPCreate:function(){he((function(e,t,n,o,i,a){se(void 0),de(!1),Mc&&Mc(),"INTERNAL"===fe&&ge(g,t,n,o,i,a)})).finally()},onWizardClose:function(){se(void 0),me(void 0),de(!1)}})}(),z&&function(){var e=null,t=null;if(g===S.Tb.GOOGLE_LOGIN)e=en.bQ.IDP_TEMPLATE_IDS.GOOGLE,t=en.bQ.GOOGLE_OIDC_AUTHENTICATOR_DISPLAY_NAME;else if(g===S.Tb.GITHUB_LOGIN)e=en.bQ.IDP_TEMPLATE_IDS.GITHUB,t=en.bQ.GITHUB_AUTHENTICATOR_DISPLAY_NAME;else if(g===S.Tb.FACEBOOK_LOGIN)e=en.bQ.IDP_TEMPLATE_IDS.FACEBOOK,t=en.bQ.FACEBOOK_AUTHENTICATOR_DISPLAY_NAME;else if(g===S.Tb.MICROSOFT_LOGIN)e=en.bQ.IDP_TEMPLATE_IDS.MICROSOFT,t=en.bQ.MICROSOFT_AUTHENTICATOR_DISPLAY_NAME;else{if(g!==S.Tb.APPLE_LOGIN)return null;e=en.bQ.IDP_TEMPLATE_IDS.APPLE,t=en.bQ.APPLE_AUTHENTICATOR_DISPLAY_NAME}return s.createElement(l.cV,{type:"info",onClose:function(){return B(!1)},open:z,primaryAction:d("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.primaryButton"),secondaryAction:d("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.secondaryButton"),onSecondaryActionClick:function(){return B(!1)},onPrimaryActionClick:function(){se(e),B(!1),de(!0),me("INTERNAL")},"data-testid":"".concat(u,"-add-missing-authenticator-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,null,d("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.heading",{authenticator:t})),s.createElement(l.cV.Message,{attached:!0,info:!0},d("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.content.message",{authenticator:t})),s.createElement(l.cV.Content,null,s.createElement(_.c,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.content.body",tOptions:{authenticator:t}},"You do not have an active Social Connection configured with ",s.createElement(l.EK,null," ",t,"Authenticator"),". Click on the ",s.createElement("strong",null,"Configure")," button to register a new",s.createElement(l.EK,null,t," Social Connection")," or navigate to the ",s.createElement("a",{onClick:function(){h.m8.push(h.$x.getPaths().get("IDP"))},className:"external-link link pointing primary"},"Connections")," section manually.")))}(),K&&function(){var e=null,t=[];if(g===S.Tb.GOOGLE_LOGIN)t=Tc(I),e=en.bQ.GOOGLE_OIDC_AUTHENTICATOR_DISPLAY_NAME;else if(g===S.Tb.GITHUB_LOGIN)t=Tc(N),e=en.bQ.GITHUB_AUTHENTICATOR_DISPLAY_NAME;else if(g===S.Tb.FACEBOOK_LOGIN)t=Tc(U),e=en.bQ.FACEBOOK_AUTHENTICATOR_DISPLAY_NAME;else if(g===S.Tb.MICROSOFT_LOGIN)t=Tc(D),e=en.bQ.MICROSOFT_AUTHENTICATOR_DISPLAY_NAME;else{if(g!==S.Tb.APPLE_LOGIN)return null;t=Tc(F),e=en.bQ.APPLE_AUTHENTICATOR_DISPLAY_NAME}return s.createElement(l.cV,{type:"warning",className:"duplicate-social-authenticator-selection-modal",onClose:function(){return $(!1)},open:K,primaryAction:d("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.primaryButton"),secondaryAction:d("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.secondaryButton"),onSecondaryActionClick:function(){return $(!1)},onPrimaryActionClick:function(){ne(Lc(Lc({},n),ye(X.idp,g))),m(g),$(!1)},"data-testid":"".concat(u,"-duplicate-authenticator-selection-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,null,d("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.heading",{authenticator:e})),s.createElement(l.cV.Message,{attached:!0,warning:!0},d("console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.content.message",{authenticator:e})),s.createElement(l.cV.Content,{scrolling:!0},s.createElement(l.xv,null,s.createElement(_.c,{i18nKey:"console:develop.features.applications.edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.content.body",tOptions:{authenticator:e}},"You have multiple Social Connections configured with ",s.createElement(l.EK,null,e,"Authenticator"),". Select the desired one from the selection below to proceed.")),s.createElement(be.Z,{hidden:!0}),s.createElement("div",{className:"authenticator-grid"},t.filter((function(e){return e.name!==en.bQ.BACKUP_CODE_AUTHENTICATOR})).map((function(e,t){return s.createElement(l.WL,{key:t,multilineLabel:!0,className:"authenticator-card",size:"tiny",selected:(null==X?void 0:X.id)===e.id,image:e.image,label:e.displayName,labelEllipsis:!0,"data-testid":"".concat(u,"-authenticator-").concat(e.name),onClick:function(){return J(e)}})})))))}())};function _c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Dc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}xc.defaultProps={"data-testid":"sign-on-methods"};var Zc=function(e){var t,n,o,d,p,f,v,h,g,b,E,S=e.appId,C=e.name,A=e.description,O=e.discoverability,w=e.featureConfig,I=e.hiddenFields,T=e.imageUrl,R=e.accessUrl,L=e.isLoading,N=e.onDelete,k=e.onUpdate,P=e.readOnly,U=e.isManagementApp,M=e.application,x=e["data-testid"],_=(0,u.I0)(),D=(0,c.$)().t,Z=(0,u.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),j=(0,u.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t?void 0:t.ui})),F=_c((0,s.useState)(!1),2),V=F[0],H=F[1],z=_c((0,s.useState)(!1),2),B=z[0],q=z[1],W=_c((0,s.useState)(!1),2),G=W[0],Q=W[1];return L?s.createElement(l.pJ,{padded:"very"},s.createElement(l.pO,{inline:"centered",active:!0})):s.createElement(s.Fragment,null,s.createElement(l.pJ,{padded:"very"},s.createElement(mn,{name:C,appId:S,application:M,description:A,discoverability:O,onSubmit:function(e){q(!0),(0,y.hN)(e).then((function(){_((0,r.V_)({description:D("console:develop.features.applications.notifications.updateApplication.success.description"),level:a.QU.SUCCESS,message:D("console:develop.features.applications.notifications.updateApplication.success.message")})),k(S)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?_((0,r.V_)({description:e.response.data.description,level:a.QU.ERROR,message:D("console:develop.features.applications.notifications.updateApplication.error.message")})):_((0,r.V_)({description:D("console:develop.features.applications.notifications.updateApplication.genericError.description"),level:a.QU.ERROR,message:D("console:develop.features.applications.notifications.updateApplication.genericError.message")}))})).finally((function(){q(!1)}))},imageUrl:T,accessUrl:R,hiddenFields:I,readOnly:P||!(0,i.Xr)(null==w?void 0:w.applications,null==w||null===(t=w.applications)||void 0===t||null===(n=t.scopes)||void 0===n?void 0:n.update,Z),hasRequiredScope:(0,i.Xr)(null==w?void 0:w.applications,null==w||null===(o=w.applications)||void 0===o||null===(d=o.scopes)||void 0===d?void 0:d.update,Z),"data-testid":"".concat(x,"-form"),isSubmitting:B,isManagementApp:U})),s.createElement(be.Z,{hidden:!0}),(0,i.Xr)(null==w?void 0:w.applications,null==w||null===(p=w.applications)||void 0===p||null===(f=p.scopes)||void 0===f?void 0:f.update,Z)?j.systemAppsIdentifiers.includes(C)?null:m.applicationConfig.editApplication.showDangerZone(M)?!(0,i.Xr)(null==w?void 0:w.applications,null==w||null===(v=w.applications)||void 0===v||null===(h=v.scopes)||void 0===h?void 0:h.delete,Z)||null!=M&&null!==(g=M.advancedConfigurations)&&void 0!==g&&g.fragment?null:s.createElement(l.v9,{sectionHeader:D("console:develop.features.applications.dangerZoneGroup.header")},(0,i.Xr)(null==w?void 0:w.applications,null==w||null===(b=w.applications)||void 0===b||null===(E=b.scopes)||void 0===E?void 0:E.delete,Z)&&s.createElement(l.cN,{actionTitle:D("console:develop.features.applications.dangerZoneGroup.deleteApplication.actionTitle"),header:D("console:develop.features.applications.dangerZoneGroup.deleteApplication.header"),subheader:D("console:develop.features.applications.dangerZoneGroup.deleteApplication.subheader"),onActionClick:function(){return H(!0)},"data-testid":"".concat(x,"-danger-zone")})):null:null,s.createElement(l.cV,{onClose:function(){return H(!1)},type:"negative",open:V,assertionHint:D("console:develop.features.applications.confirmations.deleteApplication.assertionHint"),assertionType:"checkbox",primaryAction:D("common:confirm"),secondaryAction:D("common:cancel"),onSecondaryActionClick:function(){return H(!1)},onPrimaryActionClick:function(){return Q(!0),void(0,y.rw)(S).then((function(){Q(!1),_((0,r.V_)({description:D("console:develop.features.applications.notifications.deleteApplication.success.description"),level:a.QU.SUCCESS,message:D("console:develop.features.applications.notifications.deleteApplication.success.message")})),H(!1),N()})).catch((function(e){Q(!1),e.response&&e.response.data&&e.response.data.description?_((0,r.V_)({description:e.response.data.description,level:a.QU.ERROR,message:D("console:develop.features.applications.notifications.deleteApplication.error.message")})):_((0,r.V_)({description:D("console:develop.features.applications.notifications.deleteApplication.genericError.description"),level:a.QU.ERROR,message:D("console:develop.features.applications.notifications.deleteApplication.genericError.message")}))}))},"data-testid":"".concat(x,"-application-delete-confirmation-modal"),closeOnDimmerClick:!1,primaryActionLoading:G},s.createElement(l.cV.Header,{"data-testid":"".concat(x,"-application-delete-confirmation-modal-header")},D("console:develop.features.applications.confirmations.deleteApplication.header")),s.createElement(l.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(x,"-application-delete-confirmation-modal-message")},D("console:develop.features.applications.confirmations.deleteApplication.message")),s.createElement(l.cV.Content,{"data-testid":"".concat(x,"-application-delete-confirmation-modal-content")},D("console:develop.features.applications.confirmations.deleteApplication.content"))))};Zc.defaultProps={"data-testid":"application-general-settings"};var jc=n(45949);(function(e){var t,n=e.setProtocol,o=e.availableProtocols,i=e.setSAMLProtocol,a=e["data-testid"],r=(0,c.$)().t;return s.createElement(l.pJ,{basic:!0,"data-testid":a},s.createElement(P.Z,null,(t=function(){var e=[];if(o.includes(S.AI.OIDC)){var t={description:C.yf.resolveProtocolDescription(S.AI.OIDC),image:(0,ct.B0)().oidc,name:C.yf.resolveProtocolDisplayName(S.AI.OIDC),protocol:S.AI.OIDC};e.push(t)}if(o.includes(S.AI.SAML)){var n={description:"XML-based open security standard framework",image:(0,ct.B0)().saml,name:C.yf.resolveProtocolDisplayName(S.AI.SAML),protocol:S.AI.SAML};e.push(n)}if(o.includes(S.AI.WS_FEDERATION)){var i={description:C.yf.resolveProtocolDescription(S.AI.WS_FEDERATION),image:(0,ct.B0)()["passive-sts"],name:C.yf.resolveProtocolDisplayName(S.AI.WS_FEDERATION),protocol:S.AI.WS_FEDERATION};e.push(i)}return o.map((function(t){if(t!==S.AI.OIDC&&t!==S.AI.SAML&&t!==S.AI.WS_FEDERATION){var n={description:t,image:s.createElement(l.Xo,{name:t,size:"tiny","data-testid":"".concat(a,"-item-image-inner")}),name:t,protocol:t};e.push(n)}})),e}(),s.createElement(P.Z.Row,{className:"protocol-selection-wrapper check",textAlign:"center"},s.createElement(P.Z.Column,{width:16},s.createElement("div",{"data-testid":a},s.createElement(l.X6,{as:"h2",className:"mb-1",compact:!0},r("console:develop.features.applications.edit.sections.access.protocolLanding.heading")),s.createElement(l.xv,{muted:!0},r("console:develop.features.applications.edit.sections.access.protocolLanding.subHeading")),s.createElement(be.Z,{hidden:!0}),!(0,L.Z)(t)&&Array.isArray(t)&&t.length>0&&s.createElement(Fo.Z.Group,{centered:!0,className:"tech-selection-cards mt-3",itemsPerRow:9},t.map((function(e,t){var o;return s.createElement(jc.Xy,{key:t,raised:!1,"data-testid":null!==(o=e["data-testid"])&&void 0!==o?o:"technology-card-".concat((0,bi.Z)(e.name)),onClick:e.protocol===S.AI.SAML?i:function(){return n(e.protocol)},displayName:e.name,overlayOpacity:.6,image:e.image,className:"protocol-card",showOption:e.protocol===S.AI.SAML})})))))))))}).defaultProps={"data-testid":"protocol-landing"};var Fc=function(e){var t,n=e.setSAMLProtocol,o=e["data-testid"];return s.createElement(l.pJ,{basic:!0,"data-testid":o},s.createElement(P.Z,null,(t=[{image:(0,ct.pr)().manual,mode:S.T6.MANUAL,name:C.yf.resolveSAMLConfigModeDisplayName(S.T6.MANUAL)},{image:(0,ct.pr)().fileBased,mode:S.T6.META_FILE,name:C.yf.resolveSAMLConfigModeDisplayName(S.T6.META_FILE)},{image:(0,ct.pr)().URLBased,mode:S.T6.META_URL,name:C.yf.resolveSAMLConfigModeDisplayName(S.T6.META_URL)}],s.createElement(P.Z.Row,{className:"protocol-selection-wrapper check",textAlign:"center"},s.createElement(P.Z.Column,{width:16},s.createElement("div",{"data-testid":o},s.createElement(l.X6,{as:"h2",className:"mb-1",compact:!0},"Which mode are you using?"),s.createElement(l.xv,{muted:!0},"Select the mode of configuration for your SAML application."),s.createElement(be.Z,{hidden:!0}),!(0,L.Z)(t)&&Array.isArray(t)&&t.length>0&&s.createElement(Fo.Z.Group,{centered:!0,className:"tech-selection-cards mt-3",itemsPerRow:9},t.map((function(e,t){var o;return s.createElement(jc.Xy,{key:t,raised:!1,"data-testid":null!==(o=e["data-testid"])&&void 0!==o?o:"technology-card-".concat((0,bi.Z)(e.name)),onClick:function(){return n(e.mode)},displayName:e.name,overlayOpacity:.6,image:e.image,className:"protocol-card",iconClass:e.mode===S.T6.META_FILE})})))))))))};function Vc(e){return Vc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(e)}function Hc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function zc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hc(Object(n),!0).forEach((function(t){Bc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qc(){qc=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",r=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,n){return e[t]=n}}function s(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),r=new A(o||[]);return a._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return w()}for(n.method=i,n.arg=a;;){var r=n.delegate;if(r){var l=E(r,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=c(e,t,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}(e,n,r),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=s;var u={};function d(){}function p(){}function f(){}var m={};l(m,i,(function(){return this}));var v=Object.getPrototypeOf,h=v&&v(v(O([])));h&&h!==t&&n.call(h,i)&&(m=h);var g=f.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function o(i,a,r,l){var s=c(e[i],e,a);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==Vc(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,r,l)}),(function(e){o("throw",e,r,l)})):t.resolve(d).then((function(e){u.value=e,r(u)}),(function(e){return o("throw",e,r,l)}))}l(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){o(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var o=c(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,u;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:w}}function w(){return{value:void 0,done:!0}}return p.prototype=f,l(g,"constructor",f),l(f,"constructor",p),p.displayName=l(f,r,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,r,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(y.prototype),l(y.prototype,a,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,o,i,a){void 0===a&&(a=Promise);var r=new y(s(t,n,o,i),a);return e.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},b(g),l(g,r,"Generator"),l(g,i,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=O,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return r.type="throw",r.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],r=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(l&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function Wc(e,t,n,o,i,a,r){try{var l=e[a](r),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(o,i)}function Gc(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function r(e){Wc(a,o,i,r,l,"next",e)}function l(e){Wc(a,o,i,r,l,"throw",e)}r(void 0)}))}}function Qc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Kc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Fc.defaultProps={"data-testid":"protocol-saml-configuration-mode-landing"};var $c=function(e){var t=e.application,n=e.appId,o=e.appName,p=e.certificate,f=e.featureConfig,v=e.inboundProtocolConfig,g=e.inboundProtocols,b=e.isLoading,A=e.setIsLoading,O=e.onUpdate,w=e.allowedOriginList,I=e.onAllowedOriginsUpdate,T=e.onApplicationSecretRegenerate,R=e.isInboundProtocolConfigRequestLoading,L=e.readOnly,N=e.template,k=e.extendedAccessConfig,U=e.applicationTemplateId,x=e["data-testid"],D=(0,c.$)().t,Z=(0,l.fQ)().getLink,j=(0,u.I0)(),V=(0,u.v9)((function(e){return e.application.meta.protocolMeta})),H=(0,u.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),z=h.h.getState().config.deployment.tenant,B=(0,u.v9)((function(e){return e.config.deployment.allowMultipleAppProtocols})),q=Qc((0,s.useState)(void 0),2),W=q[0],G=q[1],Q=Qc((0,s.useState)([]),2),K=Q[0],$=Q[1],Y=Qc((0,s.useState)(void 0),2),X=Y[0],J=Y[1],ee=Qc((0,s.useState)(!1),2),te=ee[0],ne=ee[1],oe=Qc((0,s.useState)(!1),2),ie=oe[0],ae=oe[1],re=Qc((0,s.useState)(!1),2),le=re[0],se=re[1],ce=Qc((0,s.useState)(void 0),1)[0],ue=Qc((0,s.useState)(!1),2),de=ue[0],pe=ue[1],fe=Qc((0,s.useState)(void 0),2),me=fe[0],ve=fe[1],he=(0,s.useRef)(null),ge=function(){var e=Gc(qc().mark((function e(t,o){var i;return qc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=!1,e.abrupt("return",(0,y.lp)(n,t,o).then((function(){j((0,r.V_)({description:D("console:develop.features.applications.notifications.updateInboundProtocolConfig.success.description"),level:a.QU.SUCCESS,message:D("console:develop.features.applications.notifications.updateInboundProtocolConfig.success.message")})),I()})).catch((function(e){var t,n;i=!0,null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.description?j((0,r.V_)({description:e.response.data.description,level:a.QU.ERROR,message:D("console:develop.features.applications.notifications.updateInboundProtocolConfig.error.message")})):j((0,r.V_)({description:D("console:develop.features.applications.notifications.updateInboundProtocolConfig.genericError.description"),level:a.QU.ERROR,message:D("console:develop.features.applications.notifications.updateInboundProtocolConfig.genericError.message")}))})).finally((function(){O(n),i||ye()})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ye=function(){N.id===ut.id&&me&&W===S.AI.SAML&&ve(void 0)},Ee=function(e){A(!0),(0,y.hN)(zc({id:n},e.general)).then(Gc(qc().mark((function t(){return qc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ge(e.inbound,W);case 2:case"end":return t.stop()}}),t)})))).catch((function(e){e.response&&e.response.data&&e.response.data.description?j((0,r.V_)({description:e.response.data.description,level:a.QU.ERROR,message:D("console:develop.features.applications.notifications.updateApplication.error.message")})):j((0,r.V_)({description:D("console:develop.features.applications.notifications.updateApplication.genericError.description"),level:a.QU.ERROR,message:D("console:develop.features.applications.notifications.updateApplication.genericError.message")}))})).finally((function(){A(!1)}))},Se=function(){(0,y.gh)(n).then((function(e){j((0,r.V_)({description:D("console:develop.features.applications.notifications.regenerateSecret.success.description"),level:a.QU.SUCCESS,message:D("console:develop.features.applications.notifications.regenerateSecret.success.message")})),T(e.data),O(n)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?j((0,r.V_)({description:e.response.data.description,level:a.QU.ERROR,message:D("console:develop.features.applications.notifications.regenerateSecret.error.message")})):j((0,r.V_)({description:D("console:develop.features.applications.notifications.regenerateSecret.genericError.description"),level:a.QU.ERROR,message:D("console:develop.features.applications.notifications.regenerateSecret.genericError.message")}))}))},Ce=function(){(0,y.rA)(n).then((function(){j((0,r.V_)({description:D("console:develop.features.applications.notifications.revokeApplication.success.description"),level:a.QU.SUCCESS,message:D("console:develop.features.applications.notifications.revokeApplication.success.message")})),O(n)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?j((0,r.V_)({description:e.response.data.description,level:a.QU.ERROR,message:D("console:develop.features.applications.notifications.revokeApplication.error.message")})):j((0,r.V_)({description:D("console:develop.features.applications.notifications.revokeApplication.success.description"),level:a.QU.ERROR,message:D("console:develop.features.applications.notifications.revokeApplication.success.message")}))}))};(0,s.useEffect)((function(){g.length>0&&$(g)}),[g]);var Ae=function(){return X?B?s.createElement(P.Z.Row,null,s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:10},X.map((function(e,t){return s.createElement(l.GI,{key:t,trigger:s.createElement(F.Z,{basic:!0,color:W===e?"red":"grey",content:W===e?"red":"grey",className:"mr-3 protocol-button",onClick:function(){return G(e)}},s.createElement(l.dn,{fill:W===e?"primary":"accent1",inline:!0,transparent:!0,icon:(0,ct.B0)()[e],size:"micro",spaced:"left",verticalAlign:"middle",className:"protocol-button-icon"}),s.createElement("div",{className:"protocol-change-title"},C.yf.resolveProtocolDisplayName(e))),content:C.yf.resolveProtocolDescription(e),position:"top center",size:"mini",hideOnScroll:!0,inverted:!0})})),s.createElement(be.Z,{hidden:!0}),s.createElement(be.Z,null))):s.createElement(s.Fragment,null,s.createElement(d.Z,{as:"h3",className:"display-flex"},s.createElement(l.dn,{transparent:!0,width:"auto",icon:(0,ct.B0)()[W],size:"x30",verticalAlign:"middle"}),s.createElement(d.Z.Content,{className:"mt-1"},s.createElement("strong",null," ",C.yf.resolveProtocolDisplayName(W)," "))),Oe(),s.createElement(be.Z,{hidden:!0})):null},Oe=function(){return W===S.AI.OIDC?s.createElement(d.Z,{as:"h6",color:"grey",compact:!0},D("console:develop.features.applications.forms.inboundOIDC.description",{protocol:C.yf.resolveProtocolDisplayName(S.AI.OIDC)}),s.createElement(l.eb,{link:Z("develop.applications.editApplication.oidcApplication.protocol.learnMore")},D("common:learnMore"))):W===S.AI.OAUTH2_OIDC?s.createElement(d.Z,{as:"h6",color:"grey",compact:!0},D("console:develop.features.applications.forms.inboundOIDC.description",{protocol:C.yf.resolveProtocolDisplayName(S.AI.OAUTH2_OIDC)}),s.createElement(l.eb,{link:Z("develop.applications.editApplication.oidcApplication.protocol.learnMore")},D("common:learnMore"))):W===S.AI.SAML?s.createElement(d.Z,{as:"h6",color:"grey",compact:!0},D("console:develop.features.applications.forms.inboundSAML.description"),s.createElement(l.eb,{link:Z("develop.applications.editApplication.samlApplication.protocol.learnMore")},D("common:learnMore"))):null};(0,s.useEffect)((function(){Object.values(S.Ii).map((function(e){if(e!==S.AI.WS_FEDERATION&&e!==S.AI.WS_TRUST){var t=e;Object.prototype.hasOwnProperty.call(V,t)||(0,y.WL)(t).then((function(e){j((0,Io.vX)(t,e))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?j((0,r.V_)({description:e.response.data.description,level:a.QU.ERROR,message:D("console:develop.features.applications.notifications.fetchProtocolMeta.error.message")})):j((0,r.V_)({description:D("console:develop.features.applications.notifications.fetchProtocolMeta.genericError.description"),level:a.QU.ERROR,message:D("console:develop.features.applications.notifications.fetchProtocolMeta.genericError.message")}))}))}}))}),[g]);var we;return b||de||R?s.createElement(l.pJ,{padded:"very"},s.createElement(l.pO,{inline:"centered",active:!0})):W||0!==g.length||B||U!==E.jo.CUSTOM_APPLICATION_SAML?s.createElement(P.Z,null,s.createElement(s.Fragment,null,(we=function(e){var t=null!=N&&N.authenticationProtocol?[N.authenticationProtocol]:Object.values(S.AI);return U===E.jo.CUSTOM_APPLICATION_SAML?[S.AI.SAML]:U===E.jo.CUSTOM_APPLICATION_OIDC?[S.AI.OAUTH2_OIDC]:U===E.jo.CUSTOM_APPLICATION_PASSIVE_STS?[S.AI.WS_FEDERATION]:t=t.filter((function(t){return N&&N.id===ut.id&&m.applicationConfig.customApplication.allowedProtocolTypes&&m.applicationConfig.customApplication.allowedProtocolTypes.length>0?!!m.applicationConfig.customApplication.allowedProtocolTypes.includes(t)&&t:!(t===S.AI.WS_TRUST||t===S.AI.CUSTOM||k&&t===S.AI.WS_FEDERATION||e&&t===e)&&t}))}(),we=(0,M.Z)(we,(function(e){var t,n=(Bc(t={},S.AI.OIDC,0),Bc(t,S.AI.SAML,1),t);return g.length>0&&g.forEach((function(e,t){Object.values(S.AI).includes(e)&&(n=zc(zc({},n),{},Bc({},e,t)))})),n[e]})),W||G(we[0]),void(X||J(we))),s.createElement(P.Z.Row,null,s.createElement(P.Z.Column,{mobile:16,tablet:16,computer:16},function(){var e,n,o,a;if(!W)return null;var r,c;return s.createElement(l.pJ,{className:"protocol-settings-section form-wrapper",padded:"very",ref:he},s.createElement("div",{className:"form-container with-max-width"},b?null:Ae(),(r=void 0,c=void 0,U===E.jo.CUSTOM_APPLICATION_OIDC&&(r=Z("develop.applications.editApplication.standardBasedApplication.oauth2OIDC.protocol.learnMore"),c="console:develop.features.applications.forms.inboundOIDC.documentation"),U===E.jo.CUSTOM_APPLICATION_SAML&&(r=Z("develop.applications.editApplication.standardBasedApplication.saml.protocol.learnMore"),c="console:develop.features.applications.forms.inboundSAML.documentation"),r?s.createElement(s.Fragment,null,s.createElement(l.v0,{visible:!0,type:"info",content:s.createElement(_.c,{i18nKey:c,tOptions:{protocol:C.yf.resolveProtocolDisplayName(W)}},"Read through our",s.createElement(l.eb,{link:r},"documentation"),"to learn more about using",s.createElement(l.EK,{withBackground:!1},C.yf.resolveProtocolDisplayName(W)),"protocol to implement login in your applications.")}),s.createElement(be.Z,{hidden:!0})):null),Object.values(S.AI).includes(W)?s.createElement(sn,{onUpdate:O,application:t,isLoading:b,setIsLoading:A,certificate:p,tenantDomain:z,allowedOrigins:w,metadata:V[W===S.AI.OAUTH2_OIDC?S.AI.OIDC:W],initialValues:(0,et.Z)(v,W===S.AI.OAUTH2_OIDC?S.AI.OIDC:W)?v[W===S.AI.OAUTH2_OIDC?S.AI.OIDC:W]:void 0,onSubmit:Ee,type:W,onApplicationRegenerate:Se,onApplicationRevoke:Ce,readOnly:L||!(0,i.Xr)(null==f?void 0:f.applications,null==f||null===(e=f.applications)||void 0===e||null===(n=e.scopes)||void 0===n?void 0:n.update,H),showSAMLCreation:W===S.AI.SAML,SAMLCreationOption:W===S.AI.SAML&&me,template:N,"data-testid":"".concat(x,"-inbound-").concat(W,"-form"),containerRef:he}):s.createElement(sn,{onUpdate:O,application:t,isLoading:b,setIsLoading:A,certificate:p,metadata:V[W===S.AI.OAUTH2_OIDC?S.AI.OIDC:W],initialValues:(0,et.Z)(v,W===S.AI.OAUTH2_OIDC?S.AI.OIDC:W)?v[W===S.AI.OAUTH2_OIDC?S.AI.OIDC:W]:void 0,onSubmit:Ee,type:S.AI.CUSTOM,readOnly:!(0,i.Xr)(null==f?void 0:f.applications,null==f||null===(o=f.applications)||void 0===o||null===(a=o.scopes)||void 0===a?void 0:a.update,H),template:N,"data-testid":"".concat(x,"-inbound-custom-form"),containerRef:he})))}())),te&&s.createElement(Po,{title:D("console:develop.features.applications.edit.sections.access.addProtocolWizard.heading"),subTitle:D("console:develop.features.applications.edit.sections.access.addProtocolWizard.subHeading",{appName:o}),closeWizard:function(){return ne(!1)},addProtocol:!0,selectedProtocols:g,onUpdate:O,appId:n,"data-testid":"".concat(x,"-protocol-add-wizard")}),ie&&s.createElement(l.cV,{onClose:function(){return ae(!1)},type:"negative",open:ie,assertion:ce,assertionHint:s.createElement("p",null,s.createElement(_.c,{i18nKey:"console:develop.features.applications.confirmations.deleteProtocol.assertionHint",tOptions:{name:ce}},"Please type ",s.createElement("strong",null,ce)," to confirm.")),assertionType:"input",primaryAction:D("common:confirm"),secondaryAction:D("common:cancel"),onSecondaryActionClick:function(){return ae(!1)},onPrimaryActionClick:function(){var e;e=ce,(0,y.yY)(n,e).then((function(){j((0,r.V_)({description:D("console:develop.features.applications.notifications.deleteProtocolConfig.success.description",{protocol:e}),level:a.QU.SUCCESS,message:D("console:develop.features.applications.notifications.deleteProtocolConfig.success.message")})),O(n)})).catch((function(e){var t,n,o,i;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.description?j((0,r.V_)({description:null==e||null===(o=e.response)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.description,level:a.QU.ERROR,message:D("console:develop.features.applications.notifications.deleteProtocolConfig.error.message")})):j((0,r.V_)({description:D("console:develop.features.applications.notifications.deleteProtocolConfig.genericError.description"),level:a.QU.ERROR,message:D("console:develop.features.applications.notifications.deleteProtocolConfig.genericError.message")}))})),ae(!1)},"data-testid":"".concat(x,"-protocol-delete-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(x,"-protocol-delete-confirmation-modal-header")},D("console:develop.features.applications.confirmations.deleteProtocol.header")),s.createElement(l.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(x,"-protocol-delete-confirmation-modal-message")},D("console:develop.features.applications.confirmations.deleteProtocol.message")),s.createElement(l.cV.Content,{"data-testid":"".concat(x,"-protocol-delete-confirmation-modal-content")},D("console:develop.features.applications.confirmations.deleteProtocol.content"))),le&&s.createElement(l.cV,{onClose:function(){return ae(!1)},type:"negative",open:le,primaryAction:D("common:confirm"),secondaryAction:D("common:cancel"),onSecondaryActionClick:function(){se(!1)},onPrimaryActionClick:function(){var e;e=W,pe(!0),(0,y.yY)(n,e).then((function(){O(n)})).catch((function(e){var t,n,o,i;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.description?j((0,r.V_)({description:null==e||null===(o=e.response)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.description,level:a.QU.ERROR,message:D("console:develop.features.applications.notifications.deleteProtocolConfig.error.message")})):j((0,r.V_)({description:D("console:develop.features.applications.notifications.deleteProtocolConfig.genericError.description"),level:a.QU.ERROR,message:D("console:develop.features.applications.notifications.deleteProtocolConfig.genericError.message")}))})).finally((function(){pe(!1),G(void 0)})),se(!1)},"data-testid":"".concat(x,"-protocol-delete-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(l.cV.Header,{"data-testid":"".concat(x,"-protocol-delete-confirmation-modal-header")},D("console:develop.features.applications.confirmations.changeProtocol.header")),s.createElement(l.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(x,"-protocol-delete-confirmation-modal-message")},D("console:develop.features.applications.confirmations.changeProtocol.message",{name:W})),s.createElement(l.cV.Content,{"data-testid":"".concat(x,"-protocol-delete-confirmation-modal-content")},D("console:develop.features.applications.confirmations.changeProtocol.content"))))):s.createElement(Fc,{setSAMLProtocol:function(e){ve(e),G(S.AI.SAML),K.push(S.AI.SAML)}})};function Yc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}$c.defaultProps={"data-testid":"application-access-configuration",extendedAccessConfig:!1};var Jc=function(e){var t,n,o=e.appId,d=e.advancedConfigurations,p=e.featureConfig,f=e.onUpdate,m=e.readOnly,v=e.template,h=e["data-testid"],g=(0,c.$)().t,b=(0,u.I0)(),E=(0,u.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),S=Yc((0,s.useState)(!1),2),C=S[0],A=S[1];return s.createElement(l.pJ,{className:"advanced-configuration-section",padded:"very"},s.createElement(Ve,{config:d,onSubmit:function(e){A(!0),(0,y.TH)(o,e).then((function(){b((0,r.V_)({description:g("console:develop.features.applications.notifications.updateAdvancedConfig.success.description"),level:a.QU.SUCCESS,message:g("console:develop.features.applications.notifications.updateAdvancedConfig.success.message")})),f(o)})).catch((function(e){var t,n;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.description?b((0,r.V_)({description:e.response.data.description,level:a.QU.ERROR,message:g("console:develop.features.applications.notifications.updateAdvancedConfig.error.message")})):b((0,r.V_)({description:g("console:develop.features.applications.notifications.updateAdvancedConfig.genericError.description"),level:a.QU.ERROR,message:g("console:develop.features.applications.notifications.updateAdvancedConfig.genericError.message")}))})).finally((function(){A(!1)}))},readOnly:m||!(0,i.Xr)(null==p?void 0:p.applications,null==p||null===(t=p.applications)||void 0===t||null===(n=t.scopes)||void 0===n?void 0:n.update,E),template:v,"data-testid":"".concat(h,"-form"),isSubmitting:C}))};Jc.defaultProps={"data-testid":"application-advanced-settings"};var eu=function(e){var t=e.application,n=e.onUpdate,o=e.readOnly;return s.createElement(l.pJ,{className:"advanced-configuration-section",padded:"very"},s.createElement(Pn,{application:t,onApplicationSharingCompleted:function(){return n(null==t?void 0:t.id)},readOnly:o}))};function tu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}eu.defaultProps={"data-componentid":"application-shared-access"};var ou=n(80238).AsgardeoSPAClient.getInstance(),iu=function(e){var t=(0,c.$)().t,n=(0,u.I0)(),o=e.oidcConfigurations,i=e["data-testid"],d=tu((0,s.useState)(void 0),2),p=d[0],m=d[1];return(0,s.useEffect)((function(){void 0===p&&ou.getOIDCServiceEndpoints().then((function(e){m({authorize:null==e?void 0:e.authorizationEndpoint,jwks:null==e?void 0:e.jwksUri,logout:null==e?void 0:e.endSessionEndpoint,oidcSessionIFrame:null==e?void 0:e.checkSessionIframe,revoke:null==e?void 0:e.revocationEndpoint,token:null==e?void 0:e.tokenEndpoint})})).catch((function(){n((0,r.V_)({description:t("console:develop.features.applications.notifications.fetchOIDCServiceEndpoints.genericError.description"),level:a.QU.ERROR,message:t("console:develop.features.applications.notifications.fetchOIDCServiceEndpoints.genericError.message")}))}))})),s.createElement(k.Z,null,s.createElement(P.Z,{verticalAlign:"middle"},s.createElement(P.Z.Row,{columns:2},s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:5},s.createElement(l.dn,{icon:(0,ct.RO)().endpoints.issuer,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),s.createElement("label",{"data-testid":"".concat(i,"-introspection-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.oidcConfigurations.labels.issuer"))),s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:11},s.createElement(l.OR,{value:null==o?void 0:o.tokenEndpoint,"data-testid":"".concat(i,"-introspection-readonly-input")}))),s.createElement(P.Z.Row,{columns:2},s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:5},s.createElement(l.dn,{icon:(0,ct.RO)().endpoints.wellKnown,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),s.createElement("label",{"data-testid":"".concat(i,"-introspection-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.oidcConfigurations.labels.wellKnown"))),s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:11},s.createElement(l.OR,{value:null==o?void 0:o.wellKnownEndpoint,"data-testid":"".concat(i,"-introspection-readonly-input")}))),s.createElement(P.Z.Row,{columns:2},s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:5},s.createElement(l.dn,{icon:(0,ct.RO)().endpoints.authorize,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),s.createElement("label",{"data-testid":"".concat(i,"-authorize-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.oidcConfigurations.labels.authorize"))),s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:11},s.createElement(l.OR,{value:null==o?void 0:o.authorizeEndpoint,"data-testid":"".concat(i,"-authorize-readonly-input")}))),s.createElement(P.Z.Row,{columns:2},s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:5},s.createElement(l.dn,{icon:(0,ct.RO)().endpoints.token,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),s.createElement("label",{"data-testid":"".concat(i,"-token-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.oidcConfigurations.labels.token"))),s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:11},s.createElement(l.OR,{value:null==o?void 0:o.tokenEndpoint,"data-testid":"".concat(i,"-token-readonly-input")}))),s.createElement(P.Z.Row,{columns:2},s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:5},s.createElement(l.dn,{icon:(0,ct.RO)().endpoints.userInfo,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),s.createElement("label",{"data-testid":"".concat(i,"-userInfo-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.oidcConfigurations.labels.userInfo"))),s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:11},s.createElement(l.OR,{value:null==o?void 0:o.userEndpoint,"data-testid":"".concat(i,"-userInfo-readonly-input")}))),s.createElement(P.Z.Row,{columns:2},s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:5},s.createElement(l.dn,{icon:(0,ct.RO)().endpoints.introspect,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),s.createElement("label",{"data-testid":"".concat(i,"-introspection-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.oidcConfigurations.labels.introspection"))),s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:11},s.createElement(l.OR,{value:null==o?void 0:o.introspectionEndpoint,"data-testid":"".concat(i,"-introspection-readonly-input")}))),s.createElement(P.Z.Row,{columns:2},s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:5},s.createElement(l.dn,{icon:(0,ct.RO)().endpoints.jwks,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),s.createElement("label",{"data-testid":"".concat(i,"-jwks-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.oidcConfigurations.labels.jwks"))),s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:11},s.createElement(l.OR,{value:null==o?void 0:o.jwksEndpoint,"data-testid":"".concat(i,"-jwks-readonly-input")}))),s.createElement(P.Z.Row,{columns:2},s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:5},s.createElement(l.dn,{icon:(0,ct.RO)().endpoints.revoke,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),s.createElement("label",{"data-testid":"".concat(i,"-token-revoke-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.oidcConfigurations.labels.revoke"))),s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:11},s.createElement(l.OR,{value:null==o?void 0:o.tokenRevocationEndpoint,"data-testid":"".concat(i,"-token-revoke-readonly-input")}))),s.createElement(P.Z.Row,{columns:2},s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:5},s.createElement(l.dn,{icon:s.createElement(f.Z,{className:"mr-0",name:"power off"}),size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),s.createElement("label",{"data-testid":"".concat(i,"-logout-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.oidcConfigurations.labels.endSession"))),s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:11},s.createElement(l.OR,{value:null==o?void 0:o.endSessionEndpoint,"data-testid":"".concat(i,"-logout-readonly-input")})))))};iu.defaultProps={"data-testid":"applications-help-panel-oidc-configs"};var au=n(12887),ru=function(e){var t=(0,c.$)().t,n=e.samlConfigurations,o=e["data-testid"],i=h.h.getState().config.deployment.tenant;return s.createElement(k.Z,null,s.createElement(P.Z,{verticalAlign:"middle"},s.createElement(P.Z.Row,{columns:2},s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:5},s.createElement(l.dn,{icon:(0,ct.RO)().endpoints.issuer,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),s.createElement("label",{"data-testid":"".concat(o,"-issuer-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.samlConfigurations.labels.issuer"))),s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:11},s.createElement(l.OR,{value:null==n?void 0:n.issuer,"data-testid":"".concat(o,"-issuer-readonly-input")}))),s.createElement(P.Z.Row,{columns:2},s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:5},s.createElement(l.dn,{icon:(0,ct.RO)().endpoints.samlSSO,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),s.createElement("label",{"data-testid":"".concat(o,"-sso-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.samlConfigurations.labels.sso"))),s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:11},s.createElement(l.OR,{value:null==n?void 0:n.ssoUrl,"data-testid":"".concat(o,"-sso-readonly-input")}))),s.createElement(P.Z.Row,{columns:2},s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:5},s.createElement(l.dn,{icon:(0,ct.RO)().endpoints.samlSLO,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),s.createElement("label",{"data-testid":"".concat(o,"-slo-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.samlConfigurations.labels.slo"))),s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:11},s.createElement(l.OR,{value:null==n?void 0:n.sloUrl,"data-testid":"".concat(o,"-slo-readonly-input")}))),s.createElement(P.Z.Row,{columns:2},s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:5},s.createElement(l.dn,{icon:(0,ct.RO)().endpoints.certificate,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),s.createElement("label",{"data-testid":"".concat(o,"-certificate-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.samlConfigurations.labels.certificate"))),s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:11},s.createElement(F.Z,{"data-testid":"".concat(o,"-certificate-button"),className:"idp-certificate-download-button",basic:!0,size:"tiny",color:"orange",onClick:function(){return ze.CertificateManagementUtils.exportCertificate(i,null==n?void 0:n.certificate)}},s.createElement(f.Z,{name:"download"}),t("console:develop.features.applications.helpPanel.tabs.start.content.samlConfigurations.buttons.certificate")))),s.createElement(P.Z.Row,{columns:2},s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:5},s.createElement(l.dn,{icon:(0,ct.RO)().endpoints.metadata,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),s.createElement("label",{"data-testid":"".concat(o,"-metadata-label")},t("console:develop.features.applications.helpPanel.tabs.start.content.samlConfigurations.labels.metadata"))),s.createElement(P.Z.Column,{mobile:8,tablet:8,computer:11},s.createElement(F.Z,{"data-testid":"".concat(o,"-metadata-button"),basic:!0,size:"tiny",color:"orange",onClick:function(){var e=new Blob([null==n?void 0:n.metadata],{type:"text/xml"});(0,au.saveAs)(e,"SAML-Metadata.xml")}},s.createElement(f.Z,{name:"download"}),t("console:develop.features.applications.helpPanel.tabs.start.content.samlConfigurations.buttons.metadata"))))))};ru.defaultProps={"data-testid":"applications-help-panel-saml-configs"};function lu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return su(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return su(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function su(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var cu=function(e){var t=e.inboundProtocols,n=e.isOIDCConfigLoading,o=e.isSAMLConfigLoading,i=e.templateId,a=e["data-testid"],r=(0,u.v9)((function(e){return e.application.oidcConfigurations})),d=(0,u.v9)((function(e){return e.application.samlConfigurations})),p=(0,c.$)().t,f=(0,l.fQ)().getLink,m=lu((0,s.useState)(!1),2),v=m[0],h=m[1],g=lu((0,s.useState)(!1),2),b=g[0],y=g[1],S=lu((0,s.useState)(!1),2),C=S[0],A=S[1];return(0,s.useEffect)((function(){null!=t&&t.length>0&&t.map((function(e){"oauth2"==e.type?(h(!0),A(n)):"samlsso"==e.type&&(y(!0),A(o))}))}),[t]),C?s.createElement(l.pJ,{padded:"very"},s.createElement(l.pO,{inline:"centered",active:!0})):s.createElement(l.pJ,{loading:C,padded:"very","data-testid":a},s.createElement(P.Z,{className:"form-container with-max-width"},s.createElement(P.Z.Row,null,s.createElement(P.Z.Column,null,(v||i===ut.id||i===E.jo.CUSTOM_APPLICATION_OIDC)&&s.createElement(s.Fragment,null,s.createElement(l.X6,{ellipsis:!0,as:"h4"},p("console:develop.features.applications.edit.sections.info.oidcHeading")),s.createElement(l.X6,{as:"h6",color:"grey",compact:!0},p("console:develop.features.applications.edit.sections.info.oidcSubHeading"),s.createElement(l.eb,{link:i===ft.id?f("develop.applications.editApplication.singlePageApplication.info.learnMore"):f("develop.applications.editApplication.oidcApplication.info.learnMore")},p("common:learnMore"))),s.createElement(be.Z,{hidden:!0}),s.createElement(iu,{oidcConfigurations:r})),v&&b?s.createElement(s.Fragment,null,s.createElement(be.Z,{className:"x2",hidden:!0})):null,(b||i===E.jo.CUSTOM_APPLICATION_SAML)&&s.createElement(s.Fragment,null,s.createElement(l.X6,{ellipsis:!0,as:"h4"},p("console:develop.features.applications.edit.sections.info.samlHeading")),s.createElement(l.X6,{as:"h6",color:"grey",compact:!0},p("console:develop.features.applications.edit.sections.info.samlSubHeading"),s.createElement(l.eb,{link:f("develop.applications.editApplication.samlApplication.info.learnMore")},p("common:learnMore"))),s.createElement(be.Z,{hidden:!0}),s.createElement(ru,{samlConfigurations:d}))))))};function uu(e){return function(e){if(Array.isArray(e))return hu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||vu(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function du(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function pu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?du(Object(n),!0).forEach((function(t){fu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):du(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,a=[],r=!0,l=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){l=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(l)throw i}}return a}(e,t)||vu(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vu(e,t){if(e){if("string"==typeof e)return hu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hu(e,t):void 0}}function hu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}cu.defaultProps={"data-testid":"application-server-endpoints"};var gu=function(e){var t,n=e.application,o=e.featureConfig,d=e.isLoading,p=e.setIsLoading,f=e.getConfiguredInboundProtocolsList,v=e.getConfiguredInboundProtocolConfigs,b=e.onDelete,A=e.onUpdate,O=e.template,w=e.readOnly,I=e.urlSearchParams,M=e["data-testid"],x=(0,c.$)().t,_=(0,u.I0)(),D=(0,u.v9)((function(e){return e.application.meta.inboundProtocols})),Z=(0,u.v9)((function(e){return e.application.oidcConfigurations})),j=(0,u.v9)((function(e){return e.application.samlConfigurations})),F=(0,u.v9)((function(e){return e.config.ui.isClientSecretHashEnabled})),V=(0,u.v9)((function(e){return e.auth.tenantDomain})),H=(0,u.v9)((function(e){return e.organization.isFirstLevelOrganization})),z=(0,u.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organizationType})),B=(0,u.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),q=mu((0,s.useState)(!0),2),W=q[0],G=q[1],Q=mu((0,s.useState)(void 0),2),K=Q[0],$=Q[1],Y=mu((0,s.useState)(void 0),2),X=Y[0],J=Y[1],ee=mu((0,s.useState)(!1),2),te=ee[0],ne=ee[1],oe=mu((0,s.useState)(void 0),2),ie=oe[0],ae=oe[1],re=mu((0,s.useState)([]),2),le=re[0],se=re[1],ce=mu((0,s.useState)(!1),2),ue=ce[0],de=ce[1],pe=mu((0,s.useState)(!1),2),fe=pe[0],me=pe[1],ve=mu((0,s.useState)(!1),2),he=ve[0],ge=ve[1],be=mu((0,s.useState)({clientId:"",clientSecret:""}),2),ye=be[0],Ee=be[1],Se=mu((0,s.useState)(!1),2),Ce=Se[0],Ae=Se[1],Oe=mu((0,s.useState)(!1),2),we=Oe[0],Ie=Oe[1],Te=mu((0,s.useState)(void 0),2),Re=Te[0],Le=Te[1],Ne=mu((0,s.useState)(void 0),2),ke=Ne[0],Pe=Ne[1],Ue=mu((0,s.useState)(void 0),2),Me=Ue[0],xe=Ue[1],Ze=h.lD.getInstance(),je=(null===(t=n.advancedConfigurations)||void 0===t?void 0:t.fragment)||!1,Fe=function(e){me(!0),A(e)};(0,s.useEffect)((function(){if(O){var e=0;if(m.applicationConfig.editApplication.extendTabs&&(e=1),Pe(e),(0,L.Z)(window.location.hash)){if(I.get(E.jo.APP_STATE_STRONG_AUTH_PARAM_KEY)!==E.jo.APP_STATE_STRONG_AUTH_PARAM_VALUE)return void Ve(e);var t=m.applicationConfig.editApplication.getStrongAuthenticationFlowTabIndex(n.clientId,V,O.id,ut.id);He(t)}}}),[O]),(0,s.useEffect)((function(){if(void 0!==Me&&!window.location.hash.includes(S.El.VIEW)&&!(0,L.Z)(window.location.hash)){var e=window.location.hash.split("#"+S.El.TAB_INDEX);if(2===e.length&&(0,L.Z)(e[0])&&/^\d+$/.test(e[1])){var t=parseInt(e[1],10);if((0,R.Z)(t,0,Me)){if(t===Re)return;He(t)}else Ve(ke)}else if(window.location.hash.includes(E.jo.SIGN_IN_METHOD_TAB_URL_FRAG)){var n=et(),o=n.indexOf(n.find((function(e){return e.componentId===E.jo.SIGN_IN_METHOD_TAB_URL_FRAG})));He(o)}else Ve(ke)}}),[window.location.hash,Me]),(0,s.useEffect)((function(){var e=[];De.F.isCurrentOrganizationRoot()&&(0,h.ZY)().then((function(t){t.map((function(t){e.push(t.url)})),se(e)})).catch((function(e){var t,n;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.description?_((0,r.V_)({description:e.response.data.description,level:a.QU.ERROR,message:x("console:develop.features.applications.notifications.fetchAllowedCORSOrigins.error.message")})):_((0,r.V_)({description:x("console:develop.features.applications.notifications.fetchAllowedCORSOrigins.genericError.description"),level:a.QU.ERROR,message:x("console:develop.features.applications.notifications.fetchAllowedCORSOrigins.genericError.message")}))}))}),[ue]),(0,s.useEffect)((function(){(0,L.Z)(D)&&(ne(!0),C.yf.getInboundProtocols(U.oK,!1).finally((function(){ne(!1)})))}),[D]),(0,s.useEffect)((function(){null!=n&&n.inboundProtocols&&null!=n&&n.id&&ze(n.id)}),[JSON.stringify(null==n?void 0:n.inboundProtocols)]),(0,s.useEffect)((function(){void 0===j&&(Ie(!0),C.yf.getSAMLApplicationMeta().finally((function(){Ie(!1)})))}),[j,X]),(0,s.useEffect)((function(){void 0===Z&&(Ae(!0),C.yf.getOIDCApplicationMeta().finally((function(){Ae(!1)})))}),[Z,X]),(0,s.useEffect)((function(){var e;if((!ie||fe)&&null!=n&&n.id&&!W){X&&j&&j.certificate&&(X.certificate=j.certificate,X.ssoUrl=j.ssoUrl,X.issuer=j.issuer);var t=m.applicationConfig.editApplication.getTabExtensions({application:n,content:null==O||null===(e=O.content)||void 0===e?void 0:e.quickStart,inboundProtocolConfig:X,inboundProtocols:K,onApplicationUpdate:function(){A(null==n?void 0:n.id)},onTriggerTabUpdate:function(e){Le(e)},template:O},o);ae(t),me(!1)}}),[ie,O,n,K,X,W]),(0,s.useEffect)((function(){I.get(E.jo.APP_STATE_URL_SEARCH_PARAM_KEY)&&ge(!0)}),[I.get(E.jo.CLIENT_SECRET_HASH_ENABLED_URL_SEARCH_PARAM_KEY)]);var Ve=function(e){O.id===ut.id&&e>0?He(e-1):He(e)},He=function(e){h.m8.push({hash:"#".concat(S.El.TAB_INDEX).concat(e),pathname:window.location.pathname}),Le(e)},ze=function(e){var t,o={},i=[],l=[],s=[];(null==n||null===(t=n.inboundProtocols)||void 0===t?void 0:t.length)>0?(n.inboundProtocols.forEach((function(t){if("openid"!==t.type){var n=function(e){var t=e;return"oauth2"===t?t=S.AI.OIDC:"passivests"===t?t=S.AI.WS_FEDERATION:"wstrust"===t?t=S.AI.WS_TRUST:"samlsso"===t&&(t=S.AI.SAML),t}(t.type);s.includes(n)||(s.push(n),l.push((0,y.S2)(e,n)))}})),G(!0),T().all(l).then(T().spread((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((function(e,t){o=pu(pu({},o),{},fu({},s[t],e)),i.push(s[t])}))}))).catch((function(e){var t,n,o,i,l,s;404!==(null==e||null===(t=e.response)||void 0===t?void 0:t.status)&&(null!=e&&e.response&&null!=e&&null!==(n=e.response)&&void 0!==n&&n.data&&null!=e&&null!==(o=e.response)&&void 0!==o&&null!==(i=o.data)&&void 0!==i&&i.description?_((0,r.V_)({description:null===(l=e.response)||void 0===l||null===(s=l.data)||void 0===s?void 0:s.description,level:a.QU.ERROR,message:x("console:develop.features.applications.notifications.getInboundProtocolConfig.error.message")})):_((0,r.V_)({description:x("console:develop.features.applications.notifications.getInboundProtocolConfig.genericError.description"),level:a.QU.ERROR,message:x("console:develop.features.applications.notifications.getInboundProtocolConfig.genericError.message")})))})).finally((function(){!function(e){if(e.saml){var t,n=null===(t=e.saml.singleSignOnProfile)||void 0===t?void 0:t.assertion;if(n){var o=n.nameIdFormat;n.nameIdFormat=o.replace(/\//g,":")}}}(o),me(!0),$(i),J(o),G(!1),f(i),v(o)}))):($([]),J({}),G(!1),f([]),v({}))},Be=function(){null!=n&&n.id&&ze(n.id)},qe=function(e){!(0,L.Z)(e)&&e.clientSecret&&e.clientId&&(Ee({clientId:e.clientId,clientSecret:e.clientSecret}),ge(!0))},We=function(){var e;return s.createElement(l.M$.Pane,{controlledSegmentation:!0},s.createElement(Zc,{accessUrl:n.accessUrl,appId:n.id,description:n.description,discoverability:null===(e=n.advancedConfigurations)||void 0===e?void 0:e.discoverableByEndUsers,imageUrl:n.imageUrl,name:n.name,application:n,isLoading:d,onDelete:b,onUpdate:Fe,featureConfig:o,template:O,readOnly:w||m.applicationConfig.editApplication.getTabPanelReadOnlyStatus("APPLICATION_EDIT_GENERAL_SETTINGS",n),"data-testid":"".concat(M,"-general-settings"),isManagementApp:n.isManagementApp}))},Ge=function(){var e;return s.createElement(l.M$.Pane,{controlledSegmentation:!0},s.createElement($c,{application:n,allowedOriginList:le,certificate:null===(e=n.advancedConfigurations)||void 0===e?void 0:e.certificate,onAllowedOriginsUpdate:function(){return de(!ue)},onApplicationSecretRegenerate:qe,appId:n.id,appName:n.name,applicationTemplateId:n.templateId,extendedAccessConfig:void 0!==ie,isLoading:d,setIsLoading:p,onUpdate:Fe,onProtocolUpdate:Be,isInboundProtocolConfigRequestLoading:W,inboundProtocolsLoading:W,inboundProtocolConfig:X,inboundProtocols:K,featureConfig:o,template:O,readOnly:w||m.applicationConfig.editApplication.getTabPanelReadOnlyStatus("APPLICATION_EDIT_ACCESS_CONFIG",n),"data-testid":"".concat(M,"-access-settings")}))},Qe=function(){return s.createElement(l.M$.Pane,{controlledSegmentation:!0},s.createElement(_e,{appId:n.id,technology:n.inboundProtocols,claimConfigurations:n.claimConfiguration,featureConfig:o,onlyOIDCConfigured:((null==n?void 0:n.templateId)===ut.id||(null==n?void 0:n.templateId)===E.jo.CUSTOM_APPLICATION_OIDC)&&0===(null==K?void 0:K.length)||1===(null==K?void 0:K.length)&&K[0]===S.AI.OIDC,onUpdate:Fe,applicationTemplateId:null==n?void 0:n.templateId,readOnly:w,"data-testid":"".concat(M,"-attribute-settings")}))},Ke=function(){var e;return s.createElement(l.M$.Pane,{controlledSegmentation:!0},s.createElement(xc,{application:n,appId:n.id,authenticationSequence:n.authenticationSequence,clientId:null==X||null===(e=X.oidc)||void 0===e?void 0:e.clientId,isLoading:d,onUpdate:Fe,featureConfig:o,readOnly:w,"data-testid":"".concat(M,"-sign-on-methods")}))},$e=function(){return s.createElement(l.M$.Pane,{controlledSegmentation:!0},s.createElement(Jc,{appId:n.id,advancedConfigurations:n.advancedConfigurations,onUpdate:Fe,featureConfig:o,readOnly:w,template:O,"data-testid":"".concat(M,"-advanced-settings")}))},Ye=function(){return m.applicationConfig.editApplication.showProvisioningSettings?s.createElement(l.M$.Pane,{controlledSegmentation:!0},s.createElement(vi,{application:n,provisioningConfigurations:n.provisioningConfigurations,onUpdate:Fe,featureConfig:o,readOnly:w,"data-testid":"".concat(M,"-provisioning-settings")})):null},Xe=function(){return s.createElement(l.M$.Pane,{controlledSegmentation:!0},s.createElement(eu,{application:n,onUpdate:Fe,readOnly:w,"data-testid":"".concat(M,"-shared-access")}))},Je=function(){return s.createElement(l.M$.Pane,{controlledSegmentation:!0},s.createElement(cu,{inboundProtocols:null==n?void 0:n.inboundProtocols,isOIDCConfigLoading:Ce,isSAMLConfigLoading:we,templateId:null==n?void 0:n.templateId,"data-testid":"".concat(M,"-server-endpoints")}))},et=function(){var e=[],t=[];if(!ie&&m.applicationConfig.editApplication.extendTabs&&(null==n?void 0:n.templateId)!==E.jo.CUSTOM_APPLICATION_OIDC&&(null==n?void 0:n.templateId)!==E.jo.CUSTOM_APPLICATION_PASSIVE_STS&&(null==n?void 0:n.templateId)!==E.jo.CUSTOM_APPLICATION_SAML)return[];if(ie&&ie.length>0&&t.push.apply(t,uu(ie)),o){var a,r,l,c,u,d,p,f,v,h;if((0,i.cr)(null==o?void 0:o.applications,E.jo.FEATURE_DICTIONARY.get("APPLICATION_EDIT_GENERAL_SETTINGS")))m.applicationConfig.editApplication.isTabEnabledForApp(null==X||null===(l=X.oidc)||void 0===l?void 0:l.clientId,S.wF.GENERAL,V)&&e.push({componentId:"general",menuItem:s.createElement(N.Z.Item,{"data-tourid":"general"},x("console:develop.features.applications.edit.sections.general.tabName")),render:function(){var e;return m.applicationConfig.editApplication.getOveriddenTab(null==X||null===(e=X.oidc)||void 0===e?void 0:e.clientId,S.wF.GENERAL,We(),n.name,n.id,V)}});if((0,i.cr)(null==o?void 0:o.applications,E.jo.FEATURE_DICTIONARY.get("APPLICATION_EDIT_ACCESS_CONFIG"))&&!je)m.applicationConfig.editApplication.isTabEnabledForApp(null==X||null===(c=X.oidc)||void 0===c?void 0:c.clientId,S.wF.PROTOCOL,V)&&e.push({componentId:"protocol",menuItem:x("console:develop.features.applications.edit.sections.access.tabName"),render:Ge});if((0,i.cr)(null==o?void 0:o.applications,E.jo.FEATURE_DICTIONARY.get("APPLICATION_EDIT_ATTRIBUTE_MAPPING"))&&!je)m.applicationConfig.editApplication.isTabEnabledForApp(null==X||null===(u=X.oidc)||void 0===u?void 0:u.clientId,S.wF.USER_ATTRIBUTES,V)&&e.push({componentId:"user-attributes",menuItem:s.createElement(N.Z.Item,{"data-tourid":"attributes"},x("console:develop.features.applications.edit.sections.attributes.tabName")),render:function(){var e;return m.applicationConfig.editApplication.getOveriddenTab(null==X||null===(e=X.oidc)||void 0===e?void 0:e.clientId,S.wF.USER_ATTRIBUTES,Qe(),n.name,n.id,V)}});if((0,i.cr)(null==o?void 0:o.applications,E.jo.FEATURE_DICTIONARY.get("APPLICATION_EDIT_SIGN_ON_METHOD_CONFIG")))m.applicationConfig.editApplication.isTabEnabledForApp(null==X||null===(d=X.oidc)||void 0===d?void 0:d.clientId,S.wF.SIGN_IN_METHOD,V)&&e.push({componentId:"sign-in-method",menuItem:s.createElement(N.Z.Item,{"data-tourid":"sign-in-methods"},x("console:develop.features.applications.edit.sections.signOnMethod.tabName")),render:Ke});if(m.applicationConfig.editApplication.showProvisioningSettings&&(0,i.cr)(null==o?void 0:o.applications,E.jo.FEATURE_DICTIONARY.get("APPLICATION_EDIT_PROVISIONING_SETTINGS"))&&!je)m.applicationConfig.editApplication.isTabEnabledForApp(null==X||null===(p=X.oidc)||void 0===p?void 0:p.clientId,S.wF.PROVISIONING,V)&&e.push({componentId:"provisioning",menuItem:x("console:develop.features.applications.edit.sections.provisioning.tabName"),render:Ye});if((0,i.cr)(null==o?void 0:o.applications,E.jo.FEATURE_DICTIONARY.get("APPLICATION_EDIT_ADVANCED_SETTINGS"))&&!je)m.applicationConfig.editApplication.isTabEnabledForApp(null==X||null===(f=X.oidc)||void 0===f?void 0:f.clientId,S.wF.ADVANCED,V)&&e.push({componentId:"advanced",menuItem:s.createElement(N.Z.Item,{"data-tourid":"advanced"},x("console:develop.features.applications.edit.sections.advanced.tabName")),render:$e});if((0,i.cr)(null==o?void 0:o.applications,E.jo.FEATURE_DICTIONARY.get("APPLICATION_EDIT_INFO"))&&(null==n?void 0:n.templateId)!=E.jo.CUSTOM_APPLICATION_PASSIVE_STS&&!je&&m.applicationConfig.editApplication.showApplicationShare&&(H||window.AppUtils.getConfig().organizationName)&&(0,i.Xr)(null==o?void 0:o.applications,null==o||null===(a=o.applications)||void 0===a||null===(r=a.scopes)||void 0===r?void 0:r.update,B)&&z!==g.$B.SUBORGANIZATION)m.applicationConfig.editApplication.isTabEnabledForApp(null==X||null===(v=X.oidc)||void 0===v?void 0:v.clientId,S.wF.INFO,V)&&e.push({componentId:"shared-access",menuItem:x("console:develop.features.applications.edit.sections.sharedAccess.tabName"),render:Xe});if((0,i.cr)(null==o?void 0:o.applications,E.jo.FEATURE_DICTIONARY.get("APPLICATION_EDIT_INFO"))&&(null==n?void 0:n.templateId)!=E.jo.CUSTOM_APPLICATION_PASSIVE_STS&&!je)m.applicationConfig.editApplication.isTabEnabledForApp(null==X||null===(h=X.oidc)||void 0===h?void 0:h.clientId,S.wF.INFO,V)&&e.push({componentId:"info",menuItem:{content:x("console:develop.features.applications.edit.sections.info.tabName"),icon:"info circle grey"},render:Je});return t.forEach((function(t){e.splice(t.index,0,t)})),e}return[{componentId:"general",menuItem:x("console:develop.features.applications.edit.sections.general.tabName"),render:We},{componentId:"protocol",menuItem:x("console:develop.features.applications.edit.sections.access.tabName"),render:Ge},{componentId:"user-attributes",menuItem:x("console:develop.features.applications.edit.sections.attributes.tabName"),render:Qe},{componentId:"sign-in-method",menuItem:x("console:develop.features.applications.edit.sections.signOnMethod.tabName"),render:Ke},m.applicationConfig.editApplication.showProvisioningSettings&&{componentId:"provisioning",menuItem:x("console:develop.features.applications.edit.sections.provisioning.tabName"),render:Ye},{componentId:"advanced",menuItem:x("console:develop.features.applications.edit.sections.advanced.tabName"),render:$e},{componentId:"shared-access",menuItem:x("console:develop.features.applications.edit.sections.sharedAccess.tabName"),render:Xe},{componentId:"info",menuItem:{content:x("console:develop.features.applications.edit.sections.info.tabName"),icon:"info circle grey"},render:Je}]};return!n||te||null==K||!ie&&m.applicationConfig.editApplication.extendTabs?s.createElement(l.pO,null):s.createElement(s.Fragment,null,s.createElement(l.M$,{isLoading:d,activeIndex:Re,"data-testid":"".concat(M,"-resource-tabs"),defaultActiveIndex:ke,onTabChange:function(e,t){Ze.compute((function(){Ze.publish("application-switch-edit-application-tabs",{type:t.panes[t.activeIndex].componentId})})),He(t.activeIndex)},panes:et(),onInitialize:function(e){var t=e.panesLength;xe(t)}}),he&&function(){if(!F)return null;if(!K.includes(S.AI.OIDC)||(0,L.Z)(null==X?void 0:X.oidc)||!X.oidc.clientId||!X.oidc.clientSecret)return null;var e=ye.clientSecret||X.oidc.clientSecret,t=ye.clientId||X.oidc.clientId;return s.createElement(l.cV,{"data-testid":"".concat(M,"-client-secret-hash-disclaimer-modal"),type:"warning",open:!0,primaryAction:x("common:confirm"),onPrimaryActionClick:function(){ge(!1),Ee({clientId:"",clientSecret:""})}},s.createElement(l.cV.Header,{"data-testid":"".concat(M,"-client-secret-hash-disclaimer-modal-header")},x("console:develop.features.applications.confirmations.clientSecretHashDisclaimer.modal.header")),s.createElement(l.cV.Message,{attached:!0,warning:!0,"data-testid":"".concat(M,"-client-secret-hash-disclaimer-modal-message")},x("console:develop.features.applications.confirmations.clientSecretHashDisclaimer.modal.message")),s.createElement(l.cV.Content,{"data-testid":"".concat(M,"-client-secret-hash-disclaimer-modal-content")},s.createElement(k.Z,null,s.createElement(P.Z.Row,null,s.createElement(P.Z.Column,null,s.createElement(k.Z.Field,null,s.createElement("label",null,x("console:develop.features.applications.confirmations.clientSecretHashDisclaimer.forms.clientIdSecretForm.clientId.label")),s.createElement(l.OR,{value:t,hideSecretLabel:x("console:develop.features.applications.confirmations.clientSecretHashDisclaimer.forms.clientIdSecretForm.clientId.hide"),showSecretLabel:x("console:develop.features.applications.confirmations.clientSecretHashDisclaimer.forms.clientIdSecretForm.clientId.show"),"data-testid":"".concat(M,"-client-secret-readonly-input")})),s.createElement(k.Z.Field,null,s.createElement("label",null,x("console:develop.features.applications.confirmations.clientSecretHashDisclaimer.forms.clientIdSecretForm.clientSecret.label")),s.createElement(l.OR,{secret:!0,value:e,hideSecretLabel:x("console:develop.features.applications.confirmations.clientSecretHashDisclaimer.forms.clientIdSecretForm.clientSecret.hide"),showSecretLabel:x("console:develop.features.applications.confirmations.clientSecretHashDisclaimer.forms.clientIdSecretForm.clientSecret.show"),"data-testid":"".concat(M,"-client-secret-readonly-input")})))))))}())};gu.defaultProps={"data-testid":"edit-application",getConfiguredInboundProtocolConfigs:function(){return null},getConfiguredInboundProtocolsList:function(){return null}}},5933:(e,t,n)=>{"use strict";n.d(t,{Y:()=>o});var o={console:{application:{enabled:!0,signIn:{adaptiveAuth:{enabled:!0},enabled:!0}},enabled:!0}}},47533:(e,t,n)=>{"use strict";n.d(t,{K:()=>a});var o=n(52983),i=n(5933),a=(0,o.createContext)({dispatch:function(){return null},features:i.Y})},9942:e=>{"use strict";var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)};var n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function o(e,t){return!1!==t.clone&&t.isMergeableObject(e)?s((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function i(e,t,n){return e.concat(t).map((function(e){return o(e,n)}))}function a(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function r(e,t){try{return t in e}catch(n){return!1}}function l(e,t,n){var i={};return n.isMergeableObject(e)&&a(e).forEach((function(t){i[t]=o(e[t],n)})),a(t).forEach((function(a){(function(e,t){return r(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,a)||(r(e,a)&&n.isMergeableObject(t[a])?i[a]=function(e,t){if(!t.customMerge)return s;var n=t.customMerge(e);return"function"==typeof n?n:s}(a,n)(e[a],t[a],n):i[a]=o(t[a],n))})),i}function s(e,n,a){(a=a||{}).arrayMerge=a.arrayMerge||i,a.isMergeableObject=a.isMergeableObject||t,a.cloneUnlessOtherwiseSpecified=o;var r=Array.isArray(n);return r===Array.isArray(e)?r?a.arrayMerge(e,n,a):l(e,n,a):o(n,a)}s.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return s(e,n,t)}),{})};var c=s;e.exports=c},46004:(e,t)=>{"use strict";var n=function(e,t,n,o){return"boolean"==typeof e?e:"function"==typeof e?e(t,n,o):!(!0!=!!e||!e)},o=function(e,t){return Object.hasOwnProperty.call(e,t)},i=function(e,t,n,o){return o?new Error(o):new Error("Required "+e[t]+" `"+t+"` was not specified in `"+n+"`.")};t.Z=function(e,t,a){return function(e,t){if("function"!=typeof e)throw new TypeError("The typeValidator argument must be a function with the signature function(props, propName, componentName).");if(t&&"string"!=typeof t)throw new TypeError("The error message is optional, but must be a string if provided.")}(e,a),function(r,l,s){for(var c=arguments.length,u=Array(3<c?c-3:0),d=3;d<c;d++)u[d-3]=arguments[d];return n(t,r,l,s)?o(r,l)?e.apply(void 0,[r,l,s].concat(u)):i(r,l,s,a):e.apply(void 0,[r,l,s].concat(u))}}},48879:e=>{var t=new Error("Element already at target scroll position"),n=new Error("Scroll cancelled"),o=Math.min,i=Date.now;function a(e){return function(a,s,c,u){"function"==typeof(c=c||{})&&(u=c,c={}),"function"!=typeof u&&(u=l);var d=i(),p=a[e],f=c.ease||r,m=isNaN(c.duration)?350:+c.duration,v=!1;return p===s?u(t,a[e]):requestAnimationFrame((function t(r){if(v)return u(n,a[e]);var l=i(),c=o(1,(l-d)/m),h=f(c);a[e]=h*(s-p)+p,c<1?requestAnimationFrame(t):requestAnimationFrame((function(){u(null,a[e])}))})),function(){v=!0}}}function r(e){return.5*(1-Math.cos(Math.PI*e))}function l(){}e.exports={left:a("scrollLeft"),top:a("scrollTop")}},47929:function(e,t){var n,o,i;o=[],void 0===(i="function"==typeof(n=function(){var e=/(auto|scroll)/,t=function(e,n){return null===e.parentNode?n:t(e.parentNode,n.concat([e]))},n=function(e,t){return getComputedStyle(e,null).getPropertyValue(t)},o=function(e){return n(e,"overflow")+n(e,"overflow-y")+n(e,"overflow-x")},i=function(t){return e.test(o(t))};return function(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(var n=t(e.parentNode,[]),o=0;o<n.length;o+=1)if(i(n[o]))return n[o];return document.scrollingElement||document.documentElement}}})?n.apply(t,o):n)||(e.exports=i)}}]);